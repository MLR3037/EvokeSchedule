(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(s){if(s.ep)return;s.ep=!0;const u=i(s);fetch(s.href,u)}})();function qy(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var Td={exports:{}},Ho={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function mT(){if(Qp)return Ho;Qp=1;var c=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,s,u){var h=null;if(u!==void 0&&(h=""+u),s.key!==void 0&&(h=""+s.key),"key"in s){u={};for(var m in s)m!=="key"&&(u[m]=s[m])}else u=s;return s=u.ref,{$$typeof:c,type:r,key:h,ref:s!==void 0?s:null,props:u}}return Ho.Fragment=t,Ho.jsx=i,Ho.jsxs=i,Ho}var Yp;function pT(){return Yp||(Yp=1,Td.exports=mT()),Td.exports}var f=pT(),bd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function yT(){if($p)return Re;$p=1;var c=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),w=Symbol.iterator;function R(T){return T===null||typeof T!="object"?null:(T=w&&T[w]||T["@@iterator"],typeof T=="function"?T:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ue=Object.assign,fe={};function xe(T,q,ie){this.props=T,this.context=q,this.refs=fe,this.updater=ie||B}xe.prototype.isReactComponent={},xe.prototype.setState=function(T,q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,q,"setState")},xe.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function st(){}st.prototype=xe.prototype;function Ge(T,q,ie){this.props=T,this.context=q,this.refs=fe,this.updater=ie||B}var lt=Ge.prototype=new st;lt.constructor=Ge,ue(lt,xe.prototype),lt.isPureReactComponent=!0;var X=Array.isArray,be={H:null,A:null,T:null,S:null,V:null},Gt=Object.prototype.hasOwnProperty;function Ot(T,q,ie,ee,ge,ke){return ie=ke.ref,{$$typeof:c,type:T,key:q,ref:ie!==void 0?ie:null,props:ke}}function qt(T,q){return Ot(T.type,q,void 0,void 0,void 0,T.props)}function An(T){return typeof T=="object"&&T!==null&&T.$$typeof===c}function _i(T){var q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ie){return q[ie]})}var Cn=/\/+/g;function Rt(T,q){return typeof T=="object"&&T!==null&&T.key!=null?_i(""+T.key):q.toString(36)}function Qn(){}function si(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Qn,Qn):(T.status="pending",T.then(function(q){T.status==="pending"&&(T.status="fulfilled",T.value=q)},function(q){T.status==="pending"&&(T.status="rejected",T.reason=q)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Ct(T,q,ie,ee,ge){var ke=typeof T;(ke==="undefined"||ke==="boolean")&&(T=null);var Se=!1;if(T===null)Se=!0;else switch(ke){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(T.$$typeof){case c:case t:Se=!0;break;case C:return Se=T._init,Ct(Se(T._payload),q,ie,ee,ge)}}if(Se)return ge=ge(T),Se=ee===""?"."+Rt(T,0):ee,X(ge)?(ie="",Se!=null&&(ie=Se.replace(Cn,"$&/")+"/"),Ct(ge,q,ie,"",function(Yn){return Yn})):ge!=null&&(An(ge)&&(ge=qt(ge,ie+(ge.key==null||T&&T.key===ge.key?"":(""+ge.key).replace(Cn,"$&/")+"/")+Se)),q.push(ge)),1;Se=0;var Ft=ee===""?".":ee+":";if(X(T))for(var We=0;We<T.length;We++)ee=T[We],ke=Ft+Rt(ee,We),Se+=Ct(ee,q,ie,ke,ge);else if(We=R(T),typeof We=="function")for(T=We.call(T),We=0;!(ee=T.next()).done;)ee=ee.value,ke=Ft+Rt(ee,We++),Se+=Ct(ee,q,ie,ke,ge);else if(ke==="object"){if(typeof T.then=="function")return Ct(si(T),q,ie,ee,ge);throw q=String(T),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Se}function D(T,q,ie){if(T==null)return T;var ee=[],ge=0;return Ct(T,ee,"","",function(ke){return q.call(ie,ke,ge++)}),ee}function te(T){if(T._status===-1){var q=T._result;q=q(),q.then(function(ie){(T._status===0||T._status===-1)&&(T._status=1,T._result=ie)},function(ie){(T._status===0||T._status===-1)&&(T._status=2,T._result=ie)}),T._status===-1&&(T._status=0,T._result=q)}if(T._status===1)return T._result.default;throw T._result}var pe=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Ke(){}return Re.Children={map:D,forEach:function(T,q,ie){D(T,function(){q.apply(this,arguments)},ie)},count:function(T){var q=0;return D(T,function(){q++}),q},toArray:function(T){return D(T,function(q){return q})||[]},only:function(T){if(!An(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Re.Component=xe,Re.Fragment=i,Re.Profiler=s,Re.PureComponent=Ge,Re.StrictMode=r,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=be,Re.__COMPILER_RUNTIME={__proto__:null,c:function(T){return be.H.useMemoCache(T)}},Re.cache=function(T){return function(){return T.apply(null,arguments)}},Re.cloneElement=function(T,q,ie){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var ee=ue({},T.props),ge=T.key,ke=void 0;if(q!=null)for(Se in q.ref!==void 0&&(ke=void 0),q.key!==void 0&&(ge=""+q.key),q)!Gt.call(q,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&q.ref===void 0||(ee[Se]=q[Se]);var Se=arguments.length-2;if(Se===1)ee.children=ie;else if(1<Se){for(var Ft=Array(Se),We=0;We<Se;We++)Ft[We]=arguments[We+2];ee.children=Ft}return Ot(T.type,ge,void 0,void 0,ke,ee)},Re.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},Re.createElement=function(T,q,ie){var ee,ge={},ke=null;if(q!=null)for(ee in q.key!==void 0&&(ke=""+q.key),q)Gt.call(q,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ge[ee]=q[ee]);var Se=arguments.length-2;if(Se===1)ge.children=ie;else if(1<Se){for(var Ft=Array(Se),We=0;We<Se;We++)Ft[We]=arguments[We+2];ge.children=Ft}if(T&&T.defaultProps)for(ee in Se=T.defaultProps,Se)ge[ee]===void 0&&(ge[ee]=Se[ee]);return Ot(T,ke,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(T){return{$$typeof:m,render:T}},Re.isValidElement=An,Re.lazy=function(T){return{$$typeof:C,_payload:{_status:-1,_result:T},_init:te}},Re.memo=function(T,q){return{$$typeof:v,type:T,compare:q===void 0?null:q}},Re.startTransition=function(T){var q=be.T,ie={};be.T=ie;try{var ee=T(),ge=be.S;ge!==null&&ge(ie,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Ke,pe)}catch(ke){pe(ke)}finally{be.T=q}},Re.unstable_useCacheRefresh=function(){return be.H.useCacheRefresh()},Re.use=function(T){return be.H.use(T)},Re.useActionState=function(T,q,ie){return be.H.useActionState(T,q,ie)},Re.useCallback=function(T,q){return be.H.useCallback(T,q)},Re.useContext=function(T){return be.H.useContext(T)},Re.useDebugValue=function(){},Re.useDeferredValue=function(T,q){return be.H.useDeferredValue(T,q)},Re.useEffect=function(T,q,ie){var ee=be.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(T,q)},Re.useId=function(){return be.H.useId()},Re.useImperativeHandle=function(T,q,ie){return be.H.useImperativeHandle(T,q,ie)},Re.useInsertionEffect=function(T,q){return be.H.useInsertionEffect(T,q)},Re.useLayoutEffect=function(T,q){return be.H.useLayoutEffect(T,q)},Re.useMemo=function(T,q){return be.H.useMemo(T,q)},Re.useOptimistic=function(T,q){return be.H.useOptimistic(T,q)},Re.useReducer=function(T,q,ie){return be.H.useReducer(T,q,ie)},Re.useRef=function(T){return be.H.useRef(T)},Re.useState=function(T){return be.H.useState(T)},Re.useSyncExternalStore=function(T,q,ie){return be.H.useSyncExternalStore(T,q,ie)},Re.useTransition=function(){return be.H.useTransition()},Re.version="19.1.1",Re}var Vp;function eh(){return Vp||(Vp=1,bd.exports=yT()),bd.exports}var He=eh();const th=qy(He);var Ed={exports:{}},Lo={},wd={exports:{}},Rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function vT(){return Xp||(Xp=1,(function(c){function t(D,te){var pe=D.length;D.push(te);e:for(;0<pe;){var Ke=pe-1>>>1,T=D[Ke];if(0<s(T,te))D[Ke]=te,D[pe]=T,pe=Ke;else break e}}function i(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var te=D[0],pe=D.pop();if(pe!==te){D[0]=pe;e:for(var Ke=0,T=D.length,q=T>>>1;Ke<q;){var ie=2*(Ke+1)-1,ee=D[ie],ge=ie+1,ke=D[ge];if(0>s(ee,pe))ge<T&&0>s(ke,ee)?(D[Ke]=ke,D[ge]=pe,Ke=ge):(D[Ke]=ee,D[ie]=pe,Ke=ie);else if(ge<T&&0>s(ke,pe))D[Ke]=ke,D[ge]=pe,Ke=ge;else break e}}return te}function s(D,te){var pe=D.sortIndex-te.sortIndex;return pe!==0?pe:D.id-te.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;c.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();c.unstable_now=function(){return h.now()-m}}var p=[],v=[],C=1,w=null,R=3,B=!1,ue=!1,fe=!1,xe=!1,st=typeof setTimeout=="function"?setTimeout:null,Ge=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function X(D){for(var te=i(v);te!==null;){if(te.callback===null)r(v);else if(te.startTime<=D)r(v),te.sortIndex=te.expirationTime,t(p,te);else break;te=i(v)}}function be(D){if(fe=!1,X(D),!ue)if(i(p)!==null)ue=!0,Gt||(Gt=!0,Rt());else{var te=i(v);te!==null&&Ct(be,te.startTime-D)}}var Gt=!1,Ot=-1,qt=5,An=-1;function _i(){return xe?!0:!(c.unstable_now()-An<qt)}function Cn(){if(xe=!1,Gt){var D=c.unstable_now();An=D;var te=!0;try{e:{ue=!1,fe&&(fe=!1,Ge(Ot),Ot=-1),B=!0;var pe=R;try{t:{for(X(D),w=i(p);w!==null&&!(w.expirationTime>D&&_i());){var Ke=w.callback;if(typeof Ke=="function"){w.callback=null,R=w.priorityLevel;var T=Ke(w.expirationTime<=D);if(D=c.unstable_now(),typeof T=="function"){w.callback=T,X(D),te=!0;break t}w===i(p)&&r(p),X(D)}else r(p);w=i(p)}if(w!==null)te=!0;else{var q=i(v);q!==null&&Ct(be,q.startTime-D),te=!1}}break e}finally{w=null,R=pe,B=!1}te=void 0}}finally{te?Rt():Gt=!1}}}var Rt;if(typeof lt=="function")Rt=function(){lt(Cn)};else if(typeof MessageChannel<"u"){var Qn=new MessageChannel,si=Qn.port2;Qn.port1.onmessage=Cn,Rt=function(){si.postMessage(null)}}else Rt=function(){st(Cn,0)};function Ct(D,te){Ot=st(function(){D(c.unstable_now())},te)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(D){D.callback=null},c.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qt=0<D?Math.floor(1e3/D):5},c.unstable_getCurrentPriorityLevel=function(){return R},c.unstable_next=function(D){switch(R){case 1:case 2:case 3:var te=3;break;default:te=R}var pe=R;R=te;try{return D()}finally{R=pe}},c.unstable_requestPaint=function(){xe=!0},c.unstable_runWithPriority=function(D,te){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var pe=R;R=D;try{return te()}finally{R=pe}},c.unstable_scheduleCallback=function(D,te,pe){var Ke=c.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ke+pe:Ke):pe=Ke,D){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=pe+T,D={id:C++,callback:te,priorityLevel:D,startTime:pe,expirationTime:T,sortIndex:-1},pe>Ke?(D.sortIndex=pe,t(v,D),i(p)===null&&D===i(v)&&(fe?(Ge(Ot),Ot=-1):fe=!0,Ct(be,pe-Ke))):(D.sortIndex=T,t(p,D),ue||B||(ue=!0,Gt||(Gt=!0,Rt()))),D},c.unstable_shouldYield=_i,c.unstable_wrapCallback=function(D){var te=R;return function(){var pe=R;R=te;try{return D.apply(this,arguments)}finally{R=pe}}}})(Rd)),Rd}var Jp;function AT(){return Jp||(Jp=1,wd.exports=vT()),wd.exports}var _d={exports:{}},zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function CT(){if(Zp)return zt;Zp=1;var c=eh();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)v+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function u(p,v,C){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:w==null?null:""+w,children:p,containerInfo:v,implementation:C}}var h=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zt.createPortal=function(p,v){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(p,v,null,C)},zt.flushSync=function(p){var v=h.T,C=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=v,r.p=C,r.d.f()}},zt.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(p,v))},zt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},zt.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var C=v.as,w=m(C,v.crossOrigin),R=typeof v.integrity=="string"?v.integrity:void 0,B=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;C==="style"?r.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:R,fetchPriority:B}):C==="script"&&r.d.X(p,{crossOrigin:w,integrity:R,fetchPriority:B,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},zt.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var C=m(v.as,v.crossOrigin);r.d.M(p,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(p)},zt.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var C=v.as,w=m(C,v.crossOrigin);r.d.L(p,C,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},zt.preloadModule=function(p,v){if(typeof p=="string")if(v){var C=m(v.as,v.crossOrigin);r.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(p)},zt.requestFormReset=function(p){r.d.r(p)},zt.unstable_batchedUpdates=function(p,v){return p(v)},zt.useFormState=function(p,v,C){return h.H.useFormState(p,v,C)},zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},zt.version="19.1.1",zt}var Wp;function ST(){if(Wp)return _d.exports;Wp=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(t){console.error(t)}}return c(),_d.exports=CT(),_d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function TT(){if(ey)return Lo;ey=1;var c=AT(),t=eh(),i=ST();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(r(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var l=a.return;if(l===null)break;var d=l.alternate;if(d===null){if(o=l.return,o!==null){a=o;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===a)return m(l),e;if(d===o)return m(l),n;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=l,o=d;else{for(var g=!1,y=l.child;y;){if(y===a){g=!0,a=l,o=d;break}if(y===o){g=!0,o=l,a=d;break}y=y.sibling}if(!g){for(y=d.child;y;){if(y===a){g=!0,a=d,o=l;break}if(y===o){g=!0,o=d,a=l;break}y=y.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var C=Object.assign,w=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),ue=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),st=Symbol.for("react.provider"),Ge=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Gt=Symbol.for("react.suspense_list"),Ot=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),An=Symbol.for("react.activity"),_i=Symbol.for("react.memo_cache_sentinel"),Cn=Symbol.iterator;function Rt(e){return e===null||typeof e!="object"?null:(e=Cn&&e[Cn]||e["@@iterator"],typeof e=="function"?e:null)}var Qn=Symbol.for("react.client.reference");function si(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Qn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ue:return"Fragment";case xe:return"Profiler";case fe:return"StrictMode";case be:return"Suspense";case Gt:return"SuspenseList";case An:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case lt:return(e.displayName||"Context")+".Provider";case Ge:return(e._context.displayName||"Context")+".Consumer";case X:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ot:return n=e.displayName||null,n!==null?n:si(e.type)||"Memo";case qt:n=e._payload,e=e._init;try{return si(e(n))}catch{}}return null}var Ct=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ke=[],T=-1;function q(e){return{current:e}}function ie(e){0>T||(e.current=Ke[T],Ke[T]=null,T--)}function ee(e,n){T++,Ke[T]=e.current,e.current=n}var ge=q(null),ke=q(null),Se=q(null),Ft=q(null);function We(e,n){switch(ee(Se,n),ee(ke,e),ee(ge,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Cp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Cp(n),e=Sp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ie(ge),ee(ge,e)}function Yn(){ie(ge),ie(ke),ie(Se)}function zr(e){e.memoizedState!==null&&ee(Ft,e);var n=ge.current,a=Sp(n,e.type);n!==a&&(ee(ke,e),ee(ge,a))}function Ba(e){ke.current===e&&(ie(ge),ie(ke)),Ft.current===e&&(ie(Ft),Oo._currentValue=pe)}var Kr=Object.prototype.hasOwnProperty,Ii=c.unstable_scheduleCallback,za=c.unstable_cancelCallback,Ka=c.unstable_shouldYield,Sn=c.unstable_requestPaint,Tn=c.unstable_now,Dn=c.unstable_getCurrentPriorityLevel,as=c.unstable_ImmediatePriority,rs=c.unstable_UserBlockingPriority,li=c.unstable_NormalPriority,Ga=c.unstable_LowPriority,da=c.unstable_IdlePriority,os=c.log,ss=c.unstable_setDisableYieldValue,Ni=null,ct=null;function pt(e){if(typeof os=="function"&&ss(e),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(Ni,e)}catch{}}var Qt=Math.clz32?Math.clz32:mc,Gr=Math.log,gc=Math.LN2;function mc(e){return e>>>=0,e===0?32:31-(Gr(e)/gc|0)|0}var qa=256,Fa=4194304;function $n(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qa(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var l=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var y=o&134217727;return y!==0?(o=y&~d,o!==0?l=$n(o):(g&=y,g!==0?l=$n(g):a||(a=y&~e,a!==0&&(l=$n(a))))):(y=o&~d,y!==0?l=$n(y):g!==0?l=$n(g):a||(a=o&~e,a!==0&&(l=$n(a)))),l===0?0:n!==0&&n!==l&&(n&d)===0&&(d=l&-l,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:l}function ha(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function A(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k(){var e=qa;return qa<<=1,(qa&4194048)===0&&(qa=256),e}function F(){var e=Fa;return Fa<<=1,(Fa&62914560)===0&&(Fa=4194304),e}function J(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function de(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function x(e,n,a,o,l,d){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,S=e.expirationTimes,N=e.hiddenUpdates;for(a=g&~a;0<a;){var U=31-Qt(a),K=1<<U;y[U]=0,S[U]=-1;var M=N[U];if(M!==null)for(N[U]=null,U=0;U<M.length;U++){var O=M[U];O!==null&&(O.lane&=-536870913)}a&=~K}o!==0&&Ee(e,o,0),d!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~n))}function Ee(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Qt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function De(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Qt(a),l=1<<o;l&n|e[o]&n&&(e[o]|=n),a&=~l}}function qe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function at(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function St(){var e=te.p;return e!==0?e:(e=window.event,e===void 0?32:Bp(e.type))}function kt(e,n){var a=te.p;try{return te.p=e,n()}finally{te.p=a}}var Te=Math.random().toString(36).slice(2),z="__reactFiber$"+Te,Q="__reactProps$"+Te,re="__reactContainer$"+Te,Y="__reactEvents$"+Te,V="__reactListeners$"+Te,G="__reactHandles$"+Te,L="__reactResources$"+Te,Z="__reactMarker$"+Te;function oe(e){delete e[z],delete e[Q],delete e[Y],delete e[V],delete e[G]}function ce(e){var n=e[z];if(n)return n;for(var a=e.parentNode;a;){if(n=a[re]||a[z]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=wp(e);e!==null;){if(a=e[z])return a;e=wp(e)}return n}e=a,a=e.parentNode}return null}function ae(e){if(e=e[z]||e[re]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function we(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function W(e){var n=e[L];return n||(n=e[L]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(e){e[Z]=!0}var Pe=new Set,Dt={};function Le(e,n){_t(e,n),_t(e+"Capture",n)}function _t(e,n){for(Dt[e]=n,e=0;e<n.length;e++)Pe.add(n[e])}var Un=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rn={},Vn={};function fa(e){return Kr.call(Vn,e)?!0:Kr.call(rn,e)?!1:Un.test(e)?Vn[e]=!0:(rn[e]=!0,!1)}function xi(e,n,a){if(fa(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Mi(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Xn(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var pc,ff;function Ya(e){if(pc===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);pc=n&&n[1]||"",ff=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pc+e+ff}var yc=!1;function vc(e,n){if(!e||yc)return"";yc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(O){var M=O}Reflect.construct(e,[],K)}else{try{K.call()}catch(O){M=O}e.call(K.prototype)}}else{try{throw Error()}catch(O){M=O}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(O){if(O&&M&&typeof O.stack=="string")return[O.stack,M.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),g=d[0],y=d[1];if(g&&y){var S=g.split(`
`),N=y.split(`
`);for(l=o=0;o<S.length&&!S[o].includes("DetermineComponentFrameRoot");)o++;for(;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;if(o===S.length||l===N.length)for(o=S.length-1,l=N.length-1;1<=o&&0<=l&&S[o]!==N[l];)l--;for(;1<=o&&0<=l;o--,l--)if(S[o]!==N[l]){if(o!==1||l!==1)do if(o--,l--,0>l||S[o]!==N[l]){var U=`
`+S[o].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=o&&0<=l);break}}}finally{yc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ya(a):""}function cC(e){switch(e.tag){case 26:case 27:case 5:return Ya(e.type);case 16:return Ya("Lazy");case 13:return Ya("Suspense");case 19:return Ya("SuspenseList");case 0:case 15:return vc(e.type,!1);case 11:return vc(e.type.render,!1);case 1:return vc(e.type,!0);case 31:return Ya("Activity");default:return""}}function gf(e){try{var n="";do n+=cC(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function uC(e){var n=mf(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var l=a.get,d=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return l.call(this)},set:function(g){o=""+g,d.call(this,g)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ls(e){e._valueTracker||(e._valueTracker=uC(e))}function pf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=mf(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function cs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dC=/[\n"\\]/g;function En(e){return e.replace(dC,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ac(e,n,a,o,l,d,g,y){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+bn(n)):e.value!==""+bn(n)&&(e.value=""+bn(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Cc(e,g,bn(n)):a!=null?Cc(e,g,bn(a)):o!=null&&e.removeAttribute("value"),l==null&&d!=null&&(e.defaultChecked=!!d),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+bn(y):e.removeAttribute("name")}function yf(e,n,a,o,l,d,g,y){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+bn(a):"",n=n!=null?""+bn(n):a,y||n===e.value||(e.value=n),e.defaultValue=n}o=o??l,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=y?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function Cc(e,n,a){n==="number"&&cs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function $a(e,n,a,o){if(e=e.options,n){n={};for(var l=0;l<a.length;l++)n["$"+a[l]]=!0;for(a=0;a<e.length;a++)l=n.hasOwnProperty("$"+e[a].value),e[a].selected!==l&&(e[a].selected=l),l&&o&&(e[a].defaultSelected=!0)}else{for(a=""+bn(a),n=null,l=0;l<e.length;l++){if(e[l].value===a){e[l].selected=!0,o&&(e[l].defaultSelected=!0);return}n!==null||e[l].disabled||(n=e[l])}n!==null&&(n.selected=!0)}}function vf(e,n,a){if(n!=null&&(n=""+bn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+bn(a):""}function Af(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ct(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=bn(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Va(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var hC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cf(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||hC.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Sf(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var l in n)o=n[l],n.hasOwnProperty(l)&&a[l]!==o&&Cf(e,l,o)}else for(var d in n)n.hasOwnProperty(d)&&Cf(e,d,n[d])}function Sc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function us(e){return gC.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tc=null;function bc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xa=null,Ja=null;function Tf(e){var n=ae(e);if(n&&(e=n.stateNode)){var a=e[Q]||null;e:switch(e=n.stateNode,n.type){case"input":if(Ac(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+En(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var l=o[Q]||null;if(!l)throw Error(r(90));Ac(o,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&pf(o)}break e;case"textarea":vf(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&$a(e,!!a.multiple,n,!1)}}}var Ec=!1;function bf(e,n,a){if(Ec)return e(n,a);Ec=!0;try{var o=e(n);return o}finally{if(Ec=!1,(Xa!==null||Ja!==null)&&(Vs(),Xa&&(n=Xa,e=Ja,Ja=Xa=null,Tf(n),e)))for(n=0;n<e.length;n++)Tf(e[n])}}function qr(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Q]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wc=!1;if(ci)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){wc=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{wc=!1}var Oi=null,Rc=null,ds=null;function Ef(){if(ds)return ds;var e,n=Rc,a=n.length,o,l="value"in Oi?Oi.value:Oi.textContent,d=l.length;for(e=0;e<a&&n[e]===l[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===l[d-o];o++);return ds=l.slice(e,1<o?1-o:void 0)}function hs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function fs(){return!0}function wf(){return!1}function Jt(e){function n(a,o,l,d,g){this._reactName=a,this._targetInst=l,this.type=o,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?fs:wf,this.isPropagationStopped=wf,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),n}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gs=Jt(ga),Qr=C({},ga,{view:0,detail:0}),mC=Jt(Qr),_c,Ic,Yr,ms=C({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yr&&(Yr&&e.type==="mousemove"?(_c=e.screenX-Yr.screenX,Ic=e.screenY-Yr.screenY):Ic=_c=0,Yr=e),_c)},movementY:function(e){return"movementY"in e?e.movementY:Ic}}),Rf=Jt(ms),pC=C({},ms,{dataTransfer:0}),yC=Jt(pC),vC=C({},Qr,{relatedTarget:0}),Nc=Jt(vC),AC=C({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),CC=Jt(AC),SC=C({},ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TC=Jt(SC),bC=C({},ga,{data:0}),_f=Jt(bC),EC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _C(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=RC[e])?!!n[e]:!1}function xc(){return _C}var IC=C({},Qr,{key:function(e){if(e.key){var n=EC[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(e){return e.type==="keypress"?hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NC=Jt(IC),xC=C({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),If=Jt(xC),MC=C({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),OC=Jt(MC),kC=C({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),DC=Jt(kC),UC=C({},ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PC=Jt(UC),HC=C({},ga,{newState:0,oldState:0}),LC=Jt(HC),jC=[9,13,27,32],Mc=ci&&"CompositionEvent"in window,$r=null;ci&&"documentMode"in document&&($r=document.documentMode);var BC=ci&&"TextEvent"in window&&!$r,Nf=ci&&(!Mc||$r&&8<$r&&11>=$r),xf=" ",Mf=!1;function Of(e,n){switch(e){case"keyup":return jC.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Za=!1;function zC(e,n){switch(e){case"compositionend":return kf(n);case"keypress":return n.which!==32?null:(Mf=!0,xf);case"textInput":return e=n.data,e===xf&&Mf?null:e;default:return null}}function KC(e,n){if(Za)return e==="compositionend"||!Mc&&Of(e,n)?(e=Ef(),ds=Rc=Oi=null,Za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Nf&&n.locale!=="ko"?null:n.data;default:return null}}var GC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Df(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!GC[e.type]:n==="textarea"}function Uf(e,n,a,o){Xa?Ja?Ja.push(o):Ja=[o]:Xa=o,n=tl(n,"onChange"),0<n.length&&(a=new gs("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Vr=null,Xr=null;function qC(e){mp(e,0)}function ps(e){var n=we(e);if(pf(n))return e}function Pf(e,n){if(e==="change")return n}var Hf=!1;if(ci){var Oc;if(ci){var kc="oninput"in document;if(!kc){var Lf=document.createElement("div");Lf.setAttribute("oninput","return;"),kc=typeof Lf.oninput=="function"}Oc=kc}else Oc=!1;Hf=Oc&&(!document.documentMode||9<document.documentMode)}function jf(){Vr&&(Vr.detachEvent("onpropertychange",Bf),Xr=Vr=null)}function Bf(e){if(e.propertyName==="value"&&ps(Xr)){var n=[];Uf(n,Xr,e,bc(e)),bf(qC,n)}}function FC(e,n,a){e==="focusin"?(jf(),Vr=n,Xr=a,Vr.attachEvent("onpropertychange",Bf)):e==="focusout"&&jf()}function QC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ps(Xr)}function YC(e,n){if(e==="click")return ps(n)}function $C(e,n){if(e==="input"||e==="change")return ps(n)}function VC(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var on=typeof Object.is=="function"?Object.is:VC;function Jr(e,n){if(on(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var l=a[o];if(!Kr.call(n,l)||!on(e[l],n[l]))return!1}return!0}function zf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kf(e,n){var a=zf(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zf(a)}}function Gf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Gf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function qf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=cs(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=cs(e.document)}return n}function Dc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var XC=ci&&"documentMode"in document&&11>=document.documentMode,Wa=null,Uc=null,Zr=null,Pc=!1;function Ff(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pc||Wa==null||Wa!==cs(o)||(o=Wa,"selectionStart"in o&&Dc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Zr&&Jr(Zr,o)||(Zr=o,o=tl(Uc,"onSelect"),0<o.length&&(n=new gs("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Wa)))}function ma(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var er={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},Hc={},Qf={};ci&&(Qf=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function pa(e){if(Hc[e])return Hc[e];if(!er[e])return e;var n=er[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Qf)return Hc[e]=n[a];return e}var Yf=pa("animationend"),$f=pa("animationiteration"),Vf=pa("animationstart"),JC=pa("transitionrun"),ZC=pa("transitionstart"),WC=pa("transitioncancel"),Xf=pa("transitionend"),Jf=new Map,Lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lc.push("scrollEnd");function Pn(e,n){Jf.set(e,n),Le(n,[e])}var Zf=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var a=Zf.get(e);return a!==void 0?a:(n={value:e,source:n,stack:gf(n)},Zf.set(e,n),n)}return{value:e,source:n,stack:gf(n)}}var Rn=[],tr=0,jc=0;function ys(){for(var e=tr,n=jc=tr=0;n<e;){var a=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var d=Rn[n];if(Rn[n++]=null,o!==null&&l!==null){var g=o.pending;g===null?l.next=l:(l.next=g.next,g.next=l),o.pending=l}d!==0&&Wf(a,l,d)}}function vs(e,n,a,o){Rn[tr++]=e,Rn[tr++]=n,Rn[tr++]=a,Rn[tr++]=o,jc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Bc(e,n,a,o){return vs(e,n,a,o),As(e)}function nr(e,n){return vs(e,null,null,n),As(e)}function Wf(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var l=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(l=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,l&&n!==null&&(l=31-Qt(a),e=d.hiddenUpdates,o=e[l],o===null?e[l]=[n]:o.push(n),n.lane=a|536870912),d):null}function As(e){if(50<Eo)throw Eo=0,Qu=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ir={};function eS(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,n,a,o){return new eS(e,n,a,o)}function zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ui(e,n){var a=e.alternate;return a===null?(a=sn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function eg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cs(e,n,a,o,l,d){var g=0;if(o=e,typeof e=="function")zc(e)&&(g=1);else if(typeof e=="string")g=nT(e,a,ge.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case An:return e=sn(31,a,n,l),e.elementType=An,e.lanes=d,e;case ue:return ya(a.children,l,d,n);case fe:g=8,l|=24;break;case xe:return e=sn(12,a,n,l|2),e.elementType=xe,e.lanes=d,e;case be:return e=sn(13,a,n,l),e.elementType=be,e.lanes=d,e;case Gt:return e=sn(19,a,n,l),e.elementType=Gt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:case lt:g=10;break e;case Ge:g=9;break e;case X:g=11;break e;case Ot:g=14;break e;case qt:g=16,o=null;break e}g=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=sn(g,a,n,l),n.elementType=e,n.type=o,n.lanes=d,n}function ya(e,n,a,o){return e=sn(7,e,o,n),e.lanes=a,e}function Kc(e,n,a){return e=sn(6,e,null,n),e.lanes=a,e}function Gc(e,n,a){return n=sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ar=[],rr=0,Ss=null,Ts=0,_n=[],In=0,va=null,di=1,hi="";function Aa(e,n){ar[rr++]=Ts,ar[rr++]=Ss,Ss=e,Ts=n}function tg(e,n,a){_n[In++]=di,_n[In++]=hi,_n[In++]=va,va=e;var o=di;e=hi;var l=32-Qt(o)-1;o&=~(1<<l),a+=1;var d=32-Qt(n)+l;if(30<d){var g=l-l%5;d=(o&(1<<g)-1).toString(32),o>>=g,l-=g,di=1<<32-Qt(n)+l|a<<l|o,hi=d+e}else di=1<<d|a<<l|o,hi=e}function qc(e){e.return!==null&&(Aa(e,1),tg(e,1,0))}function Fc(e){for(;e===Ss;)Ss=ar[--rr],ar[rr]=null,Ts=ar[--rr],ar[rr]=null;for(;e===va;)va=_n[--In],_n[In]=null,hi=_n[--In],_n[In]=null,di=_n[--In],_n[In]=null}var Yt=null,ht=null,ze=!1,Ca=null,Jn=!1,Qc=Error(r(519));function Sa(e){var n=Error(r(418,""));throw to(wn(n,e)),Qc}function ng(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[z]=e,n[Q]=o,a){case"dialog":Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":case"embed":Oe("load",n);break;case"video":case"audio":for(a=0;a<Ro.length;a++)Oe(Ro[a],n);break;case"source":Oe("error",n);break;case"img":case"image":case"link":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"input":Oe("invalid",n),yf(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ls(n);break;case"select":Oe("invalid",n);break;case"textarea":Oe("invalid",n),Af(n,o.value,o.defaultValue,o.children),ls(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Ap(n.textContent,a)?(o.popover!=null&&(Oe("beforetoggle",n),Oe("toggle",n)),o.onScroll!=null&&Oe("scroll",n),o.onScrollEnd!=null&&Oe("scrollend",n),o.onClick!=null&&(n.onclick=nl),n=!0):n=!1,n||Sa(e)}function ig(e){for(Yt=e.return;Yt;)switch(Yt.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Yt=Yt.return}}function Wr(e){if(e!==Yt)return!1;if(!ze)return ig(e),ze=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ld(e.type,e.memoizedProps)),a=!a),a&&ht&&Sa(e),ig(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){ht=Ln(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}ht=null}}else n===27?(n=ht,$i(e.type)?(e=hd,hd=null,ht=e):ht=n):ht=Yt?Ln(e.stateNode.nextSibling):null;return!0}function eo(){ht=Yt=null,ze=!1}function ag(){var e=Ca;return e!==null&&(en===null?en=e:en.push.apply(en,e),Ca=null),e}function to(e){Ca===null?Ca=[e]:Ca.push(e)}var Yc=q(null),Ta=null,fi=null;function ki(e,n,a){ee(Yc,n._currentValue),n._currentValue=a}function gi(e){e._currentValue=Yc.current,ie(Yc)}function $c(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Vc(e,n,a,o){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var d=l.dependencies;if(d!==null){var g=l.child;d=d.firstContext;e:for(;d!==null;){var y=d;d=l;for(var S=0;S<n.length;S++)if(y.context===n[S]){d.lanes|=a,y=d.alternate,y!==null&&(y.lanes|=a),$c(d.return,a,e),o||(g=null);break e}d=y.next}}else if(l.tag===18){if(g=l.return,g===null)throw Error(r(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),$c(g,a,e),g=null}else g=l.child;if(g!==null)g.return=l;else for(g=l;g!==null;){if(g===e){g=null;break}if(l=g.sibling,l!==null){l.return=g.return,g=l;break}g=g.return}l=g}}function no(e,n,a,o){e=null;for(var l=n,d=!1;l!==null;){if(!d){if((l.flags&524288)!==0)d=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var g=l.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var y=l.type;on(l.pendingProps.value,g.value)||(e!==null?e.push(y):e=[y])}}else if(l===Ft.current){if(g=l.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(Oo):e=[Oo])}l=l.return}e!==null&&Vc(n,e,a,o),n.flags|=262144}function bs(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ba(e){Ta=e,fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bt(e){return rg(Ta,e)}function Es(e,n){return Ta===null&&ba(e),rg(e,n)}function rg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},fi===null){if(e===null)throw Error(r(308));fi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else fi=fi.next=n;return a}var tS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},nS=c.unstable_scheduleCallback,iS=c.unstable_NormalPriority,Tt={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xc(){return{controller:new tS,data:new Map,refCount:0}}function io(e){e.refCount--,e.refCount===0&&nS(iS,function(){e.controller.abort()})}var ao=null,Jc=0,or=0,sr=null;function aS(e,n){if(ao===null){var a=ao=[];Jc=0,or=Wu(),sr={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Jc++,n.then(og,og),n}function og(){if(--Jc===0&&ao!==null){sr!==null&&(sr.status="fulfilled");var e=ao;ao=null,or=0,sr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function rS(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var l=0;l<a.length;l++)(0,a[l])(n)},function(l){for(o.status="rejected",o.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),o}var sg=D.S;D.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&aS(e,n),sg!==null&&sg(e,n)};var Ea=q(null);function Zc(){var e=Ea.current;return e!==null?e:it.pooledCache}function ws(e,n){n===null?ee(Ea,Ea.current):ee(Ea,n.pool)}function lg(){var e=Zc();return e===null?null:{parent:Tt._currentValue,pool:e}}var ro=Error(r(460)),cg=Error(r(474)),Rs=Error(r(542)),Wc={then:function(){}};function ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _s(){}function dg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(_s,_s),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,fg(e),e;default:if(typeof n.status=="string")n.then(_s,_s);else{if(e=it,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var l=n;l.status="fulfilled",l.value=o}},function(o){if(n.status==="pending"){var l=n;l.status="rejected",l.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,fg(e),e}throw oo=n,ro}}var oo=null;function hg(){if(oo===null)throw Error(r(459));var e=oo;return oo=null,e}function fg(e){if(e===ro||e===Rs)throw Error(r(483))}var Di=!1;function eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ui(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pi(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Fe&2)!==0){var l=o.pending;return l===null?n.next=n:(n.next=l.next,l.next=n),o.pending=n,n=As(e),Wf(e,null,a),n}return vs(e,o,n,a),As(e)}function so(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,De(e,a)}}function nu(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var l=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?l=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?l=d=n:d=d.next=n}else l=d=n;a={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var iu=!1;function lo(){if(iu){var e=sr;if(e!==null)throw e}}function co(e,n,a,o){iu=!1;var l=e.updateQueue;Di=!1;var d=l.firstBaseUpdate,g=l.lastBaseUpdate,y=l.shared.pending;if(y!==null){l.shared.pending=null;var S=y,N=S.next;S.next=null,g===null?d=N:g.next=N,g=S;var U=e.alternate;U!==null&&(U=U.updateQueue,y=U.lastBaseUpdate,y!==g&&(y===null?U.firstBaseUpdate=N:y.next=N,U.lastBaseUpdate=S))}if(d!==null){var K=l.baseState;g=0,U=N=S=null,y=d;do{var M=y.lane&-536870913,O=M!==y.lane;if(O?(Ue&M)===M:(o&M)===M){M!==0&&M===or&&(iu=!0),U!==null&&(U=U.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var Ce=e,ye=y;M=n;var Xe=a;switch(ye.tag){case 1:if(Ce=ye.payload,typeof Ce=="function"){K=Ce.call(Xe,K,M);break e}K=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=ye.payload,M=typeof Ce=="function"?Ce.call(Xe,K,M):Ce,M==null)break e;K=C({},K,M);break e;case 2:Di=!0}}M=y.callback,M!==null&&(e.flags|=64,O&&(e.flags|=8192),O=l.callbacks,O===null?l.callbacks=[M]:O.push(M))}else O={lane:M,tag:y.tag,payload:y.payload,callback:y.callback,next:null},U===null?(N=U=O,S=K):U=U.next=O,g|=M;if(y=y.next,y===null){if(y=l.shared.pending,y===null)break;O=y,y=O.next,O.next=null,l.lastBaseUpdate=O,l.shared.pending=null}}while(!0);U===null&&(S=K),l.baseState=S,l.firstBaseUpdate=N,l.lastBaseUpdate=U,d===null&&(l.shared.lanes=0),qi|=g,e.lanes=g,e.memoizedState=K}}function gg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function mg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)gg(a[e],n)}var lr=q(null),Is=q(0);function pg(e,n){e=Si,ee(Is,e),ee(lr,n),Si=e|n.baseLanes}function au(){ee(Is,Si),ee(lr,lr.current)}function ru(){Si=Is.current,ie(lr),ie(Is)}var Hi=0,Ie=null,$e=null,yt=null,Ns=!1,cr=!1,wa=!1,xs=0,uo=0,ur=null,oS=0;function gt(){throw Error(r(321))}function ou(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!on(e[a],n[a]))return!1;return!0}function su(e,n,a,o,l,d){return Hi=d,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=e===null||e.memoizedState===null?Wg:em,wa=!1,d=a(o,l),wa=!1,cr&&(d=vg(n,a,o,l)),yg(e),d}function yg(e){D.H=Ps;var n=$e!==null&&$e.next!==null;if(Hi=0,yt=$e=Ie=null,Ns=!1,uo=0,ur=null,n)throw Error(r(300));e===null||It||(e=e.dependencies,e!==null&&bs(e)&&(It=!0))}function vg(e,n,a,o){Ie=e;var l=0;do{if(cr&&(ur=null),uo=0,cr=!1,25<=l)throw Error(r(301));if(l+=1,yt=$e=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}D.H=fS,d=n(a,o)}while(cr);return d}function sS(){var e=D.H,n=e.useState()[0];return n=typeof n.then=="function"?ho(n):n,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(Ie.flags|=1024),n}function lu(){var e=xs!==0;return xs=0,e}function cu(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function uu(e){if(Ns){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ns=!1}Hi=0,yt=$e=Ie=null,cr=!1,uo=xs=0,ur=null}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ie.memoizedState=yt=e:yt=yt.next=e,yt}function vt(){if($e===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var n=yt===null?Ie.memoizedState:yt.next;if(n!==null)yt=n,$e=e;else{if(e===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},yt===null?Ie.memoizedState=yt=e:yt=yt.next=e}return yt}function du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ho(e){var n=uo;return uo+=1,ur===null&&(ur=[]),e=dg(ur,e,n),n=Ie,(yt===null?n.memoizedState:yt.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?Wg:em),e}function Ms(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ho(e);if(e.$$typeof===lt)return Bt(e)}throw Error(r(438,String(e)))}function hu(e){var n=null,a=Ie.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(l){return l.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=du(),Ie.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=_i;return n.index++,a}function mi(e,n){return typeof n=="function"?n(e):n}function Os(e){var n=vt();return fu(n,$e,e)}function fu(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var l=e.baseQueue,d=o.pending;if(d!==null){if(l!==null){var g=l.next;l.next=d.next,d.next=g}n.baseQueue=l=d,o.pending=null}if(d=e.baseState,l===null)e.memoizedState=d;else{n=l.next;var y=g=null,S=null,N=n,U=!1;do{var K=N.lane&-536870913;if(K!==N.lane?(Ue&K)===K:(Hi&K)===K){var M=N.revertLane;if(M===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),K===or&&(U=!0);else if((Hi&M)===M){N=N.next,M===or&&(U=!0);continue}else K={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(y=S=K,g=d):S=S.next=K,Ie.lanes|=M,qi|=M;K=N.action,wa&&a(d,K),d=N.hasEagerState?N.eagerState:a(d,K)}else M={lane:K,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},S===null?(y=S=M,g=d):S=S.next=M,Ie.lanes|=K,qi|=K;N=N.next}while(N!==null&&N!==n);if(S===null?g=d:S.next=y,!on(d,e.memoizedState)&&(It=!0,U&&(a=sr,a!==null)))throw a;e.memoizedState=d,e.baseState=g,e.baseQueue=S,o.lastRenderedState=d}return l===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function gu(e){var n=vt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,l=a.pending,d=n.memoizedState;if(l!==null){a.pending=null;var g=l=l.next;do d=e(d,g.action),g=g.next;while(g!==l);on(d,n.memoizedState)||(It=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function Ag(e,n,a){var o=Ie,l=vt(),d=ze;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!on(($e||l).memoizedState,a);g&&(l.memoizedState=a,It=!0),l=l.queue;var y=Tg.bind(null,o,l,e);if(fo(2048,8,y,[e]),l.getSnapshot!==n||g||yt!==null&&yt.memoizedState.tag&1){if(o.flags|=2048,dr(9,ks(),Sg.bind(null,o,l,a,n),null),it===null)throw Error(r(349));d||(Hi&124)!==0||Cg(o,n,a)}return a}function Cg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ie.updateQueue,n===null?(n=du(),Ie.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Sg(e,n,a,o){n.value=a,n.getSnapshot=o,bg(n)&&Eg(e)}function Tg(e,n,a){return a(function(){bg(n)&&Eg(e)})}function bg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!on(e,a)}catch{return!0}}function Eg(e){var n=nr(e,2);n!==null&&hn(n,e,2)}function mu(e){var n=Zt();if(typeof e=="function"){var a=e;if(e=a(),wa){pt(!0);try{a()}finally{pt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:e},n}function wg(e,n,a,o){return e.baseState=a,fu(e,$e,typeof o=="function"?o:mi)}function lS(e,n,a,o,l){if(Us(e))throw Error(r(485));if(e=n.action,e!==null){var d={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};D.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,Rg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Rg(e,n){var a=n.action,o=n.payload,l=e.state;if(n.isTransition){var d=D.T,g={};D.T=g;try{var y=a(l,o),S=D.S;S!==null&&S(g,y),_g(e,n,y)}catch(N){pu(e,n,N)}finally{D.T=d}}else try{d=a(l,o),_g(e,n,d)}catch(N){pu(e,n,N)}}function _g(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ig(e,n,o)},function(o){return pu(e,n,o)}):Ig(e,n,a)}function Ig(e,n,a){n.status="fulfilled",n.value=a,Ng(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Rg(e,a)))}function pu(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Ng(n),n=n.next;while(n!==o)}e.action=null}function Ng(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function xg(e,n){return n}function Mg(e,n){if(ze){var a=it.formState;if(a!==null){e:{var o=Ie;if(ze){if(ht){t:{for(var l=ht,d=Jn;l.nodeType!==8;){if(!d){l=null;break t}if(l=Ln(l.nextSibling),l===null){l=null;break t}}d=l.data,l=d==="F!"||d==="F"?l:null}if(l){ht=Ln(l.nextSibling),o=l.data==="F!";break e}}Sa(o)}o=!1}o&&(n=a[0])}}return a=Zt(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:n},a.queue=o,a=Xg.bind(null,Ie,o),o.dispatch=a,o=mu(!1),d=Su.bind(null,Ie,!1,o.queue),o=Zt(),l={state:n,dispatch:null,action:e,pending:null},o.queue=l,a=lS.bind(null,Ie,l,d,a),l.dispatch=a,o.memoizedState=e,[n,a,!1]}function Og(e){var n=vt();return kg(n,$e,e)}function kg(e,n,a){if(n=fu(e,n,xg)[0],e=Os(mi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ho(n)}catch(g){throw g===ro?Rs:g}else o=n;n=vt();var l=n.queue,d=l.dispatch;return a!==n.memoizedState&&(Ie.flags|=2048,dr(9,ks(),cS.bind(null,l,a),null)),[o,d,e]}function cS(e,n){e.action=n}function Dg(e){var n=vt(),a=$e;if(a!==null)return kg(n,a,e);vt(),n=n.memoizedState,a=vt();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function dr(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=du(),Ie.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function ks(){return{destroy:void 0,resource:void 0}}function Ug(){return vt().memoizedState}function Ds(e,n,a,o){var l=Zt();o=o===void 0?null:o,Ie.flags|=e,l.memoizedState=dr(1|n,ks(),a,o)}function fo(e,n,a,o){var l=vt();o=o===void 0?null:o;var d=l.memoizedState.inst;$e!==null&&o!==null&&ou(o,$e.memoizedState.deps)?l.memoizedState=dr(n,d,a,o):(Ie.flags|=e,l.memoizedState=dr(1|n,d,a,o))}function Pg(e,n){Ds(8390656,8,e,n)}function Hg(e,n){fo(2048,8,e,n)}function Lg(e,n){return fo(4,2,e,n)}function jg(e,n){return fo(4,4,e,n)}function Bg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function zg(e,n,a){a=a!=null?a.concat([e]):null,fo(4,4,Bg.bind(null,n,e),a)}function yu(){}function Kg(e,n){var a=vt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&ou(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Gg(e,n){var a=vt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&ou(n,o[1]))return o[0];if(o=e(),wa){pt(!0);try{e()}finally{pt(!1)}}return a.memoizedState=[o,n],o}function vu(e,n,a){return a===void 0||(Hi&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Qm(),Ie.lanes|=e,qi|=e,a)}function qg(e,n,a,o){return on(a,n)?a:lr.current!==null?(e=vu(e,a,o),on(e,n)||(It=!0),e):(Hi&42)===0?(It=!0,e.memoizedState=a):(e=Qm(),Ie.lanes|=e,qi|=e,n)}function Fg(e,n,a,o,l){var d=te.p;te.p=d!==0&&8>d?d:8;var g=D.T,y={};D.T=y,Su(e,!1,n,a);try{var S=l(),N=D.S;if(N!==null&&N(y,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var U=rS(S,o);go(e,n,U,dn(e))}else go(e,n,o,dn(e))}catch(K){go(e,n,{then:function(){},status:"rejected",reason:K},dn())}finally{te.p=d,D.T=g}}function uS(){}function Au(e,n,a,o){if(e.tag!==5)throw Error(r(476));var l=Qg(e).queue;Fg(e,l,n,pe,a===null?uS:function(){return Yg(e),a(o)})}function Qg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:pe},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Yg(e){var n=Qg(e).next.queue;go(e,n,{},dn())}function Cu(){return Bt(Oo)}function $g(){return vt().memoizedState}function Vg(){return vt().memoizedState}function dS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=dn();e=Ui(a);var o=Pi(n,e,a);o!==null&&(hn(o,n,a),so(o,n,a)),n={cache:Xc()},e.payload=n;return}n=n.return}}function hS(e,n,a){var o=dn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Us(e)?Jg(n,a):(a=Bc(e,n,a,o),a!==null&&(hn(a,e,o),Zg(a,n,o)))}function Xg(e,n,a){var o=dn();go(e,n,a,o)}function go(e,n,a,o){var l={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Us(e))Jg(n,l);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var g=n.lastRenderedState,y=d(g,a);if(l.hasEagerState=!0,l.eagerState=y,on(y,g))return vs(e,n,l,0),it===null&&ys(),!1}catch{}finally{}if(a=Bc(e,n,l,o),a!==null)return hn(a,e,o),Zg(a,n,o),!0}return!1}function Su(e,n,a,o){if(o={lane:2,revertLane:Wu(),action:o,hasEagerState:!1,eagerState:null,next:null},Us(e)){if(n)throw Error(r(479))}else n=Bc(e,a,o,2),n!==null&&hn(n,e,2)}function Us(e){var n=e.alternate;return e===Ie||n!==null&&n===Ie}function Jg(e,n){cr=Ns=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Zg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,De(e,a)}}var Ps={readContext:Bt,use:Ms,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Wg={readContext:Bt,use:Ms,useCallback:function(e,n){return Zt().memoizedState=[e,n===void 0?null:n],e},useContext:Bt,useEffect:Pg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Ds(4194308,4,Bg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ds(4194308,4,e,n)},useInsertionEffect:function(e,n){Ds(4,2,e,n)},useMemo:function(e,n){var a=Zt();n=n===void 0?null:n;var o=e();if(wa){pt(!0);try{e()}finally{pt(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=Zt();if(a!==void 0){var l=a(n);if(wa){pt(!0);try{a(n)}finally{pt(!1)}}}else l=n;return o.memoizedState=o.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},o.queue=e,e=e.dispatch=hS.bind(null,Ie,e),[o.memoizedState,e]},useRef:function(e){var n=Zt();return e={current:e},n.memoizedState=e},useState:function(e){e=mu(e);var n=e.queue,a=Xg.bind(null,Ie,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:yu,useDeferredValue:function(e,n){var a=Zt();return vu(a,e,n)},useTransition:function(){var e=mu(!1);return e=Fg.bind(null,Ie,e.queue,!0,!1),Zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Ie,l=Zt();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),it===null)throw Error(r(349));(Ue&124)!==0||Cg(o,n,a)}l.memoizedState=a;var d={value:a,getSnapshot:n};return l.queue=d,Pg(Tg.bind(null,o,d,e),[e]),o.flags|=2048,dr(9,ks(),Sg.bind(null,o,d,a,n),null),a},useId:function(){var e=Zt(),n=it.identifierPrefix;if(ze){var a=hi,o=di;a=(o&~(1<<32-Qt(o)-1)).toString(32)+a,n=""+n+"R"+a,a=xs++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=oS++,n=""+n+"r"+a.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Cu,useFormState:Mg,useActionState:Mg,useOptimistic:function(e){var n=Zt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Su.bind(null,Ie,!0,a),a.dispatch=n,[e,n]},useMemoCache:hu,useCacheRefresh:function(){return Zt().memoizedState=dS.bind(null,Ie)}},em={readContext:Bt,use:Ms,useCallback:Kg,useContext:Bt,useEffect:Hg,useImperativeHandle:zg,useInsertionEffect:Lg,useLayoutEffect:jg,useMemo:Gg,useReducer:Os,useRef:Ug,useState:function(){return Os(mi)},useDebugValue:yu,useDeferredValue:function(e,n){var a=vt();return qg(a,$e.memoizedState,e,n)},useTransition:function(){var e=Os(mi)[0],n=vt().memoizedState;return[typeof e=="boolean"?e:ho(e),n]},useSyncExternalStore:Ag,useId:$g,useHostTransitionStatus:Cu,useFormState:Og,useActionState:Og,useOptimistic:function(e,n){var a=vt();return wg(a,$e,e,n)},useMemoCache:hu,useCacheRefresh:Vg},fS={readContext:Bt,use:Ms,useCallback:Kg,useContext:Bt,useEffect:Hg,useImperativeHandle:zg,useInsertionEffect:Lg,useLayoutEffect:jg,useMemo:Gg,useReducer:gu,useRef:Ug,useState:function(){return gu(mi)},useDebugValue:yu,useDeferredValue:function(e,n){var a=vt();return $e===null?vu(a,e,n):qg(a,$e.memoizedState,e,n)},useTransition:function(){var e=gu(mi)[0],n=vt().memoizedState;return[typeof e=="boolean"?e:ho(e),n]},useSyncExternalStore:Ag,useId:$g,useHostTransitionStatus:Cu,useFormState:Dg,useActionState:Dg,useOptimistic:function(e,n){var a=vt();return $e!==null?wg(a,$e,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:hu,useCacheRefresh:Vg},hr=null,mo=0;function Hs(e){var n=mo;return mo+=1,hr===null&&(hr=[]),dg(hr,e,n)}function po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ls(e,n){throw n.$$typeof===w?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function tm(e){var n=e._init;return n(e._payload)}function nm(e){function n(_,b){if(e){var I=_.deletions;I===null?(_.deletions=[b],_.flags|=16):I.push(b)}}function a(_,b){if(!e)return null;for(;b!==null;)n(_,b),b=b.sibling;return null}function o(_){for(var b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function l(_,b){return _=ui(_,b),_.index=0,_.sibling=null,_}function d(_,b,I){return _.index=I,e?(I=_.alternate,I!==null?(I=I.index,I<b?(_.flags|=67108866,b):I):(_.flags|=67108866,b)):(_.flags|=1048576,b)}function g(_){return e&&_.alternate===null&&(_.flags|=67108866),_}function y(_,b,I,P){return b===null||b.tag!==6?(b=Kc(I,_.mode,P),b.return=_,b):(b=l(b,I),b.return=_,b)}function S(_,b,I,P){var se=I.type;return se===ue?U(_,b,I.props.children,P,I.key):b!==null&&(b.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===qt&&tm(se)===b.type)?(b=l(b,I.props),po(b,I),b.return=_,b):(b=Cs(I.type,I.key,I.props,null,_.mode,P),po(b,I),b.return=_,b)}function N(_,b,I,P){return b===null||b.tag!==4||b.stateNode.containerInfo!==I.containerInfo||b.stateNode.implementation!==I.implementation?(b=Gc(I,_.mode,P),b.return=_,b):(b=l(b,I.children||[]),b.return=_,b)}function U(_,b,I,P,se){return b===null||b.tag!==7?(b=ya(I,_.mode,P,se),b.return=_,b):(b=l(b,I),b.return=_,b)}function K(_,b,I){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Kc(""+b,_.mode,I),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case R:return I=Cs(b.type,b.key,b.props,null,_.mode,I),po(I,b),I.return=_,I;case B:return b=Gc(b,_.mode,I),b.return=_,b;case qt:var P=b._init;return b=P(b._payload),K(_,b,I)}if(Ct(b)||Rt(b))return b=ya(b,_.mode,I,null),b.return=_,b;if(typeof b.then=="function")return K(_,Hs(b),I);if(b.$$typeof===lt)return K(_,Es(_,b),I);Ls(_,b)}return null}function M(_,b,I,P){var se=b!==null?b.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return se!==null?null:y(_,b,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case R:return I.key===se?S(_,b,I,P):null;case B:return I.key===se?N(_,b,I,P):null;case qt:return se=I._init,I=se(I._payload),M(_,b,I,P)}if(Ct(I)||Rt(I))return se!==null?null:U(_,b,I,P,null);if(typeof I.then=="function")return M(_,b,Hs(I),P);if(I.$$typeof===lt)return M(_,b,Es(_,I),P);Ls(_,I)}return null}function O(_,b,I,P,se){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return _=_.get(I)||null,y(b,_,""+P,se);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case R:return _=_.get(P.key===null?I:P.key)||null,S(b,_,P,se);case B:return _=_.get(P.key===null?I:P.key)||null,N(b,_,P,se);case qt:var Ne=P._init;return P=Ne(P._payload),O(_,b,I,P,se)}if(Ct(P)||Rt(P))return _=_.get(I)||null,U(b,_,P,se,null);if(typeof P.then=="function")return O(_,b,I,Hs(P),se);if(P.$$typeof===lt)return O(_,b,I,Es(b,P),se);Ls(b,P)}return null}function Ce(_,b,I,P){for(var se=null,Ne=null,he=b,ve=b=0,xt=null;he!==null&&ve<I.length;ve++){he.index>ve?(xt=he,he=null):xt=he.sibling;var je=M(_,he,I[ve],P);if(je===null){he===null&&(he=xt);break}e&&he&&je.alternate===null&&n(_,he),b=d(je,b,ve),Ne===null?se=je:Ne.sibling=je,Ne=je,he=xt}if(ve===I.length)return a(_,he),ze&&Aa(_,ve),se;if(he===null){for(;ve<I.length;ve++)he=K(_,I[ve],P),he!==null&&(b=d(he,b,ve),Ne===null?se=he:Ne.sibling=he,Ne=he);return ze&&Aa(_,ve),se}for(he=o(he);ve<I.length;ve++)xt=O(he,_,ve,I[ve],P),xt!==null&&(e&&xt.alternate!==null&&he.delete(xt.key===null?ve:xt.key),b=d(xt,b,ve),Ne===null?se=xt:Ne.sibling=xt,Ne=xt);return e&&he.forEach(function(Wi){return n(_,Wi)}),ze&&Aa(_,ve),se}function ye(_,b,I,P){if(I==null)throw Error(r(151));for(var se=null,Ne=null,he=b,ve=b=0,xt=null,je=I.next();he!==null&&!je.done;ve++,je=I.next()){he.index>ve?(xt=he,he=null):xt=he.sibling;var Wi=M(_,he,je.value,P);if(Wi===null){he===null&&(he=xt);break}e&&he&&Wi.alternate===null&&n(_,he),b=d(Wi,b,ve),Ne===null?se=Wi:Ne.sibling=Wi,Ne=Wi,he=xt}if(je.done)return a(_,he),ze&&Aa(_,ve),se;if(he===null){for(;!je.done;ve++,je=I.next())je=K(_,je.value,P),je!==null&&(b=d(je,b,ve),Ne===null?se=je:Ne.sibling=je,Ne=je);return ze&&Aa(_,ve),se}for(he=o(he);!je.done;ve++,je=I.next())je=O(he,_,ve,je.value,P),je!==null&&(e&&je.alternate!==null&&he.delete(je.key===null?ve:je.key),b=d(je,b,ve),Ne===null?se=je:Ne.sibling=je,Ne=je);return e&&he.forEach(function(gT){return n(_,gT)}),ze&&Aa(_,ve),se}function Xe(_,b,I,P){if(typeof I=="object"&&I!==null&&I.type===ue&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case R:e:{for(var se=I.key;b!==null;){if(b.key===se){if(se=I.type,se===ue){if(b.tag===7){a(_,b.sibling),P=l(b,I.props.children),P.return=_,_=P;break e}}else if(b.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===qt&&tm(se)===b.type){a(_,b.sibling),P=l(b,I.props),po(P,I),P.return=_,_=P;break e}a(_,b);break}else n(_,b);b=b.sibling}I.type===ue?(P=ya(I.props.children,_.mode,P,I.key),P.return=_,_=P):(P=Cs(I.type,I.key,I.props,null,_.mode,P),po(P,I),P.return=_,_=P)}return g(_);case B:e:{for(se=I.key;b!==null;){if(b.key===se)if(b.tag===4&&b.stateNode.containerInfo===I.containerInfo&&b.stateNode.implementation===I.implementation){a(_,b.sibling),P=l(b,I.children||[]),P.return=_,_=P;break e}else{a(_,b);break}else n(_,b);b=b.sibling}P=Gc(I,_.mode,P),P.return=_,_=P}return g(_);case qt:return se=I._init,I=se(I._payload),Xe(_,b,I,P)}if(Ct(I))return Ce(_,b,I,P);if(Rt(I)){if(se=Rt(I),typeof se!="function")throw Error(r(150));return I=se.call(I),ye(_,b,I,P)}if(typeof I.then=="function")return Xe(_,b,Hs(I),P);if(I.$$typeof===lt)return Xe(_,b,Es(_,I),P);Ls(_,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,b!==null&&b.tag===6?(a(_,b.sibling),P=l(b,I),P.return=_,_=P):(a(_,b),P=Kc(I,_.mode,P),P.return=_,_=P),g(_)):a(_,b)}return function(_,b,I,P){try{mo=0;var se=Xe(_,b,I,P);return hr=null,se}catch(he){if(he===ro||he===Rs)throw he;var Ne=sn(29,he,null,_.mode);return Ne.lanes=P,Ne.return=_,Ne}finally{}}}var fr=nm(!0),im=nm(!1),Nn=q(null),Zn=null;function Li(e){var n=e.alternate;ee(bt,bt.current&1),ee(Nn,e),Zn===null&&(n===null||lr.current!==null||n.memoizedState!==null)&&(Zn=e)}function am(e){if(e.tag===22){if(ee(bt,bt.current),ee(Nn,e),Zn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Zn=e)}}else ji()}function ji(){ee(bt,bt.current),ee(Nn,Nn.current)}function pi(e){ie(Nn),Zn===e&&(Zn=null),ie(bt)}var bt=q(0);function js(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||dd(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Tu(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:C({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var bu={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=dn(),l=Ui(o);l.payload=n,a!=null&&(l.callback=a),n=Pi(e,l,o),n!==null&&(hn(n,e,o),so(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=dn(),l=Ui(o);l.tag=1,l.payload=n,a!=null&&(l.callback=a),n=Pi(e,l,o),n!==null&&(hn(n,e,o),so(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=dn(),o=Ui(a);o.tag=2,n!=null&&(o.callback=n),n=Pi(e,o,a),n!==null&&(hn(n,e,a),so(n,e,a))}};function rm(e,n,a,o,l,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,g):n.prototype&&n.prototype.isPureReactComponent?!Jr(a,o)||!Jr(l,d):!0}function om(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&bu.enqueueReplaceState(n,n.state,null)}function Ra(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=C({},a));for(var l in e)a[l]===void 0&&(a[l]=e[l])}return a}var Bs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function sm(e){Bs(e)}function lm(e){console.error(e)}function cm(e){Bs(e)}function zs(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function um(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Eu(e,n,a){return a=Ui(a),a.tag=3,a.payload={element:null},a.callback=function(){zs(e,n)},a}function dm(e){return e=Ui(e),e.tag=3,e}function hm(e,n,a,o){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var d=o.value;e.payload=function(){return l(d)},e.callback=function(){um(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){um(n,a,o),typeof l!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var y=o.stack;this.componentDidCatch(o.value,{componentStack:y!==null?y:""})})}function gS(e,n,a,o,l){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&no(n,a,l,!0),a=Nn.current,a!==null){switch(a.tag){case 13:return Zn===null?$u():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=l,o===Wc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Xu(e,o,l)),!1;case 22:return a.flags|=65536,o===Wc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Xu(e,o,l)),!1}throw Error(r(435,a.tag))}return Xu(e,o,l),$u(),!1}if(ze)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=l,o!==Qc&&(e=Error(r(422),{cause:o}),to(wn(e,a)))):(o!==Qc&&(n=Error(r(423),{cause:o}),to(wn(n,a))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,o=wn(o,a),l=Eu(e.stateNode,o,l),nu(e,l),ft!==4&&(ft=2)),!1;var d=Error(r(520),{cause:o});if(d=wn(d,a),bo===null?bo=[d]:bo.push(d),ft!==4&&(ft=2),n===null)return!0;o=wn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=l&-l,a.lanes|=e,e=Eu(a.stateNode,o,e),nu(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fi===null||!Fi.has(d))))return a.flags|=65536,l&=-l,a.lanes|=l,l=dm(l),hm(l,e,a,o),nu(a,l),!1}a=a.return}while(a!==null);return!1}var fm=Error(r(461)),It=!1;function Ut(e,n,a,o){n.child=e===null?im(n,null,a,o):fr(n,e.child,a,o)}function gm(e,n,a,o,l){a=a.render;var d=n.ref;if("ref"in o){var g={};for(var y in o)y!=="ref"&&(g[y]=o[y])}else g=o;return ba(n),o=su(e,n,a,g,d,l),y=lu(),e!==null&&!It?(cu(e,n,l),yi(e,n,l)):(ze&&y&&qc(n),n.flags|=1,Ut(e,n,o,l),n.child)}function mm(e,n,a,o,l){if(e===null){var d=a.type;return typeof d=="function"&&!zc(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,pm(e,n,d,o,l)):(e=Cs(a.type,null,o,n,n.mode,l),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Ou(e,l)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jr,a(g,o)&&e.ref===n.ref)return yi(e,n,l)}return n.flags|=1,e=ui(d,o),e.ref=n.ref,e.return=n,n.child=e}function pm(e,n,a,o,l){if(e!==null){var d=e.memoizedProps;if(Jr(d,o)&&e.ref===n.ref)if(It=!1,n.pendingProps=o=d,Ou(e,l))(e.flags&131072)!==0&&(It=!0);else return n.lanes=e.lanes,yi(e,n,l)}return wu(e,n,a,o,l)}function ym(e,n,a){var o=n.pendingProps,l=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(l=n.child=e.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return vm(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ws(n,d!==null?d.cachePool:null),d!==null?pg(n,d):au(),am(n);else return n.lanes=n.childLanes=536870912,vm(e,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(ws(n,d.cachePool),pg(n,d),ji(),n.memoizedState=null):(e!==null&&ws(n,null),au(),ji());return Ut(e,n,l,a),n.child}function vm(e,n,a,o){var l=Zc();return l=l===null?null:{parent:Tt._currentValue,pool:l},n.memoizedState={baseLanes:a,cachePool:l},e!==null&&ws(n,null),au(),am(n),e!==null&&no(e,n,o,!0),null}function Ks(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function wu(e,n,a,o,l){return ba(n),a=su(e,n,a,o,void 0,l),o=lu(),e!==null&&!It?(cu(e,n,l),yi(e,n,l)):(ze&&o&&qc(n),n.flags|=1,Ut(e,n,a,l),n.child)}function Am(e,n,a,o,l,d){return ba(n),n.updateQueue=null,a=vg(n,o,a,l),yg(e),o=lu(),e!==null&&!It?(cu(e,n,d),yi(e,n,d)):(ze&&o&&qc(n),n.flags|=1,Ut(e,n,a,d),n.child)}function Cm(e,n,a,o,l){if(ba(n),n.stateNode===null){var d=ir,g=a.contextType;typeof g=="object"&&g!==null&&(d=Bt(g)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=bu,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},eu(n),g=a.contextType,d.context=typeof g=="object"&&g!==null?Bt(g):ir,d.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Tu(n,a,g,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&bu.enqueueReplaceState(d,d.state,null),co(n,o,d,l),lo(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var y=n.memoizedProps,S=Ra(a,y);d.props=S;var N=d.context,U=a.contextType;g=ir,typeof U=="object"&&U!==null&&(g=Bt(U));var K=a.getDerivedStateFromProps;U=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",y=n.pendingProps!==y,U||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y||N!==g)&&om(n,d,o,g),Di=!1;var M=n.memoizedState;d.state=M,co(n,o,d,l),lo(),N=n.memoizedState,y||M!==N||Di?(typeof K=="function"&&(Tu(n,a,K,o),N=n.memoizedState),(S=Di||rm(n,a,S,o,M,N,g))?(U||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=N),d.props=o,d.state=N,d.context=g,o=S):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,tu(e,n),g=n.memoizedProps,U=Ra(a,g),d.props=U,K=n.pendingProps,M=d.context,N=a.contextType,S=ir,typeof N=="object"&&N!==null&&(S=Bt(N)),y=a.getDerivedStateFromProps,(N=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==K||M!==S)&&om(n,d,o,S),Di=!1,M=n.memoizedState,d.state=M,co(n,o,d,l),lo();var O=n.memoizedState;g!==K||M!==O||Di||e!==null&&e.dependencies!==null&&bs(e.dependencies)?(typeof y=="function"&&(Tu(n,a,y,o),O=n.memoizedState),(U=Di||rm(n,a,U,o,M,O,S)||e!==null&&e.dependencies!==null&&bs(e.dependencies))?(N||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,O,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,O,S)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=O),d.props=o,d.state=O,d.context=S,o=U):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,Ks(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=fr(n,e.child,null,l),n.child=fr(n,null,a,l)):Ut(e,n,a,l),n.memoizedState=d.state,e=n.child):e=yi(e,n,l),e}function Sm(e,n,a,o){return eo(),n.flags|=256,Ut(e,n,a,o),n.child}var Ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _u(e){return{baseLanes:e,cachePool:lg()}}function Iu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=xn),e}function Tm(e,n,a){var o=n.pendingProps,l=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(bt.current&2)!==0),g&&(l=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(ze){if(l?Li(n):ji(),ze){var y=ht,S;if(S=y){e:{for(S=y,y=Jn;S.nodeType!==8;){if(!y){y=null;break e}if(S=Ln(S.nextSibling),S===null){y=null;break e}}y=S}y!==null?(n.memoizedState={dehydrated:y,treeContext:va!==null?{id:di,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},S=sn(18,null,null,0),S.stateNode=y,S.return=n,n.child=S,Yt=n,ht=null,S=!0):S=!1}S||Sa(n)}if(y=n.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return dd(y)?n.lanes=32:n.lanes=536870912,null;pi(n)}return y=o.children,o=o.fallback,l?(ji(),l=n.mode,y=Gs({mode:"hidden",children:y},l),o=ya(o,l,a,null),y.return=n,o.return=n,y.sibling=o,n.child=y,l=n.child,l.memoizedState=_u(a),l.childLanes=Iu(e,g,a),n.memoizedState=Ru,o):(Li(n),Nu(n,y))}if(S=e.memoizedState,S!==null&&(y=S.dehydrated,y!==null)){if(d)n.flags&256?(Li(n),n.flags&=-257,n=xu(e,n,a)):n.memoizedState!==null?(ji(),n.child=e.child,n.flags|=128,n=null):(ji(),l=o.fallback,y=n.mode,o=Gs({mode:"visible",children:o.children},y),l=ya(l,y,a,null),l.flags|=2,o.return=n,l.return=n,o.sibling=l,n.child=o,fr(n,e.child,null,a),o=n.child,o.memoizedState=_u(a),o.childLanes=Iu(e,g,a),n.memoizedState=Ru,n=l);else if(Li(n),dd(y)){if(g=y.nextSibling&&y.nextSibling.dataset,g)var N=g.dgst;g=N,o=Error(r(419)),o.stack="",o.digest=g,to({value:o,source:null,stack:null}),n=xu(e,n,a)}else if(It||no(e,n,a,!1),g=(a&e.childLanes)!==0,It||g){if(g=it,g!==null&&(o=a&-a,o=(o&42)!==0?1:qe(o),o=(o&(g.suspendedLanes|a))!==0?0:o,o!==0&&o!==S.retryLane))throw S.retryLane=o,nr(e,o),hn(g,e,o),fm;y.data==="$?"||$u(),n=xu(e,n,a)}else y.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=S.treeContext,ht=Ln(y.nextSibling),Yt=n,ze=!0,Ca=null,Jn=!1,e!==null&&(_n[In++]=di,_n[In++]=hi,_n[In++]=va,di=e.id,hi=e.overflow,va=n),n=Nu(n,o.children),n.flags|=4096);return n}return l?(ji(),l=o.fallback,y=n.mode,S=e.child,N=S.sibling,o=ui(S,{mode:"hidden",children:o.children}),o.subtreeFlags=S.subtreeFlags&65011712,N!==null?l=ui(N,l):(l=ya(l,y,a,null),l.flags|=2),l.return=n,o.return=n,o.sibling=l,n.child=o,o=l,l=n.child,y=e.child.memoizedState,y===null?y=_u(a):(S=y.cachePool,S!==null?(N=Tt._currentValue,S=S.parent!==N?{parent:N,pool:N}:S):S=lg(),y={baseLanes:y.baseLanes|a,cachePool:S}),l.memoizedState=y,l.childLanes=Iu(e,g,a),n.memoizedState=Ru,o):(Li(n),a=e.child,e=a.sibling,a=ui(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function Nu(e,n){return n=Gs({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gs(e,n){return e=sn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function xu(e,n,a){return fr(n,e.child,null,a),e=Nu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function bm(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),$c(e.return,n,a)}function Mu(e,n,a,o,l){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:l}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=l)}function Em(e,n,a){var o=n.pendingProps,l=o.revealOrder,d=o.tail;if(Ut(e,n,o.children,a),o=bt.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bm(e,a,n);else if(e.tag===19)bm(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(ee(bt,o),l){case"forwards":for(a=n.child,l=null;a!==null;)e=a.alternate,e!==null&&js(e)===null&&(l=a),a=a.sibling;a=l,a===null?(l=n.child,n.child=null):(l=a.sibling,a.sibling=null),Mu(n,!1,l,a,d);break;case"backwards":for(a=null,l=n.child,n.child=null;l!==null;){if(e=l.alternate,e!==null&&js(e)===null){n.child=l;break}e=l.sibling,l.sibling=a,a=l,l=e}Mu(n,!0,a,null,d);break;case"together":Mu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function yi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),qi|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(no(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=ui(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=ui(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Ou(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&bs(e)))}function mS(e,n,a){switch(n.tag){case 3:We(n,n.stateNode.containerInfo),ki(n,Tt,e.memoizedState.cache),eo();break;case 27:case 5:zr(n);break;case 4:We(n,n.stateNode.containerInfo);break;case 10:ki(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Li(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Tm(e,n,a):(Li(n),e=yi(e,n,a),e!==null?e.sibling:null);Li(n);break;case 19:var l=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(no(e,n,a,!1),o=(a&n.childLanes)!==0),l){if(o)return Em(e,n,a);n.flags|=128}if(l=n.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ee(bt,bt.current),o)break;return null;case 22:case 23:return n.lanes=0,ym(e,n,a);case 24:ki(n,Tt,e.memoizedState.cache)}return yi(e,n,a)}function wm(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)It=!0;else{if(!Ou(e,a)&&(n.flags&128)===0)return It=!1,mS(e,n,a);It=(e.flags&131072)!==0}else It=!1,ze&&(n.flags&1048576)!==0&&tg(n,Ts,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,l=o._init;if(o=l(o._payload),n.type=o,typeof o=="function")zc(o)?(e=Ra(o,e),n.tag=1,n=Cm(null,n,o,e,a)):(n.tag=0,n=wu(null,n,o,e,a));else{if(o!=null){if(l=o.$$typeof,l===X){n.tag=11,n=gm(null,n,o,e,a);break e}else if(l===Ot){n.tag=14,n=mm(null,n,o,e,a);break e}}throw n=si(o)||o,Error(r(306,n,""))}}return n;case 0:return wu(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,l=Ra(o,n.pendingProps),Cm(e,n,o,l,a);case 3:e:{if(We(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var d=n.memoizedState;l=d.element,tu(e,n),co(n,o,null,a);var g=n.memoizedState;if(o=g.cache,ki(n,Tt,o),o!==d.cache&&Vc(n,[Tt],a,!0),lo(),o=g.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Sm(e,n,o,a);break e}else if(o!==l){l=wn(Error(r(424)),n),to(l),n=Sm(e,n,o,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ht=Ln(e.firstChild),Yt=n,ze=!0,Ca=null,Jn=!0,a=im(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(eo(),o===l){n=yi(e,n,a);break e}Ut(e,n,o,a)}n=n.child}return n;case 26:return Ks(e,n),e===null?(a=Np(n.type,null,n.pendingProps,null))?n.memoizedState=a:ze||(a=n.type,e=n.pendingProps,o=il(Se.current).createElement(a),o[z]=n,o[Q]=e,Ht(o,a,e),le(o),n.stateNode=o):n.memoizedState=Np(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return zr(n),e===null&&ze&&(o=n.stateNode=Rp(n.type,n.pendingProps,Se.current),Yt=n,Jn=!0,l=ht,$i(n.type)?(hd=l,ht=Ln(o.firstChild)):ht=l),Ut(e,n,n.pendingProps.children,a),Ks(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ze&&((l=o=ht)&&(o=GS(o,n.type,n.pendingProps,Jn),o!==null?(n.stateNode=o,Yt=n,ht=Ln(o.firstChild),Jn=!1,l=!0):l=!1),l||Sa(n)),zr(n),l=n.type,d=n.pendingProps,g=e!==null?e.memoizedProps:null,o=d.children,ld(l,d)?o=null:g!==null&&ld(l,g)&&(n.flags|=32),n.memoizedState!==null&&(l=su(e,n,sS,null,null,a),Oo._currentValue=l),Ks(e,n),Ut(e,n,o,a),n.child;case 6:return e===null&&ze&&((e=a=ht)&&(a=qS(a,n.pendingProps,Jn),a!==null?(n.stateNode=a,Yt=n,ht=null,e=!0):e=!1),e||Sa(n)),null;case 13:return Tm(e,n,a);case 4:return We(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=fr(n,null,o,a):Ut(e,n,o,a),n.child;case 11:return gm(e,n,n.type,n.pendingProps,a);case 7:return Ut(e,n,n.pendingProps,a),n.child;case 8:return Ut(e,n,n.pendingProps.children,a),n.child;case 12:return Ut(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ki(n,n.type,o.value),Ut(e,n,o.children,a),n.child;case 9:return l=n.type._context,o=n.pendingProps.children,ba(n),l=Bt(l),o=o(l),n.flags|=1,Ut(e,n,o,a),n.child;case 14:return mm(e,n,n.type,n.pendingProps,a);case 15:return pm(e,n,n.type,n.pendingProps,a);case 19:return Em(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=Gs(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=ui(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return ym(e,n,a);case 24:return ba(n),o=Bt(Tt),e===null?(l=Zc(),l===null&&(l=it,d=Xc(),l.pooledCache=d,d.refCount++,d!==null&&(l.pooledCacheLanes|=a),l=d),n.memoizedState={parent:o,cache:l},eu(n),ki(n,Tt,l)):((e.lanes&a)!==0&&(tu(e,n),co(n,null,null,a),lo()),l=e.memoizedState,d=n.memoizedState,l.parent!==o?(l={parent:o,cache:o},n.memoizedState=l,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=l),ki(n,Tt,o)):(o=d.cache,ki(n,Tt,o),o!==l.cache&&Vc(n,[Tt],a,!0))),Ut(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function vi(e){e.flags|=4}function Rm(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Dp(n)){if(n=Nn.current,n!==null&&((Ue&4194048)===Ue?Zn!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||n!==Zn))throw oo=Wc,cg;e.flags|=8192}}function qs(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?F():536870912,e.lanes|=n,yr|=n)}function yo(e,n){if(!ze)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ut(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var l=e.child;l!==null;)a|=l.lanes|l.childLanes,o|=l.subtreeFlags&65011712,o|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)a|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function pS(e,n,a){var o=n.pendingProps;switch(Fc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(n),null;case 1:return ut(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),gi(Tt),Yn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Wr(n)?vi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ag())),ut(n),null;case 26:return a=n.memoizedState,e===null?(vi(n),a!==null?(ut(n),Rm(n,a)):(ut(n),n.flags&=-16777217)):a?a!==e.memoizedState?(vi(n),ut(n),Rm(n,a)):(ut(n),n.flags&=-16777217):(e.memoizedProps!==o&&vi(n),ut(n),n.flags&=-16777217),null;case 27:Ba(n),a=Se.current;var l=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&vi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ut(n),null}e=ge.current,Wr(n)?ng(n):(e=Rp(l,o,a),n.stateNode=e,vi(n))}return ut(n),null;case 5:if(Ba(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&vi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ut(n),null}if(e=ge.current,Wr(n))ng(n);else{switch(l=il(Se.current),e){case 1:e=l.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=l.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=l.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=l.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?l.createElement("select",{is:o.is}):l.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?l.createElement(a,{is:o.is}):l.createElement(a)}}e[z]=n,e[Q]=o;e:for(l=n.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break e;for(;l.sibling===null;){if(l.return===null||l.return===n)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}n.stateNode=e;e:switch(Ht(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&vi(n)}}return ut(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&vi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=Se.current,Wr(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,l=Yt,l!==null)switch(l.tag){case 27:case 5:o=l.memoizedProps}e[z]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Ap(e.nodeValue,a)),e||Sa(n)}else e=il(e).createTextNode(o),e[z]=n,n.stateNode=e}return ut(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Wr(n),o!==null&&o.dehydrated!==null){if(e===null){if(!l)throw Error(r(318));if(l=n.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));l[z]=n}else eo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),l=!1}else l=ag(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return n.flags&256?(pi(n),n):(pi(n),null)}if(pi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,l=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(l=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==l&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),qs(n,n.updateQueue),ut(n),null;case 4:return Yn(),e===null&&id(n.stateNode.containerInfo),ut(n),null;case 10:return gi(n.type),ut(n),null;case 19:if(ie(bt),l=n.memoizedState,l===null)return ut(n),null;if(o=(n.flags&128)!==0,d=l.rendering,d===null)if(o)yo(l,!1);else{if(ft!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=js(e),d!==null){for(n.flags|=128,yo(l,!1),e=d.updateQueue,n.updateQueue=e,qs(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)eg(a,e),a=a.sibling;return ee(bt,bt.current&1|2),n.child}e=e.sibling}l.tail!==null&&Tn()>Ys&&(n.flags|=128,o=!0,yo(l,!1),n.lanes=4194304)}else{if(!o)if(e=js(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,qs(n,e),yo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return ut(n),null}else 2*Tn()-l.renderingStartTime>Ys&&a!==536870912&&(n.flags|=128,o=!0,yo(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=Tn(),n.sibling=null,e=bt.current,ee(bt,o?e&1|2:e&1),n):(ut(n),null);case 22:case 23:return pi(n),ru(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ut(n),n.subtreeFlags&6&&(n.flags|=8192)):ut(n),a=n.updateQueue,a!==null&&qs(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&ie(Ea),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),gi(Tt),ut(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function yS(e,n){switch(Fc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return gi(Tt),Yn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ba(n),null;case 13:if(pi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));eo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ie(bt),null;case 4:return Yn(),null;case 10:return gi(n.type),null;case 22:case 23:return pi(n),ru(),e!==null&&ie(Ea),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return gi(Tt),null;case 25:return null;default:return null}}function _m(e,n){switch(Fc(n),n.tag){case 3:gi(Tt),Yn();break;case 26:case 27:case 5:Ba(n);break;case 4:Yn();break;case 13:pi(n);break;case 19:ie(bt);break;case 10:gi(n.type);break;case 22:case 23:pi(n),ru(),e!==null&&ie(Ea);break;case 24:gi(Tt)}}function vo(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var l=o.next;a=l;do{if((a.tag&e)===e){o=void 0;var d=a.create,g=a.inst;o=d(),g.destroy=o}a=a.next}while(a!==l)}}catch(y){et(n,n.return,y)}}function Bi(e,n,a){try{var o=n.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var d=l.next;o=d;do{if((o.tag&e)===e){var g=o.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,l=n;var S=a,N=y;try{N()}catch(U){et(l,S,U)}}}o=o.next}while(o!==d)}}catch(U){et(n,n.return,U)}}function Im(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{mg(n,a)}catch(o){et(e,e.return,o)}}}function Nm(e,n,a){a.props=Ra(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){et(e,n,o)}}function Ao(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(l){et(e,n,l)}}function Wn(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(l){et(e,n,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){et(e,n,l)}else a.current=null}function xm(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(l){et(e,e.return,l)}}function ku(e,n,a){try{var o=e.stateNode;LS(o,e.type,a,n),o[Q]=n}catch(l){et(e,e.return,l)}}function Mm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$i(e.type)||e.tag===4}function Du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$i(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=nl));else if(o!==4&&(o===27&&$i(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Uu(e,n,a),e=e.sibling;e!==null;)Uu(e,n,a),e=e.sibling}function Fs(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&$i(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Fs(e,n,a),e=e.sibling;e!==null;)Fs(e,n,a),e=e.sibling}function Om(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,l=n.attributes;l.length;)n.removeAttributeNode(l[0]);Ht(n,o,a),n[z]=e,n[Q]=a}catch(d){et(e,e.return,d)}}var Ai=!1,mt=!1,Pu=!1,km=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function vS(e,n){if(e=e.containerInfo,od=cl,e=qf(e),Dc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var l=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,y=-1,S=-1,N=0,U=0,K=e,M=null;t:for(;;){for(var O;K!==a||l!==0&&K.nodeType!==3||(y=g+l),K!==d||o!==0&&K.nodeType!==3||(S=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(O=K.firstChild)!==null;)M=K,K=O;for(;;){if(K===e)break t;if(M===a&&++N===l&&(y=g),M===d&&++U===o&&(S=g),(O=K.nextSibling)!==null)break;K=M,M=K.parentNode}K=O}a=y===-1||S===-1?null:{start:y,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(sd={focusedElem:e,selectionRange:a},cl=!1,Nt=n;Nt!==null;)if(n=Nt,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Nt=e;else for(;Nt!==null;){switch(n=Nt,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,l=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var Ce=Ra(a.type,l,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(Ce,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(ye){et(a,a.return,ye)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)ud(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ud(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Nt=e;break}Nt=n.return}}function Dm(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:zi(e,a),o&4&&vo(5,a);break;case 1:if(zi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){et(a,a.return,g)}else{var l=Ra(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(l,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){et(a,a.return,g)}}o&64&&Im(a),o&512&&Ao(a,a.return);break;case 3:if(zi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{mg(e,n)}catch(g){et(a,a.return,g)}}break;case 27:n===null&&o&4&&Om(a);case 26:case 5:zi(e,a),n===null&&o&4&&xm(a),o&512&&Ao(a,a.return);break;case 12:zi(e,a);break;case 13:zi(e,a),o&4&&Hm(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=_S.bind(null,a),FS(e,a))));break;case 22:if(o=a.memoizedState!==null||Ai,!o){n=n!==null&&n.memoizedState!==null||mt,l=Ai;var d=mt;Ai=o,(mt=n)&&!d?Ki(e,a,(a.subtreeFlags&8772)!==0):zi(e,a),Ai=l,mt=d}break;case 30:break;default:zi(e,a)}}function Um(e){var n=e.alternate;n!==null&&(e.alternate=null,Um(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&oe(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rt=null,Wt=!1;function Ci(e,n,a){for(a=a.child;a!==null;)Pm(e,n,a),a=a.sibling}function Pm(e,n,a){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Ni,a)}catch{}switch(a.tag){case 26:mt||Wn(a,n),Ci(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||Wn(a,n);var o=rt,l=Wt;$i(a.type)&&(rt=a.stateNode,Wt=!1),Ci(e,n,a),Io(a.stateNode),rt=o,Wt=l;break;case 5:mt||Wn(a,n);case 6:if(o=rt,l=Wt,rt=null,Ci(e,n,a),rt=o,Wt=l,rt!==null)if(Wt)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){et(a,n,d)}else try{rt.removeChild(a.stateNode)}catch(d){et(a,n,d)}break;case 18:rt!==null&&(Wt?(e=rt,Ep(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Po(e)):Ep(rt,a.stateNode));break;case 4:o=rt,l=Wt,rt=a.stateNode.containerInfo,Wt=!0,Ci(e,n,a),rt=o,Wt=l;break;case 0:case 11:case 14:case 15:mt||Bi(2,a,n),mt||Bi(4,a,n),Ci(e,n,a);break;case 1:mt||(Wn(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Nm(a,n,o)),Ci(e,n,a);break;case 21:Ci(e,n,a);break;case 22:mt=(o=mt)||a.memoizedState!==null,Ci(e,n,a),mt=o;break;default:Ci(e,n,a)}}function Hm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Po(e)}catch(a){et(n,n.return,a)}}function AS(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new km),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new km),n;default:throw Error(r(435,e.tag))}}function Hu(e,n){var a=AS(e);n.forEach(function(o){var l=IS.bind(null,e,o);a.has(o)||(a.add(o),o.then(l,l))})}function ln(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var l=a[o],d=e,g=n,y=g;e:for(;y!==null;){switch(y.tag){case 27:if($i(y.type)){rt=y.stateNode,Wt=!1;break e}break;case 5:rt=y.stateNode,Wt=!1;break e;case 3:case 4:rt=y.stateNode.containerInfo,Wt=!0;break e}y=y.return}if(rt===null)throw Error(r(160));Pm(d,g,l),rt=null,Wt=!1,d=l.alternate,d!==null&&(d.return=null),l.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Lm(n,e),n=n.sibling}var Hn=null;function Lm(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),cn(e),o&4&&(Bi(3,e,e.return),vo(3,e),Bi(5,e,e.return));break;case 1:ln(n,e),cn(e),o&512&&(mt||a===null||Wn(a,a.return)),o&64&&Ai&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var l=Hn;if(ln(n,e),cn(e),o&512&&(mt||a===null||Wn(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){e:{o=e.type,a=e.memoizedProps,l=l.ownerDocument||l;t:switch(o){case"title":d=l.getElementsByTagName("title")[0],(!d||d[Z]||d[z]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=l.createElement(o),l.head.insertBefore(d,l.querySelector("head > title"))),Ht(d,o,a),d[z]=e,le(d),o=d;break e;case"link":var g=Op("link","href",l).get(o+(a.href||""));if(g){for(var y=0;y<g.length;y++)if(d=g[y],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(y,1);break t}}d=l.createElement(o),Ht(d,o,a),l.head.appendChild(d);break;case"meta":if(g=Op("meta","content",l).get(o+(a.content||""))){for(y=0;y<g.length;y++)if(d=g[y],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(y,1);break t}}d=l.createElement(o),Ht(d,o,a),l.head.appendChild(d);break;default:throw Error(r(468,o))}d[z]=e,le(d),o=d}e.stateNode=o}else kp(l,e.type,e.stateNode);else e.stateNode=Mp(l,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?kp(l,e.type,e.stateNode):Mp(l,o,e.memoizedProps)):o===null&&e.stateNode!==null&&ku(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(n,e),cn(e),o&512&&(mt||a===null||Wn(a,a.return)),a!==null&&o&4&&ku(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,e),cn(e),o&512&&(mt||a===null||Wn(a,a.return)),e.flags&32){l=e.stateNode;try{Va(l,"")}catch(O){et(e,e.return,O)}}o&4&&e.stateNode!=null&&(l=e.memoizedProps,ku(e,l,a!==null?a.memoizedProps:l)),o&1024&&(Pu=!0);break;case 6:if(ln(n,e),cn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(O){et(e,e.return,O)}}break;case 3:if(ol=null,l=Hn,Hn=al(n.containerInfo),ln(n,e),Hn=l,cn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Po(n.containerInfo)}catch(O){et(e,e.return,O)}Pu&&(Pu=!1,jm(e));break;case 4:o=Hn,Hn=al(e.stateNode.containerInfo),ln(n,e),cn(e),Hn=o;break;case 12:ln(n,e),cn(e);break;case 13:ln(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gu=Tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 22:l=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,N=Ai,U=mt;if(Ai=N||l,mt=U||S,ln(n,e),mt=U,Ai=N,cn(e),o&8192)e:for(n=e.stateNode,n._visibility=l?n._visibility&-2:n._visibility|1,l&&(a===null||S||Ai||mt||_a(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){S=a=n;try{if(d=S.stateNode,l)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{y=S.stateNode;var K=S.memoizedProps.style,M=K!=null&&K.hasOwnProperty("display")?K.display:null;y.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(O){et(S,S.return,O)}}}else if(n.tag===6){if(a===null){S=n;try{S.stateNode.nodeValue=l?"":S.memoizedProps}catch(O){et(S,S.return,O)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Hu(e,a))));break;case 19:ln(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 30:break;case 21:break;default:ln(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Mm(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var l=a.stateNode,d=Du(e);Fs(e,d,l);break;case 5:var g=a.stateNode;a.flags&32&&(Va(g,""),a.flags&=-33);var y=Du(e);Fs(e,y,g);break;case 3:case 4:var S=a.stateNode.containerInfo,N=Du(e);Uu(e,N,S);break;default:throw Error(r(161))}}catch(U){et(e,e.return,U)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function jm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;jm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function zi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dm(e,n.alternate,n),n=n.sibling}function _a(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Bi(4,n,n.return),_a(n);break;case 1:Wn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Nm(n,n.return,a),_a(n);break;case 27:Io(n.stateNode);case 26:case 5:Wn(n,n.return),_a(n);break;case 22:n.memoizedState===null&&_a(n);break;case 30:_a(n);break;default:_a(n)}e=e.sibling}}function Ki(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,l=e,d=n,g=d.flags;switch(d.tag){case 0:case 11:case 15:Ki(l,d,a),vo(4,d);break;case 1:if(Ki(l,d,a),o=d,l=o.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(N){et(o,o.return,N)}if(o=d,l=o.updateQueue,l!==null){var y=o.stateNode;try{var S=l.shared.hiddenCallbacks;if(S!==null)for(l.shared.hiddenCallbacks=null,l=0;l<S.length;l++)gg(S[l],y)}catch(N){et(o,o.return,N)}}a&&g&64&&Im(d),Ao(d,d.return);break;case 27:Om(d);case 26:case 5:Ki(l,d,a),a&&o===null&&g&4&&xm(d),Ao(d,d.return);break;case 12:Ki(l,d,a);break;case 13:Ki(l,d,a),a&&g&4&&Hm(l,d);break;case 22:d.memoizedState===null&&Ki(l,d,a),Ao(d,d.return);break;case 30:break;default:Ki(l,d,a)}n=n.sibling}}function Lu(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&io(a))}function ju(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&io(e))}function ei(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bm(e,n,a,o),n=n.sibling}function Bm(e,n,a,o){var l=n.flags;switch(n.tag){case 0:case 11:case 15:ei(e,n,a,o),l&2048&&vo(9,n);break;case 1:ei(e,n,a,o);break;case 3:ei(e,n,a,o),l&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&io(e)));break;case 12:if(l&2048){ei(e,n,a,o),e=n.stateNode;try{var d=n.memoizedProps,g=d.id,y=d.onPostCommit;typeof y=="function"&&y(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){et(n,n.return,S)}}else ei(e,n,a,o);break;case 13:ei(e,n,a,o);break;case 23:break;case 22:d=n.stateNode,g=n.alternate,n.memoizedState!==null?d._visibility&2?ei(e,n,a,o):Co(e,n):d._visibility&2?ei(e,n,a,o):(d._visibility|=2,gr(e,n,a,o,(n.subtreeFlags&10256)!==0)),l&2048&&Lu(g,n);break;case 24:ei(e,n,a,o),l&2048&&ju(n.alternate,n);break;default:ei(e,n,a,o)}}function gr(e,n,a,o,l){for(l=l&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,g=n,y=a,S=o,N=g.flags;switch(g.tag){case 0:case 11:case 15:gr(d,g,y,S,l),vo(8,g);break;case 23:break;case 22:var U=g.stateNode;g.memoizedState!==null?U._visibility&2?gr(d,g,y,S,l):Co(d,g):(U._visibility|=2,gr(d,g,y,S,l)),l&&N&2048&&Lu(g.alternate,g);break;case 24:gr(d,g,y,S,l),l&&N&2048&&ju(g.alternate,g);break;default:gr(d,g,y,S,l)}n=n.sibling}}function Co(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,l=o.flags;switch(o.tag){case 22:Co(a,o),l&2048&&Lu(o.alternate,o);break;case 24:Co(a,o),l&2048&&ju(o.alternate,o);break;default:Co(a,o)}n=n.sibling}}var So=8192;function mr(e){if(e.subtreeFlags&So)for(e=e.child;e!==null;)zm(e),e=e.sibling}function zm(e){switch(e.tag){case 26:mr(e),e.flags&So&&e.memoizedState!==null&&aT(Hn,e.memoizedState,e.memoizedProps);break;case 5:mr(e);break;case 3:case 4:var n=Hn;Hn=al(e.stateNode.containerInfo),mr(e),Hn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=So,So=16777216,mr(e),So=n):mr(e));break;default:mr(e)}}function Km(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function To(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Nt=o,qm(o,e)}Km(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gm(e),e=e.sibling}function Gm(e){switch(e.tag){case 0:case 11:case 15:To(e),e.flags&2048&&Bi(9,e,e.return);break;case 3:To(e);break;case 12:To(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Qs(e)):To(e);break;default:To(e)}}function Qs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Nt=o,qm(o,e)}Km(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Bi(8,n,n.return),Qs(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Qs(n));break;default:Qs(n)}e=e.sibling}}function qm(e,n){for(;Nt!==null;){var a=Nt;switch(a.tag){case 0:case 11:case 15:Bi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:io(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Nt=o;else e:for(a=e;Nt!==null;){o=Nt;var l=o.sibling,d=o.return;if(Um(o),o===a){Nt=null;break e}if(l!==null){l.return=d,Nt=l;break e}Nt=d}}}var CS={getCacheForType:function(e){var n=Bt(Tt),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},SS=typeof WeakMap=="function"?WeakMap:Map,Fe=0,it=null,Me=null,Ue=0,Qe=0,un=null,Gi=!1,pr=!1,Bu=!1,Si=0,ft=0,qi=0,Ia=0,zu=0,xn=0,yr=0,bo=null,en=null,Ku=!1,Gu=0,Ys=1/0,$s=null,Fi=null,Pt=0,Qi=null,vr=null,Ar=0,qu=0,Fu=null,Fm=null,Eo=0,Qu=null;function dn(){if((Fe&2)!==0&&Ue!==0)return Ue&-Ue;if(D.T!==null){var e=or;return e!==0?e:Wu()}return St()}function Qm(){xn===0&&(xn=(Ue&536870912)===0||ze?k():536870912);var e=Nn.current;return e!==null&&(e.flags|=32),xn}function hn(e,n,a){(e===it&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(Cr(e,0),Yi(e,Ue,xn,!1)),de(e,a),((Fe&2)===0||e!==it)&&(e===it&&((Fe&2)===0&&(Ia|=a),ft===4&&Yi(e,Ue,xn,!1)),ti(e))}function Ym(e,n,a){if((Fe&6)!==0)throw Error(r(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||ha(e,n),l=o?ES(e,n):Vu(e,n,!0),d=o;do{if(l===0){pr&&!o&&Yi(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!TS(a)){l=Vu(e,n,!1),d=!1;continue}if(l===2){if(d=n,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var y=e;l=bo;var S=y.current.memoizedState.isDehydrated;if(S&&(Cr(y,g).flags|=256),g=Vu(y,g,!1),g!==2){if(Bu&&!S){y.errorRecoveryDisabledLanes|=d,Ia|=d,l=4;break e}d=en,en=l,d!==null&&(en===null?en=d:en.push.apply(en,d))}l=g}if(d=!1,l!==2)continue}}if(l===1){Cr(e,0),Yi(e,n,0,!0);break}e:{switch(o=e,d=l,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Yi(o,n,xn,!Gi);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(l=Gu+300-Tn(),10<l)){if(Yi(o,n,xn,!Gi),Qa(o,0,!0)!==0)break e;o.timeoutHandle=Tp($m.bind(null,o,a,en,$s,Ku,n,xn,Ia,yr,Gi,d,2,-0,0),l);break e}$m(o,a,en,$s,Ku,n,xn,Ia,yr,Gi,d,0,-0,0)}}break}while(!0);ti(e)}function $m(e,n,a,o,l,d,g,y,S,N,U,K,M,O){if(e.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Mo={stylesheets:null,count:0,unsuspend:iT},zm(n),K=rT(),K!==null)){e.cancelPendingCommit=K(tp.bind(null,e,n,d,a,o,l,g,y,S,U,1,M,O)),Yi(e,d,g,!N);return}tp(e,n,d,a,o,l,g,y,S)}function TS(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var l=a[o],d=l.getSnapshot;l=l.value;try{if(!on(d(),l))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Yi(e,n,a,o){n&=~zu,n&=~Ia,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var l=n;0<l;){var d=31-Qt(l),g=1<<d;o[d]=-1,l&=~g}a!==0&&Ee(e,a,n)}function Vs(){return(Fe&6)===0?(wo(0),!1):!0}function Yu(){if(Me!==null){if(Qe===0)var e=Me.return;else e=Me,fi=Ta=null,uu(e),hr=null,mo=0,e=Me;for(;e!==null;)_m(e.alternate,e),e=e.return;Me=null}}function Cr(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,BS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Yu(),it=e,Me=a=ui(e.current,null),Ue=n,Qe=0,un=null,Gi=!1,pr=ha(e,n),Bu=!1,yr=xn=zu=Ia=qi=ft=0,en=bo=null,Ku=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var l=31-Qt(o),d=1<<l;n|=e[l],o&=~d}return Si=n,ys(),a}function Vm(e,n){Ie=null,D.H=Ps,n===ro||n===Rs?(n=hg(),Qe=3):n===cg?(n=hg(),Qe=4):Qe=n===fm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Me===null&&(ft=1,zs(e,wn(n,e.current)))}function Xm(){var e=D.H;return D.H=Ps,e===null?Ps:e}function Jm(){var e=D.A;return D.A=CS,e}function $u(){ft=4,Gi||(Ue&4194048)!==Ue&&Nn.current!==null||(pr=!0),(qi&134217727)===0&&(Ia&134217727)===0||it===null||Yi(it,Ue,xn,!1)}function Vu(e,n,a){var o=Fe;Fe|=2;var l=Xm(),d=Jm();(it!==e||Ue!==n)&&($s=null,Cr(e,n)),n=!1;var g=ft;e:do try{if(Qe!==0&&Me!==null){var y=Me,S=un;switch(Qe){case 8:Yu(),g=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(n=!0);var N=Qe;if(Qe=0,un=null,Sr(e,y,S,N),a&&pr){g=0;break e}break;default:N=Qe,Qe=0,un=null,Sr(e,y,S,N)}}bS(),g=ft;break}catch(U){Vm(e,U)}while(!0);return n&&e.shellSuspendCounter++,fi=Ta=null,Fe=o,D.H=l,D.A=d,Me===null&&(it=null,Ue=0,ys()),g}function bS(){for(;Me!==null;)Zm(Me)}function ES(e,n){var a=Fe;Fe|=2;var o=Xm(),l=Jm();it!==e||Ue!==n?($s=null,Ys=Tn()+500,Cr(e,n)):pr=ha(e,n);e:do try{if(Qe!==0&&Me!==null){n=Me;var d=un;t:switch(Qe){case 1:Qe=0,un=null,Sr(e,n,d,1);break;case 2:case 9:if(ug(d)){Qe=0,un=null,Wm(n);break}n=function(){Qe!==2&&Qe!==9||it!==e||(Qe=7),ti(e)},d.then(n,n);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:ug(d)?(Qe=0,un=null,Wm(n)):(Qe=0,un=null,Sr(e,n,d,7));break;case 5:var g=null;switch(Me.tag){case 26:g=Me.memoizedState;case 5:case 27:var y=Me;if(!g||Dp(g)){Qe=0,un=null;var S=y.sibling;if(S!==null)Me=S;else{var N=y.return;N!==null?(Me=N,Xs(N)):Me=null}break t}}Qe=0,un=null,Sr(e,n,d,5);break;case 6:Qe=0,un=null,Sr(e,n,d,6);break;case 8:Yu(),ft=6;break e;default:throw Error(r(462))}}wS();break}catch(U){Vm(e,U)}while(!0);return fi=Ta=null,D.H=o,D.A=l,Fe=a,Me!==null?0:(it=null,Ue=0,ys(),ft)}function wS(){for(;Me!==null&&!Ka();)Zm(Me)}function Zm(e){var n=wm(e.alternate,e,Si);e.memoizedProps=e.pendingProps,n===null?Xs(e):Me=n}function Wm(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Am(a,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=Am(a,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:uu(n);default:_m(a,n),n=Me=eg(n,Si),n=wm(a,n,Si)}e.memoizedProps=e.pendingProps,n===null?Xs(e):Me=n}function Sr(e,n,a,o){fi=Ta=null,uu(n),hr=null,mo=0;var l=n.return;try{if(gS(e,l,n,a,Ue)){ft=1,zs(e,wn(a,e.current)),Me=null;return}}catch(d){if(l!==null)throw Me=l,d;ft=1,zs(e,wn(a,e.current)),Me=null;return}n.flags&32768?(ze||o===1?e=!0:pr||(Ue&536870912)!==0?e=!1:(Gi=e=!0,(o===2||o===9||o===3||o===6)&&(o=Nn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ep(n,e)):Xs(n)}function Xs(e){var n=e;do{if((n.flags&32768)!==0){ep(n,Gi);return}e=n.return;var a=pS(n.alternate,n,Si);if(a!==null){Me=a;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=e}while(n!==null);ft===0&&(ft=5)}function ep(e,n){do{var a=yS(e.alternate,e);if(a!==null){a.flags&=32767,Me=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Me=e;return}Me=e=a}while(e!==null);ft=6,Me=null}function tp(e,n,a,o,l,d,g,y,S){e.cancelPendingCommit=null;do Js();while(Pt!==0);if((Fe&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=jc,x(e,a,d,g,y,S),e===it&&(Me=it=null,Ue=0),vr=n,Qi=e,Ar=a,qu=d,Fu=l,Fm=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,NS(li,function(){return op(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=D.T,D.T=null,l=te.p,te.p=2,g=Fe,Fe|=4;try{vS(e,n,a)}finally{Fe=g,te.p=l,D.T=o}}Pt=1,np(),ip(),ap()}}function np(){if(Pt===1){Pt=0;var e=Qi,n=vr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var o=te.p;te.p=2;var l=Fe;Fe|=4;try{Lm(n,e);var d=sd,g=qf(e.containerInfo),y=d.focusedElem,S=d.selectionRange;if(g!==y&&y&&y.ownerDocument&&Gf(y.ownerDocument.documentElement,y)){if(S!==null&&Dc(y)){var N=S.start,U=S.end;if(U===void 0&&(U=N),"selectionStart"in y)y.selectionStart=N,y.selectionEnd=Math.min(U,y.value.length);else{var K=y.ownerDocument||document,M=K&&K.defaultView||window;if(M.getSelection){var O=M.getSelection(),Ce=y.textContent.length,ye=Math.min(S.start,Ce),Xe=S.end===void 0?ye:Math.min(S.end,Ce);!O.extend&&ye>Xe&&(g=Xe,Xe=ye,ye=g);var _=Kf(y,ye),b=Kf(y,Xe);if(_&&b&&(O.rangeCount!==1||O.anchorNode!==_.node||O.anchorOffset!==_.offset||O.focusNode!==b.node||O.focusOffset!==b.offset)){var I=K.createRange();I.setStart(_.node,_.offset),O.removeAllRanges(),ye>Xe?(O.addRange(I),O.extend(b.node,b.offset)):(I.setEnd(b.node,b.offset),O.addRange(I))}}}}for(K=[],O=y;O=O.parentNode;)O.nodeType===1&&K.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<K.length;y++){var P=K[y];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}cl=!!od,sd=od=null}finally{Fe=l,te.p=o,D.T=a}}e.current=n,Pt=2}}function ip(){if(Pt===2){Pt=0;var e=Qi,n=vr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var o=te.p;te.p=2;var l=Fe;Fe|=4;try{Dm(e,n.alternate,n)}finally{Fe=l,te.p=o,D.T=a}}Pt=3}}function ap(){if(Pt===4||Pt===3){Pt=0,Sn();var e=Qi,n=vr,a=Ar,o=Fm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pt=5:(Pt=0,vr=Qi=null,rp(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Fi=null),at(a),n=n.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Ni,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=D.T,l=te.p,te.p=2,D.T=null;try{for(var d=e.onRecoverableError,g=0;g<o.length;g++){var y=o[g];d(y.value,{componentStack:y.stack})}}finally{D.T=n,te.p=l}}(Ar&3)!==0&&Js(),ti(e),l=e.pendingLanes,(a&4194090)!==0&&(l&42)!==0?e===Qu?Eo++:(Eo=0,Qu=e):Eo=0,wo(0)}}function rp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,io(n)))}function Js(e){return np(),ip(),ap(),op()}function op(){if(Pt!==5)return!1;var e=Qi,n=qu;qu=0;var a=at(Ar),o=D.T,l=te.p;try{te.p=32>a?32:a,D.T=null,a=Fu,Fu=null;var d=Qi,g=Ar;if(Pt=0,vr=Qi=null,Ar=0,(Fe&6)!==0)throw Error(r(331));var y=Fe;if(Fe|=4,Gm(d.current),Bm(d,d.current,g,a),Fe=y,wo(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Ni,d)}catch{}return!0}finally{te.p=l,D.T=o,rp(e,n)}}function sp(e,n,a){n=wn(a,n),n=Eu(e.stateNode,n,2),e=Pi(e,n,2),e!==null&&(de(e,2),ti(e))}function et(e,n,a){if(e.tag===3)sp(e,e,a);else for(;n!==null;){if(n.tag===3){sp(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fi===null||!Fi.has(o))){e=wn(a,e),a=dm(2),o=Pi(n,a,2),o!==null&&(hm(a,o,n,e),de(o,2),ti(o));break}}n=n.return}}function Xu(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new SS;var l=new Set;o.set(n,l)}else l=o.get(n),l===void 0&&(l=new Set,o.set(n,l));l.has(a)||(Bu=!0,l.add(a),e=RS.bind(null,e,n,a),n.then(e,e))}function RS(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,it===e&&(Ue&a)===a&&(ft===4||ft===3&&(Ue&62914560)===Ue&&300>Tn()-Gu?(Fe&2)===0&&Cr(e,0):zu|=a,yr===Ue&&(yr=0)),ti(e)}function lp(e,n){n===0&&(n=F()),e=nr(e,n),e!==null&&(de(e,n),ti(e))}function _S(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),lp(e,a)}function IS(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,l=e.memoizedState;l!==null&&(a=l.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),lp(e,a)}function NS(e,n){return Ii(e,n)}var Zs=null,Tr=null,Ju=!1,Ws=!1,Zu=!1,Na=0;function ti(e){e!==Tr&&e.next===null&&(Tr===null?Zs=Tr=e:Tr=Tr.next=e),Ws=!0,Ju||(Ju=!0,MS())}function wo(e,n){if(!Zu&&Ws){Zu=!0;do for(var a=!1,o=Zs;o!==null;){if(e!==0){var l=o.pendingLanes;if(l===0)var d=0;else{var g=o.suspendedLanes,y=o.pingedLanes;d=(1<<31-Qt(42|e)+1)-1,d&=l&~(g&~y),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,hp(o,d))}else d=Ue,d=Qa(o,o===it?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||ha(o,d)||(a=!0,hp(o,d));o=o.next}while(a);Zu=!1}}function xS(){cp()}function cp(){Ws=Ju=!1;var e=0;Na!==0&&(jS()&&(e=Na),Na=0);for(var n=Tn(),a=null,o=Zs;o!==null;){var l=o.next,d=up(o,n);d===0?(o.next=null,a===null?Zs=l:a.next=l,l===null&&(Tr=a)):(a=o,(e!==0||(d&3)!==0)&&(Ws=!0)),o=l}wo(e)}function up(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,l=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-Qt(d),y=1<<g,S=l[g];S===-1?((y&a)===0||(y&o)!==0)&&(l[g]=A(y,n)):S<=n&&(e.expiredLanes|=y),d&=~y}if(n=it,a=Ue,a=Qa(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&za(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ha(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&za(o),at(a)){case 2:case 8:a=rs;break;case 32:a=li;break;case 268435456:a=da;break;default:a=li}return o=dp.bind(null,e),a=Ii(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&za(o),e.callbackPriority=2,e.callbackNode=null,2}function dp(e,n){if(Pt!==0&&Pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Js()&&e.callbackNode!==a)return null;var o=Ue;return o=Qa(e,e===it?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ym(e,o,n),up(e,Tn()),e.callbackNode!=null&&e.callbackNode===a?dp.bind(null,e):null)}function hp(e,n){if(Js())return null;Ym(e,n,!0)}function MS(){zS(function(){(Fe&6)!==0?Ii(as,xS):cp()})}function Wu(){return Na===0&&(Na=k()),Na}function fp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:us(""+e)}function gp(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function OS(e,n,a,o,l){if(n==="submit"&&a&&a.stateNode===l){var d=fp((l[Q]||null).action),g=o.submitter;g&&(n=(n=g[Q]||null)?fp(n.formAction):g.getAttribute("formAction"),n!==null&&(d=n,g=null));var y=new gs("action","action",null,o,l);e.push({event:y,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Na!==0){var S=g?gp(l,g):new FormData(l);Au(a,{pending:!0,data:S,method:l.method,action:d},null,S)}}else typeof d=="function"&&(y.preventDefault(),S=g?gp(l,g):new FormData(l),Au(a,{pending:!0,data:S,method:l.method,action:d},d,S))},currentTarget:l}]})}}for(var ed=0;ed<Lc.length;ed++){var td=Lc[ed],kS=td.toLowerCase(),DS=td[0].toUpperCase()+td.slice(1);Pn(kS,"on"+DS)}Pn(Yf,"onAnimationEnd"),Pn($f,"onAnimationIteration"),Pn(Vf,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(JC,"onTransitionRun"),Pn(ZC,"onTransitionStart"),Pn(WC,"onTransitionCancel"),Pn(Xf,"onTransitionEnd"),_t("onMouseEnter",["mouseout","mouseover"]),_t("onMouseLeave",["mouseout","mouseover"]),_t("onPointerEnter",["pointerout","pointerover"]),_t("onPointerLeave",["pointerout","pointerover"]),Le("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Le("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Le("onBeforeInput",["compositionend","keypress","textInput","paste"]),Le("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Le("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Le("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),US=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function mp(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],l=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var g=o.length-1;0<=g;g--){var y=o[g],S=y.instance,N=y.currentTarget;if(y=y.listener,S!==d&&l.isPropagationStopped())break e;d=y,l.currentTarget=N;try{d(l)}catch(U){Bs(U)}l.currentTarget=null,d=S}else for(g=0;g<o.length;g++){if(y=o[g],S=y.instance,N=y.currentTarget,y=y.listener,S!==d&&l.isPropagationStopped())break e;d=y,l.currentTarget=N;try{d(l)}catch(U){Bs(U)}l.currentTarget=null,d=S}}}}function Oe(e,n){var a=n[Y];a===void 0&&(a=n[Y]=new Set);var o=e+"__bubble";a.has(o)||(pp(n,e,2,!1),a.add(o))}function nd(e,n,a){var o=0;n&&(o|=4),pp(a,e,o,n)}var el="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[el]){e[el]=!0,Pe.forEach(function(a){a!=="selectionchange"&&(US.has(a)||nd(a,!1,e),nd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[el]||(n[el]=!0,nd("selectionchange",!1,n))}}function pp(e,n,a,o){switch(Bp(n)){case 2:var l=lT;break;case 8:l=cT;break;default:l=yd}a=l.bind(null,n,a,e),l=void 0,!wc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(l=!0),o?l!==void 0?e.addEventListener(n,a,{capture:!0,passive:l}):e.addEventListener(n,a,!0):l!==void 0?e.addEventListener(n,a,{passive:l}):e.addEventListener(n,a,!1)}function ad(e,n,a,o,l){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var y=o.stateNode.containerInfo;if(y===l)break;if(g===4)for(g=o.return;g!==null;){var S=g.tag;if((S===3||S===4)&&g.stateNode.containerInfo===l)return;g=g.return}for(;y!==null;){if(g=ce(y),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){o=d=g;continue e}y=y.parentNode}}o=o.return}bf(function(){var N=d,U=bc(a),K=[];e:{var M=Jf.get(e);if(M!==void 0){var O=gs,Ce=e;switch(e){case"keypress":if(hs(a)===0)break e;case"keydown":case"keyup":O=NC;break;case"focusin":Ce="focus",O=Nc;break;case"focusout":Ce="blur",O=Nc;break;case"beforeblur":case"afterblur":O=Nc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=Rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=yC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=OC;break;case Yf:case $f:case Vf:O=CC;break;case Xf:O=DC;break;case"scroll":case"scrollend":O=mC;break;case"wheel":O=PC;break;case"copy":case"cut":case"paste":O=TC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=If;break;case"toggle":case"beforetoggle":O=LC}var ye=(n&4)!==0,Xe=!ye&&(e==="scroll"||e==="scrollend"),_=ye?M!==null?M+"Capture":null:M;ye=[];for(var b=N,I;b!==null;){var P=b;if(I=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||I===null||_===null||(P=qr(b,_),P!=null&&ye.push(_o(b,P,I))),Xe)break;b=b.return}0<ye.length&&(M=new O(M,Ce,null,a,U),K.push({event:M,listeners:ye}))}}if((n&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",M&&a!==Tc&&(Ce=a.relatedTarget||a.fromElement)&&(ce(Ce)||Ce[re]))break e;if((O||M)&&(M=U.window===U?U:(M=U.ownerDocument)?M.defaultView||M.parentWindow:window,O?(Ce=a.relatedTarget||a.toElement,O=N,Ce=Ce?ce(Ce):null,Ce!==null&&(Xe=u(Ce),ye=Ce.tag,Ce!==Xe||ye!==5&&ye!==27&&ye!==6)&&(Ce=null)):(O=null,Ce=N),O!==Ce)){if(ye=Rf,P="onMouseLeave",_="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(ye=If,P="onPointerLeave",_="onPointerEnter",b="pointer"),Xe=O==null?M:we(O),I=Ce==null?M:we(Ce),M=new ye(P,b+"leave",O,a,U),M.target=Xe,M.relatedTarget=I,P=null,ce(U)===N&&(ye=new ye(_,b+"enter",Ce,a,U),ye.target=I,ye.relatedTarget=Xe,P=ye),Xe=P,O&&Ce)t:{for(ye=O,_=Ce,b=0,I=ye;I;I=br(I))b++;for(I=0,P=_;P;P=br(P))I++;for(;0<b-I;)ye=br(ye),b--;for(;0<I-b;)_=br(_),I--;for(;b--;){if(ye===_||_!==null&&ye===_.alternate)break t;ye=br(ye),_=br(_)}ye=null}else ye=null;O!==null&&yp(K,M,O,ye,!1),Ce!==null&&Xe!==null&&yp(K,Xe,Ce,ye,!0)}}e:{if(M=N?we(N):window,O=M.nodeName&&M.nodeName.toLowerCase(),O==="select"||O==="input"&&M.type==="file")var se=Pf;else if(Df(M))if(Hf)se=$C;else{se=QC;var Ne=FC}else O=M.nodeName,!O||O.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?N&&Sc(N.elementType)&&(se=Pf):se=YC;if(se&&(se=se(e,N))){Uf(K,se,a,U);break e}Ne&&Ne(e,M,N),e==="focusout"&&N&&M.type==="number"&&N.memoizedProps.value!=null&&Cc(M,"number",M.value)}switch(Ne=N?we(N):window,e){case"focusin":(Df(Ne)||Ne.contentEditable==="true")&&(Wa=Ne,Uc=N,Zr=null);break;case"focusout":Zr=Uc=Wa=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,Ff(K,a,U);break;case"selectionchange":if(XC)break;case"keydown":case"keyup":Ff(K,a,U)}var he;if(Mc)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Za?Of(e,a)&&(ve="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(Nf&&a.locale!=="ko"&&(Za||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Za&&(he=Ef()):(Oi=U,Rc="value"in Oi?Oi.value:Oi.textContent,Za=!0)),Ne=tl(N,ve),0<Ne.length&&(ve=new _f(ve,e,null,a,U),K.push({event:ve,listeners:Ne}),he?ve.data=he:(he=kf(a),he!==null&&(ve.data=he)))),(he=BC?zC(e,a):KC(e,a))&&(ve=tl(N,"onBeforeInput"),0<ve.length&&(Ne=new _f("onBeforeInput","beforeinput",null,a,U),K.push({event:Ne,listeners:ve}),Ne.data=he)),OS(K,e,N,a,U)}mp(K,n)})}function _o(e,n,a){return{instance:e,listener:n,currentTarget:a}}function tl(e,n){for(var a=n+"Capture",o=[];e!==null;){var l=e,d=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||d===null||(l=qr(e,a),l!=null&&o.unshift(_o(e,l,d)),l=qr(e,n),l!=null&&o.push(_o(e,l,d))),e.tag===3)return o;e=e.return}return[]}function br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yp(e,n,a,o,l){for(var d=n._reactName,g=[];a!==null&&a!==o;){var y=a,S=y.alternate,N=y.stateNode;if(y=y.tag,S!==null&&S===o)break;y!==5&&y!==26&&y!==27||N===null||(S=N,l?(N=qr(a,d),N!=null&&g.unshift(_o(a,N,S))):l||(N=qr(a,d),N!=null&&g.push(_o(a,N,S)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var PS=/\r\n?/g,HS=/\u0000|\uFFFD/g;function vp(e){return(typeof e=="string"?e:""+e).replace(PS,`
`).replace(HS,"")}function Ap(e,n){return n=vp(n),vp(e)===n}function nl(){}function Ve(e,n,a,o,l,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Va(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Va(e,""+o);break;case"className":Mi(e,"class",o);break;case"tabIndex":Mi(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(e,a,o);break;case"style":Sf(e,o,d);break;case"data":if(n!=="object"){Mi(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=us(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Ve(e,n,"name",l.name,l,null),Ve(e,n,"formEncType",l.formEncType,l,null),Ve(e,n,"formMethod",l.formMethod,l,null),Ve(e,n,"formTarget",l.formTarget,l,null)):(Ve(e,n,"encType",l.encType,l,null),Ve(e,n,"method",l.method,l,null),Ve(e,n,"target",l.target,l,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=us(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=nl);break;case"onScroll":o!=null&&Oe("scroll",e);break;case"onScrollEnd":o!=null&&Oe("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(l.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=us(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Oe("beforetoggle",e),Oe("toggle",e),xi(e,"popover",o);break;case"xlinkActuate":Xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Xn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Xn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Xn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Xn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":xi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fC.get(a)||a,xi(e,a,o))}}function rd(e,n,a,o,l,d){switch(a){case"style":Sf(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(l.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Va(e,o):(typeof o=="number"||typeof o=="bigint")&&Va(e,""+o);break;case"onScroll":o!=null&&Oe("scroll",e);break;case"onScrollEnd":o!=null&&Oe("scrollend",e);break;case"onClick":o!=null&&(e.onclick=nl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dt.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),n=a.slice(2,l?a.length-7:void 0),d=e[Q]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,l),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,l);break e}a in e?e[a]=o:o===!0?e.setAttribute(a,""):xi(e,a,o)}}}function Ht(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",e),Oe("load",e);var o=!1,l=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":o=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ve(e,n,d,g,a,null)}}l&&Ve(e,n,"srcSet",a.srcSet,a,null),o&&Ve(e,n,"src",a.src,a,null);return;case"input":Oe("invalid",e);var y=d=g=l=null,S=null,N=null;for(o in a)if(a.hasOwnProperty(o)){var U=a[o];if(U!=null)switch(o){case"name":l=U;break;case"type":g=U;break;case"checked":S=U;break;case"defaultChecked":N=U;break;case"value":d=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,n));break;default:Ve(e,n,o,U,a,null)}}yf(e,d,y,S,N,g,l,!1),ls(e);return;case"select":Oe("invalid",e),o=g=d=null;for(l in a)if(a.hasOwnProperty(l)&&(y=a[l],y!=null))switch(l){case"value":d=y;break;case"defaultValue":g=y;break;case"multiple":o=y;default:Ve(e,n,l,y,a,null)}n=d,a=g,e.multiple=!!o,n!=null?$a(e,!!o,n,!1):a!=null&&$a(e,!!o,a,!0);return;case"textarea":Oe("invalid",e),d=l=o=null;for(g in a)if(a.hasOwnProperty(g)&&(y=a[g],y!=null))switch(g){case"value":o=y;break;case"defaultValue":l=y;break;case"children":d=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Ve(e,n,g,y,a,null)}Af(e,o,l,d),ls(e);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(o=a[S],o!=null))switch(S){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ve(e,n,S,o,a,null)}return;case"dialog":Oe("beforetoggle",e),Oe("toggle",e),Oe("cancel",e),Oe("close",e);break;case"iframe":case"object":Oe("load",e);break;case"video":case"audio":for(o=0;o<Ro.length;o++)Oe(Ro[o],e);break;case"image":Oe("error",e),Oe("load",e);break;case"details":Oe("toggle",e);break;case"embed":case"source":case"link":Oe("error",e),Oe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ve(e,n,N,o,a,null)}return;default:if(Sc(n)){for(U in a)a.hasOwnProperty(U)&&(o=a[U],o!==void 0&&rd(e,n,U,o,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(o=a[y],o!=null&&Ve(e,n,y,o,a,null))}function LS(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,d=null,g=null,y=null,S=null,N=null,U=null;for(O in a){var K=a[O];if(a.hasOwnProperty(O)&&K!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":S=K;default:o.hasOwnProperty(O)||Ve(e,n,O,null,o,K)}}for(var M in o){var O=o[M];if(K=a[M],o.hasOwnProperty(M)&&(O!=null||K!=null))switch(M){case"type":d=O;break;case"name":l=O;break;case"checked":N=O;break;case"defaultChecked":U=O;break;case"value":g=O;break;case"defaultValue":y=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,n));break;default:O!==K&&Ve(e,n,M,O,o,K)}}Ac(e,g,y,S,N,U,d,l);return;case"select":O=g=y=M=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":O=S;default:o.hasOwnProperty(d)||Ve(e,n,d,null,o,S)}for(l in o)if(d=o[l],S=a[l],o.hasOwnProperty(l)&&(d!=null||S!=null))switch(l){case"value":M=d;break;case"defaultValue":y=d;break;case"multiple":g=d;default:d!==S&&Ve(e,n,l,d,o,S)}n=y,a=g,o=O,M!=null?$a(e,!!a,M,!1):!!o!=!!a&&(n!=null?$a(e,!!a,n,!0):$a(e,!!a,a?[]:"",!1));return;case"textarea":O=M=null;for(y in a)if(l=a[y],a.hasOwnProperty(y)&&l!=null&&!o.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ve(e,n,y,null,o,l)}for(g in o)if(l=o[g],d=a[g],o.hasOwnProperty(g)&&(l!=null||d!=null))switch(g){case"value":M=l;break;case"defaultValue":O=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(r(91));break;default:l!==d&&Ve(e,n,g,l,o,d)}vf(e,M,O);return;case"option":for(var Ce in a)if(M=a[Ce],a.hasOwnProperty(Ce)&&M!=null&&!o.hasOwnProperty(Ce))switch(Ce){case"selected":e.selected=!1;break;default:Ve(e,n,Ce,null,o,M)}for(S in o)if(M=o[S],O=a[S],o.hasOwnProperty(S)&&M!==O&&(M!=null||O!=null))switch(S){case"selected":e.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Ve(e,n,S,M,o,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)M=a[ye],a.hasOwnProperty(ye)&&M!=null&&!o.hasOwnProperty(ye)&&Ve(e,n,ye,null,o,M);for(N in o)if(M=o[N],O=a[N],o.hasOwnProperty(N)&&M!==O&&(M!=null||O!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,n));break;default:Ve(e,n,N,M,o,O)}return;default:if(Sc(n)){for(var Xe in a)M=a[Xe],a.hasOwnProperty(Xe)&&M!==void 0&&!o.hasOwnProperty(Xe)&&rd(e,n,Xe,void 0,o,M);for(U in o)M=o[U],O=a[U],!o.hasOwnProperty(U)||M===O||M===void 0&&O===void 0||rd(e,n,U,M,o,O);return}}for(var _ in a)M=a[_],a.hasOwnProperty(_)&&M!=null&&!o.hasOwnProperty(_)&&Ve(e,n,_,null,o,M);for(K in o)M=o[K],O=a[K],!o.hasOwnProperty(K)||M===O||M==null&&O==null||Ve(e,n,K,M,o,O)}var od=null,sd=null;function il(e){return e.nodeType===9?e:e.ownerDocument}function Cp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ld(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cd=null;function jS(){var e=window.event;return e&&e.type==="popstate"?e===cd?!1:(cd=e,!0):(cd=null,!1)}var Tp=typeof setTimeout=="function"?setTimeout:void 0,BS=typeof clearTimeout=="function"?clearTimeout:void 0,bp=typeof Promise=="function"?Promise:void 0,zS=typeof queueMicrotask=="function"?queueMicrotask:typeof bp<"u"?function(e){return bp.resolve(null).then(e).catch(KS)}:Tp;function KS(e){setTimeout(function(){throw e})}function $i(e){return e==="head"}function Ep(e,n){var a=n,o=0,l=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var g=e.ownerDocument;if(a&1&&Io(g.documentElement),a&2&&Io(g.body),a&4)for(a=g.head,Io(a),g=a.firstChild;g;){var y=g.nextSibling,S=g.nodeName;g[Z]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=y}}if(l===0){e.removeChild(d),Po(n);return}l--}else a==="$"||a==="$?"||a==="$!"?l++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);Po(n)}function ud(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ud(a),oe(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function GS(e,n,a,o){for(;e.nodeType===1;){var l=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Z])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function qS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function FS(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var hd=null;function wp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Rp(e,n,a){switch(n=il(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Io(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);oe(e)}var Mn=new Map,_p=new Set;function al(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ti=te.d;te.d={f:QS,r:YS,D:$S,C:VS,L:XS,m:JS,X:WS,S:ZS,M:eT};function QS(){var e=Ti.f(),n=Vs();return e||n}function YS(e){var n=ae(e);n!==null&&n.tag===5&&n.type==="form"?Yg(n):Ti.r(e)}var Er=typeof document>"u"?null:document;function Ip(e,n,a){var o=Er;if(o&&typeof n=="string"&&n){var l=En(n);l='link[rel="'+e+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),_p.has(l)||(_p.add(l),e={rel:e,crossOrigin:a,href:n},o.querySelector(l)===null&&(n=o.createElement("link"),Ht(n,"link",e),le(n),o.head.appendChild(n)))}}function $S(e){Ti.D(e),Ip("dns-prefetch",e,null)}function VS(e,n){Ti.C(e,n),Ip("preconnect",e,n)}function XS(e,n,a){Ti.L(e,n,a);var o=Er;if(o&&e&&n){var l='link[rel="preload"][as="'+En(n)+'"]';n==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+En(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+En(a.imageSizes)+'"]')):l+='[href="'+En(e)+'"]';var d=l;switch(n){case"style":d=wr(e);break;case"script":d=Rr(e)}Mn.has(d)||(e=C({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Mn.set(d,e),o.querySelector(l)!==null||n==="style"&&o.querySelector(No(d))||n==="script"&&o.querySelector(xo(d))||(n=o.createElement("link"),Ht(n,"link",e),le(n),o.head.appendChild(n)))}}function JS(e,n){Ti.m(e,n);var a=Er;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",l='link[rel="modulepreload"][as="'+En(o)+'"][href="'+En(e)+'"]',d=l;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Rr(e)}if(!Mn.has(d)&&(e=C({rel:"modulepreload",href:e},n),Mn.set(d,e),a.querySelector(l)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xo(d)))return}o=a.createElement("link"),Ht(o,"link",e),le(o),a.head.appendChild(o)}}}function ZS(e,n,a){Ti.S(e,n,a);var o=Er;if(o&&e){var l=W(o).hoistableStyles,d=wr(e);n=n||"default";var g=l.get(d);if(!g){var y={loading:0,preload:null};if(g=o.querySelector(No(d)))y.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Mn.get(d))&&fd(e,a);var S=g=o.createElement("link");le(S),Ht(S,"link",e),S._p=new Promise(function(N,U){S.onload=N,S.onerror=U}),S.addEventListener("load",function(){y.loading|=1}),S.addEventListener("error",function(){y.loading|=2}),y.loading|=4,rl(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:y},l.set(d,g)}}}function WS(e,n){Ti.X(e,n);var a=Er;if(a&&e){var o=W(a).hoistableScripts,l=Rr(e),d=o.get(l);d||(d=a.querySelector(xo(l)),d||(e=C({src:e,async:!0},n),(n=Mn.get(l))&&gd(e,n),d=a.createElement("script"),le(d),Ht(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(l,d))}}function eT(e,n){Ti.M(e,n);var a=Er;if(a&&e){var o=W(a).hoistableScripts,l=Rr(e),d=o.get(l);d||(d=a.querySelector(xo(l)),d||(e=C({src:e,async:!0,type:"module"},n),(n=Mn.get(l))&&gd(e,n),d=a.createElement("script"),le(d),Ht(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(l,d))}}function Np(e,n,a,o){var l=(l=Se.current)?al(l):null;if(!l)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=wr(a.href),a=W(l).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=wr(a.href);var d=W(l).hoistableStyles,g=d.get(e);if(g||(l=l.ownerDocument||l,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=l.querySelector(No(e)))&&!d._p&&(g.instance=d,g.state.loading=5),Mn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(e,a),d||tT(l,e,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Rr(a),a=W(l).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function wr(e){return'href="'+En(e)+'"'}function No(e){return'link[rel="stylesheet"]['+e+"]"}function xp(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function tT(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ht(n,"link",a),le(n),e.head.appendChild(n))}function Rr(e){return'[src="'+En(e)+'"]'}function xo(e){return"script[async]"+e}function Mp(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+En(a.href)+'"]');if(o)return n.instance=o,le(o),o;var l=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),le(o),Ht(o,"style",l),rl(o,a.precedence,e),n.instance=o;case"stylesheet":l=wr(a.href);var d=e.querySelector(No(l));if(d)return n.state.loading|=4,n.instance=d,le(d),d;o=xp(a),(l=Mn.get(l))&&fd(o,l),d=(e.ownerDocument||e).createElement("link"),le(d);var g=d;return g._p=new Promise(function(y,S){g.onload=y,g.onerror=S}),Ht(d,"link",o),n.state.loading|=4,rl(d,a.precedence,e),n.instance=d;case"script":return d=Rr(a.src),(l=e.querySelector(xo(d)))?(n.instance=l,le(l),l):(o=a,(l=Mn.get(d))&&(o=C({},a),gd(o,l)),e=e.ownerDocument||e,l=e.createElement("script"),le(l),Ht(l,"link",o),e.head.appendChild(l),n.instance=l);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,rl(o,a.precedence,e));return n.instance}function rl(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=o.length?o[o.length-1]:null,d=l,g=0;g<o.length;g++){var y=o[g];if(y.dataset.precedence===n)d=y;else if(d!==l)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function fd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ol=null;function Op(e,n,a){if(ol===null){var o=new Map,l=ol=new Map;l.set(a,o)}else l=ol,o=l.get(a),o||(o=new Map,l.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),l=0;l<a.length;l++){var d=a[l];if(!(d[Z]||d[z]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(n)||"";g=e+g;var y=o.get(g);y?y.push(d):o.set(g,[d])}}return o}function kp(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function nT(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Dp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Mo=null;function iT(){}function aT(e,n,a){if(Mo===null)throw Error(r(475));var o=Mo;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var l=wr(a.href),d=e.querySelector(No(l));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=sl.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,le(d);return}d=e.ownerDocument||e,a=xp(a),(l=Mn.get(l))&&fd(a,l),d=d.createElement("link"),le(d);var g=d;g._p=new Promise(function(y,S){g.onload=y,g.onerror=S}),Ht(d,"link",a),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=sl.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function rT(){if(Mo===null)throw Error(r(475));var e=Mo;return e.stylesheets&&e.count===0&&md(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&md(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function sl(){if(this.count--,this.count===0){if(this.stylesheets)md(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ll=null;function md(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ll=new Map,n.forEach(oT,e),ll=null,sl.call(e))}function oT(e,n){if(!(n.state.loading&4)){var a=ll.get(e);if(a)var o=a.get(null);else{a=new Map,ll.set(e,a);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<l.length;d++){var g=l[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}l=n.instance,g=l.getAttribute("data-precedence"),d=a.get(g)||o,d===o&&a.set(null,l),a.set(g,l),this.count++,o=sl.bind(this),l.addEventListener("load",o),l.addEventListener("error",o),d?d.parentNode.insertBefore(l,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),n.state.loading|=4}}var Oo={$$typeof:lt,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function sT(e,n,a,o,l,d,g,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=J(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=J(0),this.hiddenUpdates=J(null),this.identifierPrefix=o,this.onUncaughtError=l,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function Up(e,n,a,o,l,d,g,y,S,N,U,K){return e=new sT(e,n,a,g,y,S,N,K),n=1,d===!0&&(n|=24),d=sn(3,null,null,n),e.current=d,d.stateNode=e,n=Xc(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},eu(d),e}function Pp(e){return e?(e=ir,e):ir}function Hp(e,n,a,o,l,d){l=Pp(l),o.context===null?o.context=l:o.pendingContext=l,o=Ui(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Pi(e,o,n),a!==null&&(hn(a,e,n),so(a,e,n))}function Lp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function pd(e,n){Lp(e,n),(e=e.alternate)&&Lp(e,n)}function jp(e){if(e.tag===13){var n=nr(e,67108864);n!==null&&hn(n,e,67108864),pd(e,67108864)}}var cl=!0;function lT(e,n,a,o){var l=D.T;D.T=null;var d=te.p;try{te.p=2,yd(e,n,a,o)}finally{te.p=d,D.T=l}}function cT(e,n,a,o){var l=D.T;D.T=null;var d=te.p;try{te.p=8,yd(e,n,a,o)}finally{te.p=d,D.T=l}}function yd(e,n,a,o){if(cl){var l=vd(o);if(l===null)ad(e,n,o,ul,a),zp(e,o);else if(dT(l,e,n,a,o))o.stopPropagation();else if(zp(e,o),n&4&&-1<uT.indexOf(e)){for(;l!==null;){var d=ae(l);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=$n(d.pendingLanes);if(g!==0){var y=d;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var S=1<<31-Qt(g);y.entanglements[1]|=S,g&=~S}ti(d),(Fe&6)===0&&(Ys=Tn()+500,wo(0))}}break;case 13:y=nr(d,2),y!==null&&hn(y,d,2),Vs(),pd(d,2)}if(d=vd(o),d===null&&ad(e,n,o,ul,a),d===l)break;l=d}l!==null&&o.stopPropagation()}else ad(e,n,o,null,a)}}function vd(e){return e=bc(e),Ad(e)}var ul=null;function Ad(e){if(ul=null,e=ce(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ul=e,null}function Bp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dn()){case as:return 2;case rs:return 8;case li:case Ga:return 32;case da:return 268435456;default:return 32}default:return 32}}var Cd=!1,Vi=null,Xi=null,Ji=null,ko=new Map,Do=new Map,Zi=[],uT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(e,n){switch(e){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":ko.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(n.pointerId)}}function Uo(e,n,a,o,l,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[l]},n!==null&&(n=ae(n),n!==null&&jp(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,l!==null&&n.indexOf(l)===-1&&n.push(l),e)}function dT(e,n,a,o,l){switch(n){case"focusin":return Vi=Uo(Vi,e,n,a,o,l),!0;case"dragenter":return Xi=Uo(Xi,e,n,a,o,l),!0;case"mouseover":return Ji=Uo(Ji,e,n,a,o,l),!0;case"pointerover":var d=l.pointerId;return ko.set(d,Uo(ko.get(d)||null,e,n,a,o,l)),!0;case"gotpointercapture":return d=l.pointerId,Do.set(d,Uo(Do.get(d)||null,e,n,a,o,l)),!0}return!1}function Kp(e){var n=ce(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,kt(e.priority,function(){if(a.tag===13){var o=dn();o=qe(o);var l=nr(a,o);l!==null&&hn(l,a,o),pd(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=vd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Tc=o,a.target.dispatchEvent(o),Tc=null}else return n=ae(a),n!==null&&jp(n),e.blockedOn=a,!1;n.shift()}return!0}function Gp(e,n,a){dl(e)&&a.delete(n)}function hT(){Cd=!1,Vi!==null&&dl(Vi)&&(Vi=null),Xi!==null&&dl(Xi)&&(Xi=null),Ji!==null&&dl(Ji)&&(Ji=null),ko.forEach(Gp),Do.forEach(Gp)}function hl(e,n){e.blockedOn===n&&(e.blockedOn=null,Cd||(Cd=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,hT)))}var fl=null;function qp(e){fl!==e&&(fl=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){fl===e&&(fl=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],l=e[n+2];if(typeof o!="function"){if(Ad(o||a)===null)continue;break}var d=ae(a);d!==null&&(e.splice(n,3),n-=3,Au(d,{pending:!0,data:l,method:a.method,action:o},o,l))}}))}function Po(e){function n(S){return hl(S,e)}Vi!==null&&hl(Vi,e),Xi!==null&&hl(Xi,e),Ji!==null&&hl(Ji,e),ko.forEach(n),Do.forEach(n);for(var a=0;a<Zi.length;a++){var o=Zi[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Zi.length&&(a=Zi[0],a.blockedOn===null);)Kp(a),a.blockedOn===null&&Zi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var l=a[o],d=a[o+1],g=l[Q]||null;if(typeof d=="function")g||qp(a);else if(g){var y=null;if(d&&d.hasAttribute("formAction")){if(l=d,g=d[Q]||null)y=g.formAction;else if(Ad(l)!==null)continue}else y=g.action;typeof y=="function"?a[o+1]=y:(a.splice(o,3),o-=3),qp(a)}}}function Sd(e){this._internalRoot=e}gl.prototype.render=Sd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=dn();Hp(a,o,e,n,null,null)},gl.prototype.unmount=Sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Hp(e.current,2,null,e,null,null),Vs(),n[re]=null}};function gl(e){this._internalRoot=e}gl.prototype.unstable_scheduleHydration=function(e){if(e){var n=St();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Zi.length&&n!==0&&n<Zi[a].priority;a++);Zi.splice(a,0,e),a===0&&Kp(e)}};var Fp=t.version;if(Fp!=="19.1.1")throw Error(r(527,Fp,"19.1.1"));te.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var fT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{Ni=ml.inject(fT),ct=ml}catch{}}return Lo.createRoot=function(e,n){if(!s(e))throw Error(r(299));var a=!1,o="",l=sm,d=lm,g=cm,y=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(y=n.unstable_transitionCallbacks)),n=Up(e,1,!1,null,null,a,o,l,d,g,y,null),e[re]=n.current,id(e),new Sd(n)},Lo.hydrateRoot=function(e,n,a){if(!s(e))throw Error(r(299));var o=!1,l="",d=sm,g=lm,y=cm,S=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),n=Up(e,1,!0,n,a??null,o,l,d,g,y,S,N),n.context=Pp(null),a=n.current,o=dn(),o=qe(o),l=Ui(o),l.callback=null,Pi(a,l,o),a=o,n.current.lanes=a,de(n,a),ti(n),e[re]=n.current,id(e),new gl(n)},Lo.version="19.1.1",Lo}var ty;function bT(){if(ty)return Ed.exports;ty=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(t){console.error(t)}}return c(),Ed.exports=TT(),Ed.exports}var ET=bT();const wT=qy(ET);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_T=c=>c.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),ny=c=>{const t=_T(c);return t.charAt(0).toUpperCase()+t.slice(1)},Fy=(...c)=>c.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),IT=c=>{for(const t in c)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=He.forwardRef(({color:c="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:s="",children:u,iconNode:h,...m},p)=>He.createElement("svg",{ref:p,...NT,width:t,height:t,stroke:c,strokeWidth:r?Number(i)*24/Number(t):i,className:Fy("lucide",s),...!u&&!IT(m)&&{"aria-hidden":"true"},...m},[...h.map(([v,C])=>He.createElement(v,C)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=(c,t)=>{const i=He.forwardRef(({className:r,...s},u)=>He.createElement(xT,{ref:u,iconNode:t,className:Fy(`lucide-${RT(ny(c))}`,`lucide-${c}`,r),...s}));return i.displayName=ny(c),i};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],kT=MT("download",OT);/*! @azure/msal-common v15.13.0 2025-09-24 */const j={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},na={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},Ma={GET:"GET",POST:"POST"},Pr=[j.OPENID_SCOPE,j.PROFILE_SCOPE,j.OFFLINE_ACCESS_SCOPE],iy=[...Pr,j.EMAIL_SCOPE],Vt={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},ay={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},ia={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},pl={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},Xt={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",NO_SESSION:"no_session"},nh={CODE:"code",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},Xl={QUERY:"query",FRAGMENT:"fragment"},DT={QUERY:"query"},Qy={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},yl={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},Xo={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},jt={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},ih="appmetadata",UT="client_info",Rl="1",_l={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},fn={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Lt={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Ye={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Ko={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},ry={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},_r={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},Id={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},xa={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},PT={Pop:"pop"},Yy=300;/*! @azure/msal-common v15.13.0 2025-09-24 */const Il="unexpected_error",HT="post_request_failed";/*! @azure/msal-common v15.13.0 2025-09-24 */const oy={[Il]:"Unexpected error in authentication.",[HT]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Ze extends Error{constructor(t,i,r){const s=i?`${t}: ${i}`:t;super(s),Object.setPrototypeOf(this,Ze.prototype),this.errorCode=t||j.EMPTY_STRING,this.errorMessage=i||j.EMPTY_STRING,this.subError=r||j.EMPTY_STRING,this.name="AuthError"}setCorrelationId(t){this.correlationId=t}}function Pd(c,t){return new Ze(c,t?`${oy[c]} ${t}`:oy[c])}/*! @azure/msal-common v15.13.0 2025-09-24 */const ah="client_info_decoding_error",$y="client_info_empty_error",rh="token_parsing_error",Vy="null_or_empty_token",Ei="endpoints_resolution_error",Xy="network_error",Jy="openid_config_error",Zy="hash_not_deserialized",kr="invalid_state",Wy="state_mismatch",Hd="state_not_found",ev="nonce_mismatch",oh="auth_time_not_found",tv="max_age_transpired",LT="multiple_matching_tokens",jT="multiple_matching_accounts",nv="multiple_matching_appMetadata",iv="request_cannot_be_made",av="cannot_remove_empty_scope",rv="cannot_append_scopeset",Ld="empty_input_scopeset",BT="device_code_polling_cancelled",zT="device_code_expired",KT="device_code_unknown_error",sh="no_account_in_silent_request",ov="invalid_cache_record",lh="invalid_cache_environment",jd="no_account_found",Bd="no_crypto_object",GT="unexpected_credential_type",qT="invalid_assertion",FT="invalid_client_credential",aa="token_refresh_required",QT="user_timeout_reached",sv="token_claims_cnf_required_for_signedjwt",lv="authorization_code_missing_from_server_response",cv="binding_key_not_removed",uv="end_session_endpoint_not_supported",ch="key_id_missing",YT="no_network_connectivity",$T="user_canceled",VT="missing_tenant_id_error",_e="method_not_implemented",XT="nested_app_auth_bridge_disabled";/*! @azure/msal-common v15.13.0 2025-09-24 */const sy={[ah]:"The client info could not be parsed/decoded correctly",[$y]:"The client info was empty",[rh]:"Token cannot be parsed",[Vy]:"The token is null or empty",[Ei]:"Endpoints cannot be resolved",[Xy]:"Network request failed",[Jy]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Zy]:"The hash parameters could not be deserialized",[kr]:"State was not the expected format",[Wy]:"State mismatch error",[Hd]:"State not found",[ev]:"Nonce mismatch error",[oh]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[tv]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[LT]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[jT]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[nv]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[iv]:"Token request cannot be made without authorization code or refresh token.",[av]:"Cannot remove null or empty scope from ScopeSet",[rv]:"Cannot append ScopeSet",[Ld]:"Empty input ScopeSet cannot be processed",[BT]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[zT]:"Device code is expired.",[KT]:"Device code stopped polling for unknown reasons.",[sh]:"Please pass an account object, silent flow is not supported without account information",[ov]:"Cache record object was null or undefined.",[lh]:"Invalid environment when attempting to create cache entry",[jd]:"No account found in cache for given key.",[Bd]:"No crypto object detected.",[GT]:"Unexpected credential type.",[qT]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[FT]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[aa]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[QT]:"User defined timeout for device code polling reached",[sv]:"Cannot generate a POP jwt if the token_claims are not populated",[lv]:"Server response does not contain an authorization code to proceed",[cv]:"Could not remove the credential's binding key from storage.",[uv]:"The provided authority does not support logout",[ch]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[YT]:"No network connectivity. Check your internet connection.",[$T]:"User cancelled the flow.",[VT]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[_e]:"This method has not been implemented",[XT]:"The nested app auth bridge is disabled"};class uh extends Ze{constructor(t,i){super(t,i?`${sy[t]}: ${i}`:sy[t]),this.name="ClientAuthError",Object.setPrototypeOf(this,uh.prototype)}}function $(c,t){return new uh(c,t)}/*! @azure/msal-common v15.13.0 2025-09-24 */const Nl={createNewGuid:()=>{throw $(_e)},base64Decode:()=>{throw $(_e)},base64Encode:()=>{throw $(_e)},base64UrlEncode:()=>{throw $(_e)},encodeKid:()=>{throw $(_e)},async getPublicKeyThumbprint(){throw $(_e)},async removeTokenBindingKey(){throw $(_e)},async clearKeystore(){throw $(_e)},async signJwt(){throw $(_e)},async hashString(){throw $(_e)}};/*! @azure/msal-common v15.13.0 2025-09-24 */var ot;(function(c){c[c.Error=0]="Error",c[c.Warning=1]="Warning",c[c.Info=2]="Info",c[c.Verbose=3]="Verbose",c[c.Trace=4]="Trace"})(ot||(ot={}));class ca{constructor(t,i,r){this.level=ot.Info;const s=()=>{},u=t||ca.createDefaultLoggerOptions();this.localCallback=u.loggerCallback||s,this.piiLoggingEnabled=u.piiLoggingEnabled||!1,this.level=typeof u.logLevel=="number"?u.logLevel:ot.Info,this.correlationId=u.correlationId||j.EMPTY_STRING,this.packageName=i||j.EMPTY_STRING,this.packageVersion=r||j.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ot.Info}}clone(t,i,r){return new ca({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},t,i)}logMessage(t,i){if(i.logLevel>this.level||!this.piiLoggingEnabled&&i.containsPii)return;const u=`${`[${new Date().toUTCString()}] : [${i.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${ot[i.logLevel]} - ${t}`;this.executeCallback(i.logLevel,u,i.containsPii||!1)}executeCallback(t,i,r){this.localCallback&&this.localCallback(t,i,r)}error(t,i){this.logMessage(t,{logLevel:ot.Error,containsPii:!1,correlationId:i||j.EMPTY_STRING})}errorPii(t,i){this.logMessage(t,{logLevel:ot.Error,containsPii:!0,correlationId:i||j.EMPTY_STRING})}warning(t,i){this.logMessage(t,{logLevel:ot.Warning,containsPii:!1,correlationId:i||j.EMPTY_STRING})}warningPii(t,i){this.logMessage(t,{logLevel:ot.Warning,containsPii:!0,correlationId:i||j.EMPTY_STRING})}info(t,i){this.logMessage(t,{logLevel:ot.Info,containsPii:!1,correlationId:i||j.EMPTY_STRING})}infoPii(t,i){this.logMessage(t,{logLevel:ot.Info,containsPii:!0,correlationId:i||j.EMPTY_STRING})}verbose(t,i){this.logMessage(t,{logLevel:ot.Verbose,containsPii:!1,correlationId:i||j.EMPTY_STRING})}verbosePii(t,i){this.logMessage(t,{logLevel:ot.Verbose,containsPii:!0,correlationId:i||j.EMPTY_STRING})}trace(t,i){this.logMessage(t,{logLevel:ot.Trace,containsPii:!1,correlationId:i||j.EMPTY_STRING})}tracePii(t,i){this.logMessage(t,{logLevel:ot.Trace,containsPii:!0,correlationId:i||j.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v15.13.0 2025-09-24 */const dv="@azure/msal-common",dh="15.13.0";/*! @azure/msal-common v15.13.0 2025-09-24 */const hh={None:"none"};/*! @azure/msal-common v15.13.0 2025-09-24 */const hv="redirect_uri_empty",JT="claims_request_parsing_error",fv="authority_uri_insecure",Bo="url_parse_error",gv="empty_url_error",mv="empty_input_scopes_error",fh="invalid_claims",pv="token_request_empty",yv="logout_request_empty",ZT="invalid_code_challenge_method",gh="pkce_params_missing",mh="invalid_cloud_discovery_metadata",vv="invalid_authority_metadata",Av="untrusted_authority",Jl="missing_ssh_jwk",Cv="missing_ssh_kid",WT="missing_nonce_authentication_header",eb="invalid_authentication_header",Sv="cannot_set_OIDCOptions",Tv="cannot_allow_platform_broker",bv="authority_mismatch",Ev="invalid_request_method_for_EAR",wv="invalid_authorize_post_body_parameters";/*! @azure/msal-common v15.13.0 2025-09-24 */const tb={[hv]:"A redirect URI is required for all calls, and none has been set.",[JT]:"Could not parse the given claims request object.",[fv]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Bo]:"URL could not be parsed into appropriate segments.",[gv]:"URL was empty or null.",[mv]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[fh]:"Given claims parameter must be a stringified JSON object.",[pv]:"Token request was empty and not found in cache.",[yv]:"The logout request was null or undefined.",[ZT]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[gh]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[mh]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[vv]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Av]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Jl]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[Cv]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[WT]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[eb]:"Invalid authentication header provided",[Sv]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[Tv]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[bv]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[wv]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[Ev]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST."};class ph extends Ze{constructor(t){super(t,tb[t]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,ph.prototype)}}function nt(c){return new ph(c)}/*! @azure/msal-common v15.13.0 2025-09-24 */class yn{static isEmptyObj(t){if(t)try{const i=JSON.parse(t);return Object.keys(i).length===0}catch{}return!0}static startsWith(t,i){return t.indexOf(i)===0}static endsWith(t,i){return t.length>=i.length&&t.lastIndexOf(i)===t.length-i.length}static queryStringToObject(t){const i={},r=t.split("&"),s=u=>decodeURIComponent(u.replace(/\+/g," "));return r.forEach(u=>{if(u.trim()){const[h,m]=u.split(/=(.+)/g,2);h&&m&&(i[s(h)]=s(m))}}),i}static trimArrayEntries(t){return t.map(i=>i.trim())}static removeEmptyStringsFromArray(t){return t.filter(i=>!!i)}static jsonParseHelper(t){try{return JSON.parse(t)}catch{return null}}static matchPattern(t,i){return new RegExp(t.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(i)}}/*! @azure/msal-common v15.13.0 2025-09-24 */class Et{constructor(t){const i=t?yn.trimArrayEntries([...t]):[],r=i?yn.removeEmptyStringsFromArray(i):[];if(!r||!r.length)throw nt(mv);this.scopes=new Set,r.forEach(s=>this.scopes.add(s))}static fromString(t){const r=(t||j.EMPTY_STRING).split(" ");return new Et(r)}static createSearchScopes(t){const i=t&&t.length>0?t:[...Pr],r=new Et(i);return r.containsOnlyOIDCScopes()?r.removeScope(j.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}containsScope(t){const i=this.printScopesLowerCase().split(" "),r=new Et(i);return t?r.scopes.has(t.toLowerCase()):!1}containsScopeSet(t){return!t||t.scopes.size<=0?!1:this.scopes.size>=t.scopes.size&&t.asArray().every(i=>this.containsScope(i))}containsOnlyOIDCScopes(){let t=0;return iy.forEach(i=>{this.containsScope(i)&&(t+=1)}),this.scopes.size===t}appendScope(t){t&&this.scopes.add(t.trim())}appendScopes(t){try{t.forEach(i=>this.appendScope(i))}catch{throw $(rv)}}removeScope(t){if(!t)throw $(av);this.scopes.delete(t.trim())}removeOIDCScopes(){iy.forEach(t=>{this.scopes.delete(t)})}unionScopeSets(t){if(!t)throw $(Ld);const i=new Set;return t.scopes.forEach(r=>i.add(r.toLowerCase())),this.scopes.forEach(r=>i.add(r.toLowerCase())),i}intersectingScopeSets(t){if(!t)throw $(Ld);t.containsOnlyOIDCScopes()||t.removeOIDCScopes();const i=this.unionScopeSets(t),r=t.getScopeCount(),s=this.getScopeCount();return i.size<s+r}getScopeCount(){return this.scopes.size}asArray(){const t=[];return this.scopes.forEach(i=>t.push(i)),t}printScopes(){return this.scopes?this.asArray().join(" "):j.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.13.0 2025-09-24 */function ly(c,t){return!!c&&!!t&&c===t.split(".")[1]}function yh(c,t,i,r){if(r){const{oid:s,sub:u,tid:h,name:m,tfp:p,acr:v,preferred_username:C,upn:w,login_hint:R}=r,B=h||p||v||"";return{tenantId:B,localAccountId:s||u||"",name:m,username:C||w||"",loginHint:R,isHomeTenant:ly(B,c)}}else return{tenantId:i,localAccountId:t,username:"",isHomeTenant:ly(i,c)}}function vh(c,t,i,r){let s=c;if(t){const{isHomeTenant:u,...h}=t;s={...c,...h}}if(i){const{isHomeTenant:u,...h}=yh(c.homeAccountId,c.localAccountId,c.tenantId,i);return s={...s,...h,idTokenClaims:i,idToken:r},s}return s}/*! @azure/msal-common v15.13.0 2025-09-24 */function Hr(c,t){const i=nb(c);try{const r=t(i);return JSON.parse(r)}catch{throw $(rh)}}function nb(c){if(!c)throw $(Vy);const i=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(c);if(!i||i.length<4)throw $(rh);return i[2]}function Rv(c,t){if(t===0||Date.now()-3e5>c+t)throw $(tv)}/*! @azure/msal-common v15.13.0 2025-09-24 */function cy(c){if(!c)return c;let t=c.toLowerCase();return yn.endsWith(t,"?")?t=t.slice(0,-1):yn.endsWith(t,"?/")&&(t=t.slice(0,-2)),yn.endsWith(t,"/")||(t+="/"),t}function _v(c){return c.startsWith("#/")?c.substring(2):c.startsWith("#")||c.startsWith("?")?c.substring(1):c}function xl(c){if(!c||c.indexOf("=")<0)return null;try{const t=_v(c),i=Object.fromEntries(new URLSearchParams(t));if(i.code||i.ear_jwe||i.error||i.error_description||i.state)return i}catch{throw $(Zy)}return null}function Jo(c,t=!0,i){const r=new Array;return c.forEach((s,u)=>{!t&&i&&u in i?r.push(`${u}=${s}`):r.push(`${u}=${encodeURIComponent(s)}`)}),r.join("&")}function uy(c){if(!c)return c;const t=c.split("#")[0];try{const i=new URL(t),r=i.origin+i.pathname+i.search;return cy(r)}catch{return cy(t)}}/*! @azure/msal-common v15.13.0 2025-09-24 */class Be{get urlString(){return this._urlString}constructor(t){if(this._urlString=t,!this._urlString)throw nt(gv);t.includes("#")||(this._urlString=Be.canonicalizeUri(t))}static canonicalizeUri(t){if(t){let i=t.toLowerCase();return yn.endsWith(i,"?")?i=i.slice(0,-1):yn.endsWith(i,"?/")&&(i=i.slice(0,-2)),yn.endsWith(i,"/")||(i+="/"),i}return t}validateAsUri(){let t;try{t=this.getUrlComponents()}catch{throw nt(Bo)}if(!t.HostNameAndPort||!t.PathSegments)throw nt(Bo);if(!t.Protocol||t.Protocol.toLowerCase()!=="https:")throw nt(fv)}static appendQueryString(t,i){return i?t.indexOf("?")<0?`${t}?${i}`:`${t}&${i}`:t}static removeHashFromUrl(t){return Be.canonicalizeUri(t.split("#")[0])}replaceTenantPath(t){const i=this.getUrlComponents(),r=i.PathSegments;return t&&r.length!==0&&(r[0]===ia.COMMON||r[0]===ia.ORGANIZATIONS)&&(r[0]=t),Be.constructAuthorityUriFromObject(i)}getUrlComponents(){const t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),i=this.urlString.match(t);if(!i)throw nt(Bo);const r={Protocol:i[1],HostNameAndPort:i[4],AbsolutePath:i[5],QueryString:i[7]};let s=r.AbsolutePath.split("/");return s=s.filter(u=>u&&u.length>0),r.PathSegments=s,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(t){const i=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=t.match(i);if(!r)throw nt(Bo);return r[2]}static getAbsoluteUrl(t,i){if(t[0]===j.FORWARD_SLASH){const s=new Be(i).getUrlComponents();return s.Protocol+"//"+s.HostNameAndPort+t}return t}static constructAuthorityUriFromObject(t){return new Be(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))}static hashContainsKnownProperties(t){return!!xl(t)}}/*! @azure/msal-common v15.13.0 2025-09-24 */const Iv={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},dy=Iv.endpointMetadata,Ah=Iv.instanceDiscoveryMetadata,Nv=new Set;Ah.metadata.forEach(c=>{c.aliases.forEach(t=>{Nv.add(t)})});function ib(c,t){let i;const r=c.canonicalAuthority;if(r){const s=new Be(r).getUrlComponents().HostNameAndPort;i=hy(s,c.cloudDiscoveryMetadata?.metadata,fn.CONFIG,t)||hy(s,Ah.metadata,fn.HARDCODED_VALUES,t)||c.knownAuthorities}return i||[]}function hy(c,t,i,r){if(r?.trace(`getAliasesFromMetadata called with source: ${i}`),c&&t){const s=Ml(t,c);if(s)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${i}, returning aliases`),s.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${i}`)}return null}function ab(c){return Ml(Ah.metadata,c)}function Ml(c,t){for(let i=0;i<c.length;i++){const r=c[i];if(r.aliases.includes(t))return r}return null}/*! @azure/msal-common v15.13.0 2025-09-24 */const Ol="cache_quota_exceeded",Ch="cache_error_unknown";/*! @azure/msal-common v15.13.0 2025-09-24 */const Nd={[Ol]:"Exceeded cache storage capacity.",[Ch]:"Unexpected error occurred when using cache storage."};class xr extends Ze{constructor(t,i){const r=i||(Nd[t]?Nd[t]:Nd[Ch]);super(`${t}: ${r}`),Object.setPrototypeOf(this,xr.prototype),this.name="CacheError",this.errorCode=t,this.errorMessage=r}}function zd(c){return c instanceof Error?c.name==="QuotaExceededError"||c.name==="NS_ERROR_DOM_QUOTA_REACHED"||c.message.includes("exceeded the quota")?new xr(Ol):new xr(c.name,c.message):new xr(Ch)}/*! @azure/msal-common v15.13.0 2025-09-24 */class Kd{constructor(t,i,r,s,u){this.clientId=t,this.cryptoImpl=i,this.commonLogger=r.clone(dv,dh),this.staticAuthorityOptions=u,this.performanceClient=s}getAllAccounts(t,i){return this.buildTenantProfiles(this.getAccountsFilteredBy(t,i),i,t)}getAccountInfoFilteredBy(t,i){if(Object.keys(t).length===0||Object.values(t).every(s=>!s))return this.commonLogger.warning("getAccountInfoFilteredBy: Account filter is empty or invalid, returning null"),null;const r=this.getAllAccounts(t,i);return r.length>1?r.sort(u=>u.idTokenClaims?-1:1)[0]:r.length===1?r[0]:null}getBaseAccountInfo(t,i){const r=this.getAccountsFilteredBy(t,i);return r.length>0?r[0].getAccountInfo():null}buildTenantProfiles(t,i,r){return t.flatMap(s=>this.getTenantProfilesFromAccountEntity(s,i,r?.tenantId,r))}getTenantedAccountInfoByFilter(t,i,r,s,u){let h=null,m;if(u&&!this.tenantProfileMatchesFilter(r,u))return null;const p=this.getIdToken(t,s,i,r.tenantId);return p&&(m=Hr(p.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(m,u))?null:(h=vh(t,r,m,p?.secret),h)}getTenantProfilesFromAccountEntity(t,i,r,s){const u=t.getAccountInfo();let h=u.tenantProfiles||new Map;const m=this.getTokenKeys();if(r){const v=h.get(r);if(v)h=new Map([[r,v]]);else return[]}const p=[];return h.forEach(v=>{const C=this.getTenantedAccountInfoByFilter(u,m,v,i,s);C&&p.push(C)}),p}tenantProfileMatchesFilter(t,i){return!(i.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(t,i.localAccountId)||i.name&&t.name!==i.name||i.isHomeTenant!==void 0&&t.isHomeTenant!==i.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(t,i){return!(i&&(i.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(t,i.localAccountId)||i.loginHint&&!this.matchLoginHintFromTokenClaims(t,i.loginHint)||i.username&&!this.matchUsername(t.preferred_username,i.username)||i.name&&!this.matchName(t,i.name)||i.sid&&!this.matchSid(t,i.sid)))}async saveCacheRecord(t,i,r){if(!t)throw $(ov);try{t.account&&await this.setAccount(t.account,i),t.idToken&&r?.idToken!==!1&&await this.setIdTokenCredential(t.idToken,i),t.accessToken&&r?.accessToken!==!1&&await this.saveAccessToken(t.accessToken,i),t.refreshToken&&r?.refreshToken!==!1&&await this.setRefreshTokenCredential(t.refreshToken,i),t.appMetadata&&this.setAppMetadata(t.appMetadata,i)}catch(s){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),s instanceof Ze?s:zd(s)}}async saveAccessToken(t,i){const r={clientId:t.clientId,credentialType:t.credentialType,environment:t.environment,homeAccountId:t.homeAccountId,realm:t.realm,tokenType:t.tokenType,requestedClaimsHash:t.requestedClaimsHash},s=this.getTokenKeys(),u=Et.fromString(t.target);s.accessToken.forEach(h=>{if(!this.accessTokenKeyMatchesFilter(h,r,!1))return;const m=this.getAccessTokenCredential(h,i);m&&this.credentialMatchesFilter(m,r)&&Et.fromString(m.target).intersectingScopeSets(u)&&this.removeAccessToken(h,i)}),await this.setAccessTokenCredential(t,i)}getAccountsFilteredBy(t,i){const r=this.getAccountKeys(),s=[];return r.forEach(u=>{const h=this.getAccount(u,i);if(!h||t.homeAccountId&&!this.matchHomeAccountId(h,t.homeAccountId)||t.username&&!this.matchUsername(h.username,t.username)||t.environment&&!this.matchEnvironment(h,t.environment)||t.realm&&!this.matchRealm(h,t.realm)||t.nativeAccountId&&!this.matchNativeAccountId(h,t.nativeAccountId)||t.authorityType&&!this.matchAuthorityType(h,t.authorityType))return;const m={localAccountId:t?.localAccountId,name:t?.name},p=h.tenantProfiles?.filter(v=>this.tenantProfileMatchesFilter(v,m));p&&p.length===0||s.push(h)}),s}credentialMatchesFilter(t,i){return!(i.clientId&&!this.matchClientId(t,i.clientId)||i.userAssertionHash&&!this.matchUserAssertionHash(t,i.userAssertionHash)||typeof i.homeAccountId=="string"&&!this.matchHomeAccountId(t,i.homeAccountId)||i.environment&&!this.matchEnvironment(t,i.environment)||i.realm&&!this.matchRealm(t,i.realm)||i.credentialType&&!this.matchCredentialType(t,i.credentialType)||i.familyId&&!this.matchFamilyId(t,i.familyId)||i.target&&!this.matchTarget(t,i.target)||(i.requestedClaimsHash||t.requestedClaimsHash)&&t.requestedClaimsHash!==i.requestedClaimsHash||t.credentialType===jt.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(i.tokenType&&!this.matchTokenType(t,i.tokenType)||i.tokenType===Ye.SSH&&i.keyId&&!this.matchKeyId(t,i.keyId)))}getAppMetadataFilteredBy(t){const i=this.getKeys(),r={};return i.forEach(s=>{if(!this.isAppMetadata(s))return;const u=this.getAppMetadata(s);u&&(t.environment&&!this.matchEnvironment(u,t.environment)||t.clientId&&!this.matchClientId(u,t.clientId)||(r[s]=u))}),r}getAuthorityMetadataByAlias(t){const i=this.getAuthorityMetadataKeys();let r=null;return i.forEach(s=>{if(!this.isAuthorityMetadata(s)||s.indexOf(this.clientId)===-1)return;const u=this.getAuthorityMetadata(s);u&&u.aliases.indexOf(t)!==-1&&(r=u)}),r}removeAllAccounts(t){this.getAllAccounts({},t).forEach(r=>{this.removeAccount(r,t)})}removeAccount(t,i){this.removeAccountContext(t,i);const r=this.getAccountKeys(),s=u=>u.includes(t.homeAccountId)&&u.includes(t.environment);r.filter(s).forEach(u=>{this.removeItem(u,i),this.performanceClient.incrementFields({accountsRemoved:1},i)})}removeAccountContext(t,i){const r=this.getTokenKeys(),s=u=>u.includes(t.homeAccountId)&&u.includes(t.environment);r.idToken.filter(s).forEach(u=>{this.removeIdToken(u,i)}),r.accessToken.filter(s).forEach(u=>{this.removeAccessToken(u,i)}),r.refreshToken.filter(s).forEach(u=>{this.removeRefreshToken(u,i)})}removeAccessToken(t,i){const r=this.getAccessTokenCredential(t,i);if(this.removeItem(t,i),this.performanceClient.incrementFields({accessTokensRemoved:1},i),!r||r.credentialType.toLowerCase()!==jt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||r.tokenType!==Ye.POP)return;const s=r.keyId;s&&this.cryptoImpl.removeTokenBindingKey(s).catch(()=>{this.commonLogger.error(`Failed to remove token binding key ${s}`,i),this.performanceClient?.incrementFields({removeTokenBindingKeyFailure:1},i)})}removeAppMetadata(t){return this.getKeys().forEach(r=>{this.isAppMetadata(r)&&this.removeItem(r,t)}),!0}getIdToken(t,i,r,s,u){this.commonLogger.trace("CacheManager - getIdToken called");const h={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:jt.ID_TOKEN,clientId:this.clientId,realm:s},m=this.getIdTokensByFilter(h,i,r),p=m.size;if(p<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(p>1){let v=m;if(!s){const C=new Map;m.forEach((R,B)=>{R.realm===t.tenantId&&C.set(B,R)});const w=C.size;if(w<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),m.values().next().value;if(w===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),C.values().next().value;v=C}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),v.forEach((C,w)=>{this.removeIdToken(w,i)}),u&&i&&u.addFields({multiMatchedID:m.size},i),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),m.values().next().value}getIdTokensByFilter(t,i,r){const s=r&&r.idToken||this.getTokenKeys().idToken,u=new Map;return s.forEach(h=>{if(!this.idTokenKeyMatchesFilter(h,{clientId:this.clientId,...t}))return;const m=this.getIdTokenCredential(h,i);m&&this.credentialMatchesFilter(m,t)&&u.set(h,m)}),u}idTokenKeyMatchesFilter(t,i){const r=t.toLowerCase();return!(i.clientId&&r.indexOf(i.clientId.toLowerCase())===-1||i.homeAccountId&&r.indexOf(i.homeAccountId.toLowerCase())===-1)}removeIdToken(t,i){this.removeItem(t,i)}removeRefreshToken(t,i){this.removeItem(t,i)}getAccessToken(t,i,r,s){const u=i.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",u);const h=Et.createSearchScopes(i.scopes),m=i.authenticationScheme||Ye.BEARER,p=m.toLowerCase()!==Ye.BEARER.toLowerCase()?jt.ACCESS_TOKEN_WITH_AUTH_SCHEME:jt.ACCESS_TOKEN,v={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:p,clientId:this.clientId,realm:s||t.tenantId,target:h,tokenType:m,keyId:i.sshKid,requestedClaimsHash:i.requestedClaimsHash},C=r&&r.accessToken||this.getTokenKeys().accessToken,w=[];C.forEach(B=>{if(this.accessTokenKeyMatchesFilter(B,v,!0)){const ue=this.getAccessTokenCredential(B,u);ue&&this.credentialMatchesFilter(ue,v)&&w.push(ue)}});const R=w.length;return R<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",u),null):R>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",u),w.forEach(B=>{this.removeAccessToken(this.generateCredentialKey(B),u)}),this.performanceClient.addFields({multiMatchedAT:w.length},u),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",u),w[0])}accessTokenKeyMatchesFilter(t,i,r){const s=t.toLowerCase();if(i.clientId&&s.indexOf(i.clientId.toLowerCase())===-1||i.homeAccountId&&s.indexOf(i.homeAccountId.toLowerCase())===-1||i.realm&&s.indexOf(i.realm.toLowerCase())===-1||i.requestedClaimsHash&&s.indexOf(i.requestedClaimsHash.toLowerCase())===-1)return!1;if(i.target){const u=i.target.asArray();for(let h=0;h<u.length;h++){if(r&&!s.includes(u[h].toLowerCase()))return!1;if(!r&&s.includes(u[h].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(t,i){const r=this.getTokenKeys(),s=[];return r.accessToken.forEach(u=>{if(!this.accessTokenKeyMatchesFilter(u,t,!0))return;const h=this.getAccessTokenCredential(u,i);h&&this.credentialMatchesFilter(h,t)&&s.push(h)}),s}getRefreshToken(t,i,r,s,u){this.commonLogger.trace("CacheManager - getRefreshToken called");const h=i?Rl:void 0,m={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:jt.REFRESH_TOKEN,clientId:this.clientId,familyId:h},p=s&&s.refreshToken||this.getTokenKeys().refreshToken,v=[];p.forEach(w=>{if(this.refreshTokenKeyMatchesFilter(w,m)){const R=this.getRefreshTokenCredential(w,r);R&&this.credentialMatchesFilter(R,m)&&v.push(R)}});const C=v.length;return C<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(C>1&&u&&r&&u.addFields({multiMatchedRT:C},r),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),v[0])}refreshTokenKeyMatchesFilter(t,i){const r=t.toLowerCase();return!(i.familyId&&r.indexOf(i.familyId.toLowerCase())===-1||!i.familyId&&i.clientId&&r.indexOf(i.clientId.toLowerCase())===-1||i.homeAccountId&&r.indexOf(i.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(t){const i={environment:t,clientId:this.clientId},r=this.getAppMetadataFilteredBy(i),s=Object.keys(r).map(h=>r[h]),u=s.length;if(u<1)return null;if(u>1)throw $(nv);return s[0]}isAppMetadataFOCI(t){const i=this.readAppMetadataFromCache(t);return!!(i&&i.familyId===Rl)}matchHomeAccountId(t,i){return typeof t.homeAccountId=="string"&&i===t.homeAccountId}matchLocalAccountIdFromTokenClaims(t,i){const r=t.oid||t.sub;return i===r}matchLocalAccountIdFromTenantProfile(t,i){return t.localAccountId===i}matchName(t,i){return i.toLowerCase()===t.name?.toLowerCase()}matchUsername(t,i){return!!(t&&typeof t=="string"&&i?.toLowerCase()===t.toLowerCase())}matchUserAssertionHash(t,i){return!!(t.userAssertionHash&&i===t.userAssertionHash)}matchEnvironment(t,i){if(this.staticAuthorityOptions){const s=ib(this.staticAuthorityOptions,this.commonLogger);if(s.includes(i)&&s.includes(t.environment))return!0}const r=this.getAuthorityMetadataByAlias(i);return!!(r&&r.aliases.indexOf(t.environment)>-1)}matchCredentialType(t,i){return t.credentialType&&i.toLowerCase()===t.credentialType.toLowerCase()}matchClientId(t,i){return!!(t.clientId&&i===t.clientId)}matchFamilyId(t,i){return!!(t.familyId&&i===t.familyId)}matchRealm(t,i){return t.realm?.toLowerCase()===i.toLowerCase()}matchNativeAccountId(t,i){return!!(t.nativeAccountId&&i===t.nativeAccountId)}matchLoginHintFromTokenClaims(t,i){return t.login_hint===i||t.preferred_username===i||t.upn===i}matchSid(t,i){return t.sid===i}matchAuthorityType(t,i){return!!(t.authorityType&&i.toLowerCase()===t.authorityType.toLowerCase())}matchTarget(t,i){return t.credentialType!==jt.ACCESS_TOKEN&&t.credentialType!==jt.ACCESS_TOKEN_WITH_AUTH_SCHEME||!t.target?!1:Et.fromString(t.target).containsScopeSet(i)}matchTokenType(t,i){return!!(t.tokenType&&t.tokenType===i)}matchKeyId(t,i){return!!(t.keyId&&t.keyId===i)}isAppMetadata(t){return t.indexOf(ih)!==-1}isAuthorityMetadata(t){return t.indexOf(_l.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(t){return`${_l.CACHE_KEY}-${this.clientId}-${t}`}static toObject(t,i){for(const r in i)t[r]=i[r];return t}}class rb extends Kd{async setAccount(){throw $(_e)}getAccount(){throw $(_e)}async setIdTokenCredential(){throw $(_e)}getIdTokenCredential(){throw $(_e)}async setAccessTokenCredential(){throw $(_e)}getAccessTokenCredential(){throw $(_e)}async setRefreshTokenCredential(){throw $(_e)}getRefreshTokenCredential(){throw $(_e)}setAppMetadata(){throw $(_e)}getAppMetadata(){throw $(_e)}setServerTelemetry(){throw $(_e)}getServerTelemetry(){throw $(_e)}setAuthorityMetadata(){throw $(_e)}getAuthorityMetadata(){throw $(_e)}getAuthorityMetadataKeys(){throw $(_e)}setThrottlingCache(){throw $(_e)}getThrottlingCache(){throw $(_e)}removeItem(){throw $(_e)}getKeys(){throw $(_e)}getAccountKeys(){throw $(_e)}getTokenKeys(){throw $(_e)}generateCredentialKey(){throw $(_e)}generateAccountKey(){throw $(_e)}}/*! @azure/msal-common v15.13.0 2025-09-24 */const nn={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};/*! @azure/msal-common v15.13.0 2025-09-24 */const E={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},ob={InProgress:1};/*! @azure/msal-common v15.13.0 2025-09-24 */class fy{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class xv{generateId(){return"callback-id"}startMeasurement(t,i){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:ob.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:t,startTimeMs:Date.now(),correlationId:i||""},measurement:new fy}}startPerformanceMeasurement(){return new fy}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-common v15.13.0 2025-09-24 */const Mv={tokenRenewalOffsetSeconds:Yy,preventCorsPreflight:!1},sb={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ot.Info,correlationId:j.EMPTY_STRING},lb={claimsBasedCachingEnabled:!1},cb={async sendGetRequestAsync(){throw $(_e)},async sendPostRequestAsync(){throw $(_e)}},ub={sku:j.SKU,version:dh,cpu:j.EMPTY_STRING,os:j.EMPTY_STRING},db={clientSecret:j.EMPTY_STRING,clientAssertion:void 0},hb={azureCloudInstance:hh.None,tenant:`${j.DEFAULT_COMMON_TENANT}`},fb={application:{appName:"",appVersion:""}};function gb({authOptions:c,systemOptions:t,loggerOptions:i,cacheOptions:r,storageInterface:s,networkInterface:u,cryptoInterface:h,clientCredentials:m,libraryInfo:p,telemetry:v,serverTelemetryManager:C,persistencePlugin:w,serializableCache:R}){const B={...sb,...i};return{authOptions:mb(c),systemOptions:{...Mv,...t},loggerOptions:B,cacheOptions:{...lb,...r},storageInterface:s||new rb(c.clientId,Nl,new ca(B),new xv),networkInterface:u||cb,cryptoInterface:h||Nl,clientCredentials:m||db,libraryInfo:{...ub,...p},telemetry:{...fb,...v},serverTelemetryManager:C||null,persistencePlugin:w||null,serializableCache:R||null}}function mb(c){return{clientCapabilities:[],azureCloudOptions:hb,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...c}}function Ov(c){return c.authOptions.authority.options.protocolMode===nn.OIDC}/*! @azure/msal-common v15.13.0 2025-09-24 */const zn={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.13.0 2025-09-24 */function kl(c,t){if(!c)throw $($y);try{const i=t(c);return JSON.parse(i)}catch{throw $(ah)}}function Mr(c){if(!c)throw $(ah);const t=c.split(Xo.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?j.EMPTY_STRING:t[1]}}/*! @azure/msal-common v15.13.0 2025-09-24 */const ka="client_id",kv="redirect_uri",pb="response_type",yb="response_mode",vb="grant_type",Ab="claims",Cb="scope",Sb="refresh_token",Tb="state",bb="nonce",Eb="prompt",wb="code",Rb="code_challenge",_b="code_challenge_method",Ib="code_verifier",Nb="client-request-id",xb="x-client-SKU",Mb="x-client-VER",Ob="x-client-OS",kb="x-client-CPU",Db="x-client-current-telemetry",Ub="x-client-last-telemetry",Pb="x-ms-lib-capability",Hb="x-app-name",Lb="x-app-ver",jb="post_logout_redirect_uri",Bb="id_token_hint",zb="client_secret",Kb="client_assertion",Gb="client_assertion_type",Dv="token_type",Uv="req_cnf",gy="return_spa_code",qb="nativebroker",Fb="logout_hint",Qb="sid",Yb="login_hint",$b="domain_hint",Vb="x-client-xtra-sku",Dl="brk_client_id",Ul="brk_redirect_uri",Gd="instance_aware",Xb="ear_jwk",Jb="ear_jwe_crypto";/*! @azure/msal-common v15.13.0 2025-09-24 */function Zl(c,t,i){if(!t)return;const r=c.get(ka);r&&c.has(Dl)&&i?.addFields({embeddedClientId:r,embeddedRedirectUri:c.get(kv)},t)}function Sh(c,t){c.set(pb,t)}function Zb(c,t){c.set(yb,t||DT.QUERY)}function Wb(c){c.set(qb,"1")}function Th(c,t,i=!0,r=Pr){i&&!r.includes("openid")&&!t.includes("openid")&&r.push("openid");const s=i?[...t||[],...r]:t||[],u=new Et(s);c.set(Cb,u.printScopes())}function bh(c,t){c.set(ka,t)}function Eh(c,t){c.set(kv,t)}function eE(c,t){c.set(jb,t)}function tE(c,t){c.set(Bb,t)}function nE(c,t){c.set($b,t)}function vl(c,t){c.set(Yb,t)}function Pl(c,t){c.set(Vt.CCS_HEADER,`UPN:${t}`)}function Go(c,t){c.set(Vt.CCS_HEADER,`Oid:${t.uid}@${t.utid}`)}function my(c,t){c.set(Qb,t)}function wh(c,t,i){const r=lE(t,i);try{JSON.parse(r)}catch{throw nt(fh)}c.set(Ab,r)}function Rh(c,t){c.set(Nb,t)}function _h(c,t){c.set(xb,t.sku),c.set(Mb,t.version),t.os&&c.set(Ob,t.os),t.cpu&&c.set(kb,t.cpu)}function Ih(c,t){t?.appName&&c.set(Hb,t.appName),t?.appVersion&&c.set(Lb,t.appVersion)}function iE(c,t){c.set(Eb,t)}function Pv(c,t){t&&c.set(Tb,t)}function aE(c,t){c.set(bb,t)}function Hv(c,t,i){if(t&&i)c.set(Rb,t),c.set(_b,i);else throw nt(gh)}function rE(c,t){c.set(wb,t)}function oE(c,t){c.set(Sb,t)}function sE(c,t){c.set(Ib,t)}function Lv(c,t){c.set(zb,t)}function jv(c,t){t&&c.set(Kb,t)}function Bv(c,t){t&&c.set(Gb,t)}function zv(c,t){c.set(vb,t)}function Nh(c){c.set(UT,"1")}function Kv(c){c.has(Gd)||c.set(Gd,"true")}function ra(c,t){Object.entries(t).forEach(([i,r])=>{!c.has(i)&&r&&c.set(i,r)})}function lE(c,t){let i;if(!c)i={};else try{i=JSON.parse(c)}catch{throw nt(fh)}return t&&t.length>0&&(i.hasOwnProperty(pl.ACCESS_TOKEN)||(i[pl.ACCESS_TOKEN]={}),i[pl.ACCESS_TOKEN][pl.XMS_CC]={values:t}),JSON.stringify(i)}function xh(c,t){t&&(c.set(Dv,Ye.POP),c.set(Uv,t))}function Gv(c,t){t&&(c.set(Dv,Ye.SSH),c.set(Uv,t))}function qv(c,t){c.set(Db,t.generateCurrentRequestHeaderValue()),c.set(Ub,t.generateLastRequestHeaderValue())}function Fv(c){c.set(Pb,Ko.X_MS_LIB_CAPABILITY_VALUE)}function cE(c,t){c.set(Fb,t)}function Wl(c,t,i){c.has(Dl)||c.set(Dl,t),c.has(Ul)||c.set(Ul,i)}function uE(c,t){c.set(Xb,encodeURIComponent(t)),c.set(Jb,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}function dE(c,t){Object.entries(t).forEach(([i,r])=>{r&&c.set(i,r)})}/*! @azure/msal-common v15.13.0 2025-09-24 */const Bn={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.13.0 2025-09-24 */function hE(c){return c.hasOwnProperty("authorization_endpoint")&&c.hasOwnProperty("token_endpoint")&&c.hasOwnProperty("issuer")&&c.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.13.0 2025-09-24 */function fE(c){return c.hasOwnProperty("tenant_discovery_endpoint")&&c.hasOwnProperty("metadata")}/*! @azure/msal-common v15.13.0 2025-09-24 */function gE(c){return c.hasOwnProperty("error")&&c.hasOwnProperty("error_description")}/*! @azure/msal-common v15.13.0 2025-09-24 */const vn=(c,t,i,r,s)=>(...u)=>{i.trace(`Executing function ${t}`);const h=r?.startMeasurement(t,s);if(s){const m=t+"CallCount";r?.incrementFields({[m]:1},s)}try{const m=c(...u);return h?.end({success:!0}),i.trace(`Returning result from ${t}`),m}catch(m){i.trace(`Error occurred in ${t}`);try{i.trace(JSON.stringify(m))}catch{i.trace("Unable to print error message.")}throw h?.end({success:!1},m),m}},H=(c,t,i,r,s)=>(...u)=>{i.trace(`Executing function ${t}`);const h=r?.startMeasurement(t,s);if(s){const m=t+"CallCount";r?.incrementFields({[m]:1},s)}return r?.setPreQueueTime(t,s),c(...u).then(m=>(i.trace(`Returning result from ${t}`),h?.end({success:!0}),m)).catch(m=>{i.trace(`Error occurred in ${t}`);try{i.trace(JSON.stringify(m))}catch{i.trace("Unable to print error message.")}throw h?.end({success:!1},m),m})};/*! @azure/msal-common v15.13.0 2025-09-24 */class ec{constructor(t,i,r,s){this.networkInterface=t,this.logger=i,this.performanceClient=r,this.correlationId=s}async detectRegion(t,i){this.performanceClient?.addQueueMeasurement(E.RegionDiscoveryDetectRegion,this.correlationId);let r=t;if(r)i.region_source=_r.ENVIRONMENT_VARIABLE;else{const s=ec.IMDS_OPTIONS;try{const u=await H(this.getRegionFromIMDS.bind(this),E.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(j.IMDS_VERSION,s);if(u.status===na.SUCCESS&&(r=u.body,i.region_source=_r.IMDS),u.status===na.BAD_REQUEST){const h=await H(this.getCurrentVersion.bind(this),E.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(s);if(!h)return i.region_source=_r.FAILED_AUTO_DETECTION,null;const m=await H(this.getRegionFromIMDS.bind(this),E.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(h,s);m.status===na.SUCCESS&&(r=m.body,i.region_source=_r.IMDS)}}catch{return i.region_source=_r.FAILED_AUTO_DETECTION,null}}return r||(i.region_source=_r.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(t,i){return this.performanceClient?.addQueueMeasurement(E.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${j.IMDS_ENDPOINT}?api-version=${t}&format=text`,i,j.IMDS_TIMEOUT)}async getCurrentVersion(t){this.performanceClient?.addQueueMeasurement(E.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const i=await this.networkInterface.sendGetRequestAsync(`${j.IMDS_ENDPOINT}?format=json`,t);return i.status===na.BAD_REQUEST&&i.body&&i.body["newest-versions"]&&i.body["newest-versions"].length>0?i.body["newest-versions"][0]:null}catch{return null}}}ec.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.13.0 2025-09-24 */function an(){return Math.round(new Date().getTime()/1e3)}function py(c){return c.getTime()/1e3}function Or(c){return c?new Date(Number(c)*1e3):new Date}function Hl(c,t){const i=Number(c)||0;return an()+t>i}function mE(c,t){const i=Number(c)+t*24*60*60*1e3;return Date.now()>i}function pE(c){return Number(c)>an()}/*! @azure/msal-common v15.13.0 2025-09-24 */function tc(c,t,i,r,s){return{credentialType:jt.ID_TOKEN,homeAccountId:c,environment:t,clientId:r,secret:i,realm:s,lastUpdatedAt:Date.now().toString()}}function nc(c,t,i,r,s,u,h,m,p,v,C,w,R,B,ue){const fe={homeAccountId:c,credentialType:jt.ACCESS_TOKEN,secret:i,cachedAt:an().toString(),expiresOn:h.toString(),extendedExpiresOn:m.toString(),environment:t,clientId:r,realm:s,target:u,tokenType:C||Ye.BEARER,lastUpdatedAt:Date.now().toString()};if(w&&(fe.userAssertionHash=w),v&&(fe.refreshOn=v.toString()),B&&(fe.requestedClaims=B,fe.requestedClaimsHash=ue),fe.tokenType?.toLowerCase()!==Ye.BEARER.toLowerCase())switch(fe.credentialType=jt.ACCESS_TOKEN_WITH_AUTH_SCHEME,fe.tokenType){case Ye.POP:const xe=Hr(i,p);if(!xe?.cnf?.kid)throw $(sv);fe.keyId=xe.cnf.kid;break;case Ye.SSH:fe.keyId=R}return fe}function Qv(c,t,i,r,s,u,h){const m={credentialType:jt.REFRESH_TOKEN,homeAccountId:c,environment:t,clientId:r,secret:i,lastUpdatedAt:Date.now().toString()};return u&&(m.userAssertionHash=u),s&&(m.familyId=s),h&&(m.expiresOn=h.toString()),m}function Mh(c){return c.hasOwnProperty("homeAccountId")&&c.hasOwnProperty("environment")&&c.hasOwnProperty("credentialType")&&c.hasOwnProperty("clientId")&&c.hasOwnProperty("secret")}function yy(c){return c?Mh(c)&&c.hasOwnProperty("realm")&&c.hasOwnProperty("target")&&(c.credentialType===jt.ACCESS_TOKEN||c.credentialType===jt.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function yE(c){return c?Mh(c)&&c.hasOwnProperty("realm")&&c.credentialType===jt.ID_TOKEN:!1}function vy(c){return c?Mh(c)&&c.credentialType===jt.REFRESH_TOKEN:!1}function vE(c,t){const i=c.indexOf(Lt.CACHE_KEY)===0;let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),i&&r}function AE(c,t){let i=!1;c&&(i=c.indexOf(Ko.THROTTLING_PREFIX)===0);let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),i&&r}function CE({environment:c,clientId:t}){return[ih,c,t].join(Xo.CACHE_KEY_SEPARATOR).toLowerCase()}function SE(c,t){return t?c.indexOf(ih)===0&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment"):!1}function TE(c,t){return t?c.indexOf(_l.CACHE_KEY)===0&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri"):!1}function Ay(){return an()+_l.REFRESH_TIME_SECONDS}function Al(c,t,i){c.authorization_endpoint=t.authorization_endpoint,c.token_endpoint=t.token_endpoint,c.end_session_endpoint=t.end_session_endpoint,c.issuer=t.issuer,c.endpointsFromNetwork=i,c.jwks_uri=t.jwks_uri}function xd(c,t,i){c.aliases=t.aliases,c.preferred_cache=t.preferred_cache,c.preferred_network=t.preferred_network,c.aliasesFromNetwork=i}function Cy(c){return c.expiresAt<=an()}/*! @azure/msal-common v15.13.0 2025-09-24 */class Kt{constructor(t,i,r,s,u,h,m,p){this.canonicalAuthority=t,this._canonicalAuthority.validateAsUri(),this.networkInterface=i,this.cacheManager=r,this.authorityOptions=s,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=u,this.performanceClient=m,this.correlationId=h,this.managedIdentity=p||!1,this.regionDiscovery=new ec(i,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(t){if(t.HostNameAndPort.endsWith(j.CIAM_AUTH_URL))return Bn.Ciam;const i=t.PathSegments;if(i.length)switch(i[0].toLowerCase()){case j.ADFS:return Bn.Adfs;case j.DSTS:return Bn.Dsts}return Bn.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(t){this._canonicalAuthority=new Be(t),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw $(Ei)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw $(Ei)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw $(Ei)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw $(uv);return this.replacePath(this.metadata.end_session_endpoint)}else throw $(Ei)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw $(Ei)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw $(Ei)}canReplaceTenant(t){return t.PathSegments.length===1&&!Kt.reservedTenantDomains.has(t.PathSegments[0])&&this.getAuthorityType(t)===Bn.Default&&this.protocolMode!==nn.OIDC}replaceTenant(t){return t.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(t){let i=t;const s=new Be(this.metadata.canonical_authority).getUrlComponents(),u=s.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((m,p)=>{let v=u[p];if(p===0&&this.canReplaceTenant(s)){const C=new Be(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];v!==C&&(this.logger.verbose(`Replacing tenant domain name ${v} with id ${C}`),v=C)}m!==v&&(i=i.replace(`/${v}/`,`/${m}/`))}),this.replaceTenant(i)}get defaultOpenIdConfigurationEndpoint(){const t=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Bn.Adfs||this.protocolMode===nn.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(t)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(E.AuthorityResolveEndpointsAsync,this.correlationId);const t=this.getCurrentMetadataEntity(),i=await H(this.updateCloudDiscoveryMetadata.bind(this),E.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(t);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,t.preferred_network);const r=await H(this.updateEndpointMetadata.bind(this),E.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(t);this.updateCachedMetadata(t,i,{source:r}),this.performanceClient?.addFields({cloudDiscoverySource:i,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let t=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return t||(t={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Ay(),jwks_uri:""}),t}updateCachedMetadata(t,i,r){i!==fn.CACHE&&r?.source!==fn.CACHE&&(t.expiresAt=Ay(),t.canonical_authority=this.canonicalAuthority);const s=this.cacheManager.generateAuthorityMetadataCacheKey(t.preferred_cache);this.cacheManager.setAuthorityMetadata(s,t),this.metadata=t}async updateEndpointMetadata(t){this.performanceClient?.addQueueMeasurement(E.AuthorityUpdateEndpointMetadata,this.correlationId);const i=this.updateEndpointMetadataFromLocalSources(t);if(i){if(i.source===fn.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&i.metadata){const s=await H(this.updateMetadataWithRegionalInformation.bind(this),E.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(i.metadata);Al(t,s,!1),t.canonical_authority=this.canonicalAuthority}return i.source}let r=await H(this.getEndpointMetadataFromNetwork.bind(this),E.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(r=await H(this.updateMetadataWithRegionalInformation.bind(this),E.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),Al(t,r,!0),fn.NETWORK;throw $(Jy,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(t){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const i=this.getEndpointMetadataFromConfig();if(i)return this.logger.verbose("Found endpoint metadata in authority configuration"),Al(t,i,!1),{source:fn.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const s=this.getEndpointMetadataFromHardcodedValues();if(s)return Al(t,s,!1),{source:fn.HARDCODED_VALUES,metadata:s};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=Cy(t);return this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:fn.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(t){return new Be(t.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw nt(vv)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(E.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const t={},i=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${i}`);try{const r=await this.networkInterface.sendGetRequestAsync(i,t);return hE(r.body)?r.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(r){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${r}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in dy?dy[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(t){this.performanceClient?.addQueueMeasurement(E.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const i=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(i){if(i!==j.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Id.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=i,Kt.replaceWithRegionalInformation(t,i);const r=await H(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),E.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(r)return this.regionDiscoveryMetadata.region_outcome=Id.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=r,Kt.replaceWithRegionalInformation(t,r);this.regionDiscoveryMetadata.region_outcome=Id.AUTO_DETECTION_REQUESTED_FAILED}return t}async updateCloudDiscoveryMetadata(t){this.performanceClient?.addQueueMeasurement(E.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const i=this.updateCloudDiscoveryMetadataFromLocalSources(t);if(i)return i;const r=await H(this.getCloudDiscoveryMetadataFromNetwork.bind(this),E.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return xd(t,r,!0),fn.NETWORK;throw nt(Av)}updateCloudDiscoveryMetadataFromLocalSources(t){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||j.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||j.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${t.canonical_authority||j.NOT_APPLICABLE}`);const i=this.getCloudDiscoveryMetadataFromConfig();if(i)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),xd(t,i,!1),fn.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const s=ab(this.hostnameAndPort);if(s)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),xd(t,s,!1),fn.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=Cy(t);return this.isAuthoritySameType(t)&&t.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),fn.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Bn.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Kt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),i=Ml(t.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),i)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),i;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),nt(mh)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Kt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(E.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const t=`${j.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,i={};let r=null;try{const s=await this.networkInterface.sendGetRequestAsync(t,i);let u,h;if(fE(s.body))u=s.body,h=u.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${u.tenant_discovery_endpoint}`);else if(gE(s.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${s.status}`),u=s.body,u.error===j.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${u.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${u.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),h=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=Ml(h,this.hostnameAndPort)}catch(s){if(s instanceof Ze)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${s.errorCode}
Error Description: ${s.errorMessage}`);else{const u=s;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${u.name}
Error Description: ${u.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Kt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(i=>i&&Be.getDomainFromUrl(i).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(t,i){let r;if(i&&i.azureCloudInstance!==hh.None){const s=i.tenant?i.tenant:j.DEFAULT_COMMON_TENANT;r=`${i.azureCloudInstance}/${s}/`}return r||t}static createCloudDiscoveryMetadataFromHost(t){return{preferred_network:t,preferred_cache:t,aliases:[t]}}getPreferredCache(){if(this.managedIdentity)return j.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw $(Ei)}isAlias(t){return this.metadata.aliases.indexOf(t)>-1}isAliasOfKnownMicrosoftAuthority(t){return Nv.has(t)}static isPublicCloudAuthority(t){return j.KNOWN_PUBLIC_CLOUDS.indexOf(t)>=0}static buildRegionalAuthorityString(t,i,r){const s=new Be(t);s.validateAsUri();const u=s.getUrlComponents();let h=`${i}.${u.HostNameAndPort}`;this.isPublicCloudAuthority(u.HostNameAndPort)&&(h=`${i}.${j.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const m=Be.constructAuthorityUriFromObject({...s.getUrlComponents(),HostNameAndPort:h}).urlString;return r?`${m}?${r}`:m}static replaceWithRegionalInformation(t,i){const r={...t};return r.authorization_endpoint=Kt.buildRegionalAuthorityString(r.authorization_endpoint,i),r.token_endpoint=Kt.buildRegionalAuthorityString(r.token_endpoint,i),r.end_session_endpoint&&(r.end_session_endpoint=Kt.buildRegionalAuthorityString(r.end_session_endpoint,i)),r}static transformCIAMAuthority(t){let i=t;const s=new Be(t).getUrlComponents();if(s.PathSegments.length===0&&s.HostNameAndPort.endsWith(j.CIAM_AUTH_URL)){const u=s.HostNameAndPort.split(".")[0];i=`${i}${u}${j.AAD_TENANT_DOMAIN_SUFFIX}`}return i}}Kt.reservedTenantDomains=new Set(["{tenant}","{tenantid}",ia.COMMON,ia.CONSUMERS,ia.ORGANIZATIONS]);function bE(c){const r=new Be(c).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(r){case ia.COMMON:case ia.ORGANIZATIONS:case ia.CONSUMERS:return;default:return r}}function Yv(c){return c.endsWith(j.FORWARD_SLASH)?c:`${c}${j.FORWARD_SLASH}`}function EE(c){const t=c.cloudDiscoveryMetadata;let i;if(t)try{i=JSON.parse(t)}catch{throw nt(mh)}return{canonicalAuthority:c.authority?Yv(c.authority):void 0,knownAuthorities:c.knownAuthorities,cloudDiscoveryMetadata:i}}/*! @azure/msal-common v15.13.0 2025-09-24 */async function $v(c,t,i,r,s,u,h){h?.addQueueMeasurement(E.AuthorityFactoryCreateDiscoveredInstance,u);const m=Kt.transformCIAMAuthority(Yv(c)),p=new Kt(m,t,i,r,s,u,h);try{return await H(p.resolveEndpointsAsync.bind(p),E.AuthorityResolveEndpointsAsync,s,h,u)(),p}catch{throw $(Ei)}}/*! @azure/msal-common v15.13.0 2025-09-24 */class ja extends Ze{constructor(t,i,r,s,u){super(t,i,r),this.name="ServerError",this.errorNo=s,this.status=u,Object.setPrototypeOf(this,ja.prototype)}}/*! @azure/msal-common v15.13.0 2025-09-24 */function ic(c,t,i){return{clientId:c,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:i,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||t.tokenBodyParameters?.clientId}}/*! @azure/msal-common v15.13.0 2025-09-24 */class ri{static generateThrottlingStorageKey(t){return`${Ko.THROTTLING_PREFIX}.${JSON.stringify(t)}`}static preProcess(t,i,r){const s=ri.generateThrottlingStorageKey(i),u=t.getThrottlingCache(s);if(u){if(u.throttleTime<Date.now()){t.removeItem(s,r);return}throw new ja(u.errorCodes?.join(" ")||j.EMPTY_STRING,u.errorMessage,u.subError)}}static postProcess(t,i,r,s){if(ri.checkResponseStatus(r)||ri.checkResponseForRetryAfter(r)){const u={throttleTime:ri.calculateThrottleTime(parseInt(r.headers[Vt.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};t.setThrottlingCache(ri.generateThrottlingStorageKey(i),u,s)}}static checkResponseStatus(t){return t.status===429||t.status>=500&&t.status<600}static checkResponseForRetryAfter(t){return t.headers?t.headers.hasOwnProperty(Vt.RETRY_AFTER)&&(t.status<200||t.status>=300):!1}static calculateThrottleTime(t){const i=t<=0?0:t,r=Date.now()/1e3;return Math.floor(Math.min(r+(i||Ko.DEFAULT_THROTTLE_TIME_SECONDS),r+Ko.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(t,i,r,s){const u=ic(i,r,s),h=this.generateThrottlingStorageKey(u);t.removeItem(h,r.correlationId)}}/*! @azure/msal-common v15.13.0 2025-09-24 */class ac extends Ze{constructor(t,i,r){super(t.errorCode,t.errorMessage,t.subError),Object.setPrototypeOf(this,ac.prototype),this.name="NetworkError",this.error=t,this.httpStatus=i,this.responseHeaders=r}}function zo(c,t,i,r){return c.errorMessage=`${c.errorMessage}, additionalErrorInfo: error.name:${r?.name}, error.message:${r?.message}`,new ac(c,t,i)}/*! @azure/msal-common v15.13.0 2025-09-24 */class Oh{constructor(t,i){this.config=gb(t),this.logger=new ca(this.config.loggerOptions,dv,dh),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=i}createTokenRequestHeaders(t){const i={};if(i[Vt.CONTENT_TYPE]=j.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&t)switch(t.type){case zn.HOME_ACCOUNT_ID:try{const r=Mr(t.credential);i[Vt.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case zn.UPN:i[Vt.CCS_HEADER]=`UPN: ${t.credential}`;break}return i}async executePostToTokenEndpoint(t,i,r,s,u,h){h&&this.performanceClient?.addQueueMeasurement(h,u);const m=await this.sendPostRequest(s,t,{body:i,headers:r},u);return this.config.serverTelemetryManager&&m.status<500&&m.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),m}async sendPostRequest(t,i,r,s){ri.preProcess(this.cacheManager,t,s);let u;try{u=await H(this.networkClient.sendPostRequestAsync.bind(this.networkClient),E.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,s)(i,r);const h=u.headers||{};this.performanceClient?.addFields({refreshTokenSize:u.body.refresh_token?.length||0,httpVerToken:h[Vt.X_MS_HTTP_VERSION]||"",requestId:h[Vt.X_MS_REQUEST_ID]||""},s)}catch(h){if(h instanceof ac){const m=h.responseHeaders;throw m&&this.performanceClient?.addFields({httpVerToken:m[Vt.X_MS_HTTP_VERSION]||"",requestId:m[Vt.X_MS_REQUEST_ID]||"",contentTypeHeader:m[Vt.CONTENT_TYPE]||void 0,contentLengthHeader:m[Vt.CONTENT_LENGTH]||void 0,httpStatus:h.httpStatus},s),h.error}throw h instanceof Ze?h:$(Xy)}return ri.postProcess(this.cacheManager,t,u,s),u}async updateAuthority(t,i){this.performanceClient?.addQueueMeasurement(E.UpdateTokenEndpointAuthority,i);const r=`https://${t}/${this.authority.tenant}/`,s=await $v(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,i,this.performanceClient);this.authority=s}createTokenQueryParameters(t){const i=new Map;return t.embeddedClientId&&Wl(i,this.config.authOptions.clientId,this.config.authOptions.redirectUri),t.tokenQueryParameters&&ra(i,t.tokenQueryParameters),Rh(i,t.correlationId),Zl(i,t.correlationId,this.performanceClient),Jo(i)}}/*! @azure/msal-common v15.13.0 2025-09-24 */function Vv(c){return c&&(c.tid||c.tfp||c.acr)||null}/*! @azure/msal-common v15.13.0 2025-09-24 */class Gn{getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,loginHint:this.loginHint,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(t=>[t.tenantId,t])),dataBoundary:this.dataBoundary}}isSingleTenant(){return!this.tenantProfiles}static createAccount(t,i,r){const s=new Gn;i.authorityType===Bn.Adfs?s.authorityType=yl.ADFS_ACCOUNT_TYPE:i.protocolMode===nn.OIDC?s.authorityType=yl.GENERIC_ACCOUNT_TYPE:s.authorityType=yl.MSSTS_ACCOUNT_TYPE;let u;t.clientInfo&&r&&(u=kl(t.clientInfo,r),u.xms_tdbr&&(s.dataBoundary=u.xms_tdbr==="EU"?"EU":"None")),s.clientInfo=t.clientInfo,s.homeAccountId=t.homeAccountId,s.nativeAccountId=t.nativeAccountId;const h=t.environment||i&&i.getPreferredCache();if(!h)throw $(lh);s.environment=h,s.realm=u?.utid||Vv(t.idTokenClaims)||"",s.localAccountId=u?.uid||t.idTokenClaims?.oid||t.idTokenClaims?.sub||"";const m=t.idTokenClaims?.preferred_username||t.idTokenClaims?.upn,p=t.idTokenClaims?.emails?t.idTokenClaims.emails[0]:null;if(s.username=m||p||"",s.loginHint=t.idTokenClaims?.login_hint,s.name=t.idTokenClaims?.name||"",s.cloudGraphHostName=t.cloudGraphHostName,s.msGraphHost=t.msGraphHost,t.tenantProfiles)s.tenantProfiles=t.tenantProfiles;else{const v=yh(t.homeAccountId,s.localAccountId,s.realm,t.idTokenClaims);s.tenantProfiles=[v]}return s}static createFromAccountInfo(t,i,r){const s=new Gn;return s.authorityType=t.authorityType||yl.GENERIC_ACCOUNT_TYPE,s.homeAccountId=t.homeAccountId,s.localAccountId=t.localAccountId,s.nativeAccountId=t.nativeAccountId,s.realm=t.tenantId,s.environment=t.environment,s.username=t.username,s.name=t.name,s.loginHint=t.loginHint,s.cloudGraphHostName=i,s.msGraphHost=r,s.tenantProfiles=Array.from(t.tenantProfiles?.values()||[]),s.dataBoundary=t.dataBoundary,s}static generateHomeAccountId(t,i,r,s,u){if(!(i===Bn.Adfs||i===Bn.Dsts)){if(t)try{const h=kl(t,s.base64Decode);if(h.uid&&h.utid)return`${h.uid}.${h.utid}`}catch{}r.warning("No client info in response")}return u?.sub||""}static isAccountEntity(t){return t?t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("realm")&&t.hasOwnProperty("localAccountId")&&t.hasOwnProperty("username")&&t.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(t,i,r){if(!t||!i)return!1;let s=!0;if(r){const u=t.idTokenClaims||{},h=i.idTokenClaims||{};s=u.iat===h.iat&&u.nonce===h.nonce}return t.homeAccountId===i.homeAccountId&&t.localAccountId===i.localAccountId&&t.username===i.username&&t.tenantId===i.tenantId&&t.loginHint===i.loginHint&&t.environment===i.environment&&t.nativeAccountId===i.nativeAccountId&&s}}/*! @azure/msal-common v15.13.0 2025-09-24 */const Ll="no_tokens_found",Xv="native_account_unavailable",kh="refresh_token_expired",Dh="ux_not_allowed",wE="interaction_required",RE="consent_required",_E="login_required",rc="bad_token";/*! @azure/msal-common v15.13.0 2025-09-24 */const Sy=[wE,RE,_E,rc,Dh],IE=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],NE={[Ll]:"No refresh token found in the cache. Please sign-in.",[Xv]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[kh]:"Refresh token has expired.",[rc]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[Dh]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class qn extends Ze{constructor(t,i,r,s,u,h,m,p){super(t,i,r),Object.setPrototypeOf(this,qn.prototype),this.timestamp=s||j.EMPTY_STRING,this.traceId=u||j.EMPTY_STRING,this.correlationId=h||j.EMPTY_STRING,this.claims=m||j.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=p}}function Jv(c,t,i){const r=!!c&&Sy.indexOf(c)>-1,s=!!i&&IE.indexOf(i)>-1,u=!!t&&Sy.some(h=>t.indexOf(h)>-1);return r||u||s}function jl(c){return new qn(c,NE[c])}/*! @azure/msal-common v15.13.0 2025-09-24 */class Lr{static setRequestState(t,i,r){const s=Lr.generateLibraryState(t,r);return i?`${s}${j.RESOURCE_DELIM}${i}`:s}static generateLibraryState(t,i){if(!t)throw $(Bd);const r={id:t.createNewGuid()};i&&(r.meta=i);const s=JSON.stringify(r);return t.base64Encode(s)}static parseRequestState(t,i){if(!t)throw $(Bd);if(!i)throw $(kr);try{const r=i.split(j.RESOURCE_DELIM),s=r[0],u=r.length>1?r.slice(1).join(j.RESOURCE_DELIM):j.EMPTY_STRING,h=t.base64Decode(s),m=JSON.parse(h);return{userRequestState:u||j.EMPTY_STRING,libraryState:m}}catch{throw $(kr)}}}/*! @azure/msal-common v15.13.0 2025-09-24 */const xE={SW:"sw"};class Dr{constructor(t,i){this.cryptoUtils=t,this.performanceClient=i}async generateCnf(t,i){this.performanceClient?.addQueueMeasurement(E.PopTokenGenerateCnf,t.correlationId);const r=await H(this.generateKid.bind(this),E.PopTokenGenerateCnf,i,this.performanceClient,t.correlationId)(t),s=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:s}}async generateKid(t){return this.performanceClient?.addQueueMeasurement(E.PopTokenGenerateKid,t.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(t),xms_ksl:xE.SW}}async signPopToken(t,i,r){return this.signPayload(t,i,r)}async signPayload(t,i,r,s){const{resourceRequestMethod:u,resourceRequestUri:h,shrClaims:m,shrNonce:p,shrOptions:v}=r,w=(h?new Be(h):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:t,ts:an(),m:u?.toUpperCase(),u:w?.HostNameAndPort,nonce:p||this.cryptoUtils.createNewGuid(),p:w?.AbsolutePath,q:w?.QueryString?[[],w.QueryString]:void 0,client_claims:m||void 0,...s},i,v,r.correlationId)}}/*! @azure/msal-common v15.13.0 2025-09-24 */class ME{constructor(t,i){this.cache=t,this.hasChanged=i}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.13.0 2025-09-24 */class Da{constructor(t,i,r,s,u,h,m){this.clientId=t,this.cacheStorage=i,this.cryptoObj=r,this.logger=s,this.serializableCache=u,this.persistencePlugin=h,this.performanceClient=m}validateTokenResponse(t,i){if(t.error||t.error_description||t.suberror){const r=`Error(s): ${t.error_codes||j.NOT_AVAILABLE} - Timestamp: ${t.timestamp||j.NOT_AVAILABLE} - Description: ${t.error_description||j.NOT_AVAILABLE} - Correlation ID: ${t.correlation_id||j.NOT_AVAILABLE} - Trace ID: ${t.trace_id||j.NOT_AVAILABLE}`,s=t.error_codes?.length?t.error_codes[0]:void 0,u=new ja(t.error,r,t.suberror,s,t.status);if(i&&t.status&&t.status>=na.SERVER_ERROR_RANGE_START&&t.status<=na.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${u}`);return}else if(i&&t.status&&t.status>=na.CLIENT_ERROR_RANGE_START&&t.status<=na.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${u}`);return}throw Jv(t.error,t.error_description,t.suberror)?new qn(t.error,t.error_description,t.suberror,t.timestamp||j.EMPTY_STRING,t.trace_id||j.EMPTY_STRING,t.correlation_id||j.EMPTY_STRING,t.claims||j.EMPTY_STRING,s):u}}async handleServerTokenResponse(t,i,r,s,u,h,m,p,v){this.performanceClient?.addQueueMeasurement(E.HandleServerTokenResponse,t.correlation_id);let C;if(t.id_token){if(C=Hr(t.id_token||j.EMPTY_STRING,this.cryptoObj.base64Decode),u&&u.nonce&&C.nonce!==u.nonce)throw $(ev);if(s.maxAge||s.maxAge===0){const ue=C.auth_time;if(!ue)throw $(oh);Rv(ue,s.maxAge)}}this.homeAccountIdentifier=Gn.generateHomeAccountId(t.client_info||j.EMPTY_STRING,i.authorityType,this.logger,this.cryptoObj,C);let w;u&&u.state&&(w=Lr.parseRequestState(this.cryptoObj,u.state)),t.key_id=t.key_id||s.sshKid||void 0;const R=this.generateCacheRecord(t,i,r,s,C,h,u);let B;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),B=new ME(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(B)),m&&!p&&R.account){const ue=this.cacheStorage.generateAccountKey(R.account.getAccountInfo());if(!this.cacheStorage.getAccount(ue,s.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Da.generateAuthenticationResult(this.cryptoObj,i,R,!1,s,C,w,void 0,v)}await this.cacheStorage.saveCacheRecord(R,s.correlationId,s.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&B&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(B))}return Da.generateAuthenticationResult(this.cryptoObj,i,R,!1,s,C,w,t,v)}generateCacheRecord(t,i,r,s,u,h,m){const p=i.getPreferredCache();if(!p)throw $(lh);const v=Vv(u);let C,w;t.id_token&&u&&(C=tc(this.homeAccountIdentifier,p,t.id_token,this.clientId,v||""),w=Uh(this.cacheStorage,i,this.homeAccountIdentifier,this.cryptoObj.base64Decode,s.correlationId,u,t.client_info,p,v,m,void 0,this.logger));let R=null;if(t.access_token){const fe=t.scope?Et.fromString(t.scope):new Et(s.scopes||[]),xe=(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,st=(typeof t.ext_expires_in=="string"?parseInt(t.ext_expires_in,10):t.ext_expires_in)||0,Ge=(typeof t.refresh_in=="string"?parseInt(t.refresh_in,10):t.refresh_in)||void 0,lt=r+xe,X=lt+st,be=Ge&&Ge>0?r+Ge:void 0;R=nc(this.homeAccountIdentifier,p,t.access_token,this.clientId,v||i.tenant||"",fe.printScopes(),lt,X,this.cryptoObj.base64Decode,be,t.token_type,h,t.key_id,s.claims,s.requestedClaimsHash)}let B=null;if(t.refresh_token){let fe;if(t.refresh_token_expires_in){const xe=typeof t.refresh_token_expires_in=="string"?parseInt(t.refresh_token_expires_in,10):t.refresh_token_expires_in;fe=r+xe}B=Qv(this.homeAccountIdentifier,p,t.refresh_token,this.clientId,t.foci,h,fe)}let ue=null;return t.foci&&(ue={clientId:this.clientId,environment:p,familyId:t.foci}),{account:w,idToken:C,accessToken:R,refreshToken:B,appMetadata:ue}}static async generateAuthenticationResult(t,i,r,s,u,h,m,p,v){let C=j.EMPTY_STRING,w=[],R=null,B,ue,fe=j.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===Ye.POP&&!u.popKid){const lt=new Dr(t),{secret:X,keyId:be}=r.accessToken;if(!be)throw $(ch);C=await lt.signPopToken(X,be,u)}else C=r.accessToken.secret;w=Et.fromString(r.accessToken.target).asArray(),R=Or(r.accessToken.expiresOn),B=Or(r.accessToken.extendedExpiresOn),r.accessToken.refreshOn&&(ue=Or(r.accessToken.refreshOn))}r.appMetadata&&(fe=r.appMetadata.familyId===Rl?Rl:"");const xe=h?.oid||h?.sub||"",st=h?.tid||"";p?.spa_accountid&&r.account&&(r.account.nativeAccountId=p?.spa_accountid);const Ge=r.account?vh(r.account.getAccountInfo(),void 0,h,r.idToken?.secret):null;return{authority:i.canonicalAuthority,uniqueId:xe,tenantId:st,scopes:w,account:Ge,idToken:r?.idToken?.secret||"",idTokenClaims:h||{},accessToken:C,fromCache:s,expiresOn:R,extExpiresOn:B,refreshOn:ue,correlationId:u.correlationId,requestId:v||j.EMPTY_STRING,familyId:fe,tokenType:r.accessToken?.tokenType||j.EMPTY_STRING,state:m?m.userRequestState:j.EMPTY_STRING,cloudGraphHostName:r.account?.cloudGraphHostName||j.EMPTY_STRING,msGraphHost:r.account?.msGraphHost||j.EMPTY_STRING,code:p?.spa_code,fromNativeBroker:!1}}}function Uh(c,t,i,r,s,u,h,m,p,v,C,w){w?.verbose("setCachedAccount called");const B=c.getAccountKeys().find(Ge=>Ge.startsWith(i));let ue=null;B&&(ue=c.getAccount(B,s));const fe=ue||Gn.createAccount({homeAccountId:i,idTokenClaims:u,clientInfo:h,environment:m,cloudGraphHostName:v?.cloud_graph_host_name,msGraphHost:v?.msgraph_host,nativeAccountId:C},t,r),xe=fe.tenantProfiles||[],st=p||fe.realm;if(st&&!xe.find(Ge=>Ge.tenantId===st)){const Ge=yh(i,fe.localAccountId,st,u);xe.push(Ge)}return fe.tenantProfiles=xe,fe}/*! @azure/msal-common v15.13.0 2025-09-24 */async function Zv(c,t,i){return typeof c=="string"?c:c({clientId:t,tokenEndpoint:i})}/*! @azure/msal-common v15.13.0 2025-09-24 */class Wv extends Oh{constructor(t,i){super(t,i),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(t,i){if(this.performanceClient?.addQueueMeasurement(E.AuthClientAcquireToken,t.correlationId),!t.code)throw $(iv);const r=an(),s=await H(this.executeTokenRequest.bind(this),E.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,t.correlationId)(this.authority,t),u=s.headers?.[Vt.X_MS_REQUEST_ID],h=new Da(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return h.validateTokenResponse(s.body),H(h.handleServerTokenResponse.bind(h),E.HandleServerTokenResponse,this.logger,this.performanceClient,t.correlationId)(s.body,this.authority,r,t,i,void 0,void 0,void 0,u)}getLogoutUri(t){if(!t)throw nt(yv);const i=this.createLogoutUrlQueryString(t);return Be.appendQueryString(this.authority.endSessionEndpoint,i)}async executeTokenRequest(t,i){this.performanceClient?.addQueueMeasurement(E.AuthClientExecuteTokenRequest,i.correlationId);const r=this.createTokenQueryParameters(i),s=Be.appendQueryString(t.tokenEndpoint,r),u=await H(this.createTokenRequestBody.bind(this),E.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,i.correlationId)(i);let h;if(i.clientInfo)try{const v=kl(i.clientInfo,this.cryptoUtils.base64Decode);h={credential:`${v.uid}${Xo.CLIENT_INFO_SEPARATOR}${v.utid}`,type:zn.HOME_ACCOUNT_ID}}catch(v){this.logger.verbose("Could not parse client info for CCS Header: "+v)}const m=this.createTokenRequestHeaders(h||i.ccsCredential),p=ic(this.config.authOptions.clientId,i);return H(this.executePostToTokenEndpoint.bind(this),E.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,i.correlationId)(s,u,m,p,i.correlationId,E.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(t){this.performanceClient?.addQueueMeasurement(E.AuthClientCreateTokenRequestBody,t.correlationId);const i=new Map;if(bh(i,t.embeddedClientId||t.tokenBodyParameters?.[ka]||this.config.authOptions.clientId),this.includeRedirectUri)Eh(i,t.redirectUri);else if(!t.redirectUri)throw nt(hv);if(Th(i,t.scopes,!0,this.oidcDefaultScopes),rE(i,t.code),_h(i,this.config.libraryInfo),Ih(i,this.config.telemetry.application),Fv(i),this.serverTelemetryManager&&!Ov(this.config)&&qv(i,this.serverTelemetryManager),t.codeVerifier&&sE(i,t.codeVerifier),this.config.clientCredentials.clientSecret&&Lv(i,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;jv(i,await Zv(s.assertion,this.config.authOptions.clientId,t.resourceRequestUri)),Bv(i,s.assertionType)}if(zv(i,Qy.AUTHORIZATION_CODE_GRANT),Nh(i),t.authenticationScheme===Ye.POP){const s=new Dr(this.cryptoUtils,this.performanceClient);let u;t.popKid?u=this.cryptoUtils.encodeKid(t.popKid):u=(await H(s.generateCnf.bind(s),E.PopTokenGenerateCnf,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,xh(i,u)}else if(t.authenticationScheme===Ye.SSH)if(t.sshJwk)Gv(i,t.sshJwk);else throw nt(Jl);(!yn.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&wh(i,t.claims,this.config.authOptions.clientCapabilities);let r;if(t.clientInfo)try{const s=kl(t.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${s.uid}${Xo.CLIENT_INFO_SEPARATOR}${s.utid}`,type:zn.HOME_ACCOUNT_ID}}catch(s){this.logger.verbose("Could not parse client info for CCS Header: "+s)}else r=t.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case zn.HOME_ACCOUNT_ID:try{const s=Mr(r.credential);Go(i,s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case zn.UPN:Pl(i,r.credential);break}return t.embeddedClientId&&Wl(i,this.config.authOptions.clientId,this.config.authOptions.redirectUri),t.tokenBodyParameters&&ra(i,t.tokenBodyParameters),t.enableSpaAuthorizationCode&&(!t.tokenBodyParameters||!t.tokenBodyParameters[gy])&&ra(i,{[gy]:"1"}),Zl(i,t.correlationId,this.performanceClient),Jo(i)}createLogoutUrlQueryString(t){const i=new Map;return t.postLogoutRedirectUri&&eE(i,t.postLogoutRedirectUri),t.correlationId&&Rh(i,t.correlationId),t.idTokenHint&&tE(i,t.idTokenHint),t.state&&Pv(i,t.state),t.logoutHint&&cE(i,t.logoutHint),t.extraQueryParameters&&ra(i,t.extraQueryParameters),this.config.authOptions.instanceAware&&Kv(i),Jo(i,this.config.authOptions.encodeExtraQueryParams,t.extraQueryParameters)}}/*! @azure/msal-common v15.13.0 2025-09-24 */const OE=300;class kE extends Oh{constructor(t,i){super(t,i)}async acquireToken(t){this.performanceClient?.addQueueMeasurement(E.RefreshTokenClientAcquireToken,t.correlationId);const i=an(),r=await H(this.executeTokenRequest.bind(this),E.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,t.correlationId)(t,this.authority),s=r.headers?.[Vt.X_MS_REQUEST_ID],u=new Da(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return u.validateTokenResponse(r.body),H(u.handleServerTokenResponse.bind(u),E.HandleServerTokenResponse,this.logger,this.performanceClient,t.correlationId)(r.body,this.authority,i,t,void 0,void 0,!0,t.forceCache,s)}async acquireTokenByRefreshToken(t){if(!t)throw nt(pv);if(this.performanceClient?.addQueueMeasurement(E.RefreshTokenClientAcquireTokenByRefreshToken,t.correlationId),!t.account)throw $(sh);if(this.cacheManager.isAppMetadataFOCI(t.account.environment))try{return await H(this.acquireTokenWithCachedRefreshToken.bind(this),E.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,!0)}catch(r){const s=r instanceof qn&&r.errorCode===Ll,u=r instanceof ja&&r.errorCode===ry.INVALID_GRANT_ERROR&&r.subError===ry.CLIENT_MISMATCH_ERROR;if(s||u)return H(this.acquireTokenWithCachedRefreshToken.bind(this),E.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,!1);throw r}return H(this.acquireTokenWithCachedRefreshToken.bind(this),E.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,!1)}async acquireTokenWithCachedRefreshToken(t,i){this.performanceClient?.addQueueMeasurement(E.RefreshTokenClientAcquireTokenWithCachedRefreshToken,t.correlationId);const r=vn(this.cacheManager.getRefreshToken.bind(this.cacheManager),E.CacheManagerGetRefreshToken,this.logger,this.performanceClient,t.correlationId)(t.account,i,t.correlationId,void 0,this.performanceClient);if(!r)throw jl(Ll);if(r.expiresOn&&Hl(r.expiresOn,t.refreshTokenExpirationOffsetSeconds||OE))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(r.expiresOn)},t.correlationId),jl(kh);const s={...t,refreshToken:r.secret,authenticationScheme:t.authenticationScheme||Ye.BEARER,ccsCredential:{credential:t.account.homeAccountId,type:zn.HOME_ACCOUNT_ID}};try{return await H(this.acquireToken.bind(this),E.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(s)}catch(u){if(u instanceof qn&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(r.expiresOn)},t.correlationId),u.subError===rc)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const h=this.cacheManager.generateCredentialKey(r);this.cacheManager.removeRefreshToken(h,t.correlationId)}throw u}}async executeTokenRequest(t,i){this.performanceClient?.addQueueMeasurement(E.RefreshTokenClientExecuteTokenRequest,t.correlationId);const r=this.createTokenQueryParameters(t),s=Be.appendQueryString(i.tokenEndpoint,r),u=await H(this.createTokenRequestBody.bind(this),E.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t),h=this.createTokenRequestHeaders(t.ccsCredential),m=ic(this.config.authOptions.clientId,t);return H(this.executePostToTokenEndpoint.bind(this),E.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(s,u,h,m,t.correlationId,E.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(t){this.performanceClient?.addQueueMeasurement(E.RefreshTokenClientCreateTokenRequestBody,t.correlationId);const i=new Map;if(bh(i,t.embeddedClientId||t.tokenBodyParameters?.[ka]||this.config.authOptions.clientId),t.redirectUri&&Eh(i,t.redirectUri),Th(i,t.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),zv(i,Qy.REFRESH_TOKEN_GRANT),Nh(i),_h(i,this.config.libraryInfo),Ih(i,this.config.telemetry.application),Fv(i),this.serverTelemetryManager&&!Ov(this.config)&&qv(i,this.serverTelemetryManager),oE(i,t.refreshToken),this.config.clientCredentials.clientSecret&&Lv(i,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const r=this.config.clientCredentials.clientAssertion;jv(i,await Zv(r.assertion,this.config.authOptions.clientId,t.resourceRequestUri)),Bv(i,r.assertionType)}if(t.authenticationScheme===Ye.POP){const r=new Dr(this.cryptoUtils,this.performanceClient);let s;t.popKid?s=this.cryptoUtils.encodeKid(t.popKid):s=(await H(r.generateCnf.bind(r),E.PopTokenGenerateCnf,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,xh(i,s)}else if(t.authenticationScheme===Ye.SSH)if(t.sshJwk)Gv(i,t.sshJwk);else throw nt(Jl);if((!yn.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&wh(i,t.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&t.ccsCredential)switch(t.ccsCredential.type){case zn.HOME_ACCOUNT_ID:try{const r=Mr(t.ccsCredential.credential);Go(i,r)}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case zn.UPN:Pl(i,t.ccsCredential.credential);break}return t.embeddedClientId&&Wl(i,this.config.authOptions.clientId,this.config.authOptions.redirectUri),t.tokenBodyParameters&&ra(i,t.tokenBodyParameters),Zl(i,t.correlationId,this.performanceClient),Jo(i)}}/*! @azure/msal-common v15.13.0 2025-09-24 */class DE extends Oh{constructor(t,i){super(t,i)}async acquireCachedToken(t){this.performanceClient?.addQueueMeasurement(E.SilentFlowClientAcquireCachedToken,t.correlationId);let i=xa.NOT_APPLICABLE;if(t.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!yn.isEmptyObj(t.claims))throw this.setCacheOutcome(xa.FORCE_REFRESH_OR_CLAIMS,t.correlationId),$(aa);if(!t.account)throw $(sh);const r=t.account.tenantId||bE(t.authority),s=this.cacheManager.getTokenKeys(),u=this.cacheManager.getAccessToken(t.account,t,s,r);if(u){if(pE(u.cachedAt)||Hl(u.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(xa.CACHED_ACCESS_TOKEN_EXPIRED,t.correlationId),$(aa);u.refreshOn&&Hl(u.refreshOn,0)&&(i=xa.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(xa.NO_CACHED_ACCESS_TOKEN,t.correlationId),$(aa);const h=t.authority||this.authority.getPreferredCache(),m={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(t.account),t.correlationId),accessToken:u,idToken:this.cacheManager.getIdToken(t.account,t.correlationId,s,r,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(h)};return this.setCacheOutcome(i,t.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await H(this.generateResultFromCacheRecord.bind(this),E.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,t.correlationId)(m,t),i]}setCacheOutcome(t,i){this.serverTelemetryManager?.setCacheOutcome(t),this.performanceClient?.addFields({cacheOutcome:t},i),t!==xa.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${t}`)}async generateResultFromCacheRecord(t,i){this.performanceClient?.addQueueMeasurement(E.SilentFlowClientGenerateResultFromCacheRecord,i.correlationId);let r;if(t.idToken&&(r=Hr(t.idToken.secret,this.config.cryptoInterface.base64Decode)),i.maxAge||i.maxAge===0){const s=r?.auth_time;if(!s)throw $(oh);Rv(s,i.maxAge)}return Da.generateAuthenticationResult(this.cryptoUtils,this.authority,t,!0,i,r)}}/*! @azure/msal-common v15.13.0 2025-09-24 */const UE={sendGetRequestAsync:()=>Promise.reject($(_e)),sendPostRequestAsync:()=>Promise.reject($(_e))};/*! @azure/msal-common v15.13.0 2025-09-24 */function PE(c,t,i,r){const s=t.correlationId,u=new Map;bh(u,t.embeddedClientId||t.extraQueryParameters?.[ka]||c.clientId);const h=[...t.scopes||[],...t.extraScopesToConsent||[]];if(Th(u,h,!0,c.authority.options.OIDCOptions?.defaultScopes),Eh(u,t.redirectUri),Rh(u,s),Zb(u,t.responseMode),Nh(u),t.prompt&&(iE(u,t.prompt),r?.addFields({prompt:t.prompt},s)),t.domainHint&&(nE(u,t.domainHint),r?.addFields({domainHintFromRequest:!0},s)),t.prompt!==Xt.SELECT_ACCOUNT)if(t.sid&&t.prompt===Xt.NONE)i.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),my(u,t.sid),r?.addFields({sidFromRequest:!0},s);else if(t.account){const m=jE(t.account);let p=BE(t.account);if(p&&t.domainHint&&(i.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),p=null),p){i.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),vl(u,p),r?.addFields({loginHintFromClaim:!0},s);try{const v=Mr(t.account.homeAccountId);Go(u,v)}catch{i.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(m&&t.prompt===Xt.NONE){i.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),my(u,m),r?.addFields({sidFromClaim:!0},s);try{const v=Mr(t.account.homeAccountId);Go(u,v)}catch{i.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)i.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),vl(u,t.loginHint),Pl(u,t.loginHint),r?.addFields({loginHintFromRequest:!0},s);else if(t.account.username){i.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),vl(u,t.account.username),r?.addFields({loginHintFromUpn:!0},s);try{const v=Mr(t.account.homeAccountId);Go(u,v)}catch{i.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(i.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),vl(u,t.loginHint),Pl(u,t.loginHint),r?.addFields({loginHintFromRequest:!0},s));else i.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return t.nonce&&aE(u,t.nonce),t.state&&Pv(u,t.state),(t.claims||c.clientCapabilities&&c.clientCapabilities.length>0)&&wh(u,t.claims,c.clientCapabilities),t.embeddedClientId&&Wl(u,c.clientId,c.redirectUri),c.instanceAware&&(!t.extraQueryParameters||!Object.keys(t.extraQueryParameters).includes(Gd))&&Kv(u),u}function Ph(c,t,i,r){const s=Jo(t,i,r);return Be.appendQueryString(c.authorizationEndpoint,s)}function HE(c,t){if(eA(c,t),!c.code)throw $(lv);return c}function eA(c,t){if(!c.state||!t)throw c.state?$(Hd,"Cached State"):$(Hd,"Server State");let i,r;try{i=decodeURIComponent(c.state)}catch{throw $(kr,c.state)}try{r=decodeURIComponent(t)}catch{throw $(kr,c.state)}if(i!==r)throw $(Wy);if(c.error||c.error_description||c.suberror){const s=LE(c);throw Jv(c.error,c.error_description,c.suberror)?new qn(c.error||"",c.error_description,c.suberror,c.timestamp||"",c.trace_id||"",c.correlation_id||"",c.claims||"",s):new ja(c.error||"",c.error_description,c.suberror,s)}}function LE(c){const t="code=",i=c.error_uri?.lastIndexOf(t);return i&&i>=0?c.error_uri?.substring(i+t.length):void 0}function jE(c){return c.idTokenClaims?.sid||null}function BE(c){return c.loginHint||c.idTokenClaims?.login_hint||null}/*! @azure/msal-common v15.13.0 2025-09-24 */const Ty=",",tA="|";function zE(c){const{skus:t,libraryName:i,libraryVersion:r,extensionName:s,extensionVersion:u}=c,h=new Map([[0,[i,r]],[2,[s,u]]]);let m=[];if(t?.length){if(m=t.split(Ty),m.length<4)return t}else m=Array.from({length:4},()=>tA);return h.forEach((p,v)=>{p.length===2&&p[0]?.length&&p[1]?.length&&KE({skuArr:m,index:v,skuName:p[0],skuVersion:p[1]})}),m.join(Ty)}function KE(c){const{skuArr:t,index:i,skuName:r,skuVersion:s}=c;i>=t.length||(t[i]=[r,s].join(tA))}class Zo{constructor(t,i){this.cacheOutcome=xa.NOT_APPLICABLE,this.cacheManager=i,this.apiId=t.apiId,this.correlationId=t.correlationId,this.wrapperSKU=t.wrapperSKU||j.EMPTY_STRING,this.wrapperVer=t.wrapperVer||j.EMPTY_STRING,this.telemetryCacheKey=Lt.CACHE_KEY+Xo.CACHE_KEY_SEPARATOR+t.clientId}generateCurrentRequestHeaderValue(){const t=`${this.apiId}${Lt.VALUE_SEPARATOR}${this.cacheOutcome}`,i=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r?.length&&i.push(`broker_error=${r}`);const s=i.join(Lt.VALUE_SEPARATOR),u=this.getRegionDiscoveryFields(),h=[t,u].join(Lt.VALUE_SEPARATOR);return[Lt.SCHEMA_VERSION,h,s].join(Lt.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const t=this.getLastRequests(),i=Zo.maxErrorsToSend(t),r=t.failedRequests.slice(0,2*i).join(Lt.VALUE_SEPARATOR),s=t.errors.slice(0,i).join(Lt.VALUE_SEPARATOR),u=t.errors.length,h=i<u?Lt.OVERFLOW_TRUE:Lt.OVERFLOW_FALSE,m=[u,h].join(Lt.VALUE_SEPARATOR);return[Lt.SCHEMA_VERSION,t.cacheHits,r,s,m].join(Lt.CATEGORY_SEPARATOR)}cacheFailedRequest(t){const i=this.getLastRequests();i.errors.length>=Lt.MAX_CACHED_ERRORS&&(i.failedRequests.shift(),i.failedRequests.shift(),i.errors.shift()),i.failedRequests.push(this.apiId,this.correlationId),t instanceof Error&&t&&t.toString()?t instanceof Ze?t.subError?i.errors.push(t.subError):t.errorCode?i.errors.push(t.errorCode):i.errors.push(t.toString()):i.errors.push(t.toString()):i.errors.push(Lt.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i,this.correlationId)}incrementCacheHits(){const t=this.getLastRequests();return t.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId),t.cacheHits}getLastRequests(){const t={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||t}clearTelemetryCache(){const t=this.getLastRequests(),i=Zo.maxErrorsToSend(t),r=t.errors.length;if(i===r)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const s={failedRequests:t.failedRequests.slice(i*2),errors:t.errors.slice(i),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,s,this.correlationId)}}static maxErrorsToSend(t){let i,r=0,s=0;const u=t.errors.length;for(i=0;i<u;i++){const h=t.failedRequests[2*i]||j.EMPTY_STRING,m=t.failedRequests[2*i+1]||j.EMPTY_STRING,p=t.errors[i]||j.EMPTY_STRING;if(s+=h.toString().length+m.toString().length+p.length+3,s<Lt.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const t=[];return t.push(this.regionUsed||j.EMPTY_STRING),t.push(this.regionSource||j.EMPTY_STRING),t.push(this.regionOutcome||j.EMPTY_STRING),t.join(",")}updateRegionDiscoveryMetadata(t){this.regionUsed=t.region_used,this.regionSource=t.region_source,this.regionOutcome=t.region_outcome}setCacheOutcome(t){this.cacheOutcome=t}setNativeBrokerErrorCode(t){const i=this.getLastRequests();i.nativeBrokerErrorCode=t,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const t=this.getLastRequests();delete t.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}static makeExtraSkuString(t){return zE(t)}}/*! @azure/msal-common v15.13.0 2025-09-24 */const nA="missing_kid_error",iA="missing_alg_error";/*! @azure/msal-common v15.13.0 2025-09-24 */const GE={[nA]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[iA]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Hh extends Ze{constructor(t,i){super(t,i),this.name="JoseHeaderError",Object.setPrototypeOf(this,Hh.prototype)}}function by(c){return new Hh(c,GE[c])}/*! @azure/msal-common v15.13.0 2025-09-24 */class Lh{constructor(t){this.typ=t.typ,this.alg=t.alg,this.kid=t.kid}static getShrHeaderString(t){if(!t.kid)throw by(nA);if(!t.alg)throw by(iA);const i=new Lh({typ:t.typ||PT.Pop,kid:t.kid,alg:t.alg});return JSON.stringify(i)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */const jh="pkce_not_created",Bh="ear_jwk_empty",aA="ear_jwe_empty",qd="crypto_nonexistent",oc="empty_navigate_uri",rA="hash_empty_error",zh="no_state_in_hash",oA="hash_does_not_contain_known_properties",sA="unable_to_parse_state",lA="state_interaction_type_mismatch",cA="interaction_in_progress",uA="popup_window_error",dA="empty_window_error",Wo="user_cancelled",qE="monitor_popup_timeout",hA="monitor_window_timeout",fA="redirect_in_iframe",gA="block_iframe_reload",mA="block_nested_popups",FE="iframe_closed_prematurely",sc="silent_logout_unsupported",pA="no_account_error",QE="silent_prompt_value_error",yA="no_token_request_cache_error",vA="unable_to_parse_token_request_cache_error",YE="auth_request_not_set_error",$E="invalid_cache_type",lc="non_browser_environment",Ir="database_not_open",Bl="no_network_connectivity",AA="post_request_failed",CA="get_request_failed",Fd="failed_to_parse_response",SA="unable_to_load_token",Kh="crypto_key_not_found",TA="auth_code_required",bA="auth_code_or_nativeAccountId_required",EA="spa_code_and_nativeAccountId_present",Gh="database_unavailable",wA="unable_to_acquire_token_from_native_platform",RA="native_handshake_timeout",_A="native_extension_not_installed",qh="native_connection_not_established",qo="uninitialized_public_client_application",IA="native_prompt_not_supported",NA="invalid_base64_string",xA="invalid_pop_token_request",MA="failed_to_build_headers",OA="failed_to_parse_headers",bl="failed_to_decrypt_ear_response",zl="timed_out";/*! @azure/msal-browser v4.24.0 2025-09-24 */const bi="For more visit: aka.ms/msaljs/browser-errors",VE={[jh]:"The PKCE code challenge and verifier could not be generated.",[Bh]:"No EAR encryption key provided. This is unexpected.",[aA]:"Server response does not contain ear_jwe property. This is unexpected.",[qd]:"The crypto object or function is not available.",[oc]:"Navigation URI is empty. Please check stack trace for more info.",[rA]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${bi}`,[zh]:"Hash does not contain state. Please verify that the request originated from msal.",[oA]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${bi}`,[sA]:"Unable to parse state. Please verify that the request originated from msal.",[lA]:"Hash contains state but the interaction type does not match the caller.",[cA]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${bi}`,[uA]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[dA]:"window.open returned null or undefined window object.",[Wo]:"User cancelled the flow.",[qE]:`Token acquisition in popup failed due to timeout.  ${bi}`,[hA]:`Token acquisition in iframe failed due to timeout.  ${bi}`,[fA]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[gA]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${bi}`,[mA]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[FE]:"The iframe being monitored was closed prematurely.",[sc]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[pA]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[QE]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[yA]:"No token request found in cache.",[vA]:"The cached token request could not be parsed.",[YE]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[$E]:"Invalid cache type",[lc]:"Login and token requests are not supported in non-browser environments.",[Ir]:"Database is not open!",[Bl]:"No network connectivity. Check your internet connection.",[AA]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[CA]:"Network request failed. Please check the network trace to determine root cause.",[Fd]:"Failed to parse network response. Check network trace.",[SA]:"Error loading token to cache.",[Kh]:"Cryptographic Key or Keypair not found in browser storage.",[TA]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[bA]:"An authorization code or nativeAccountId must be provided to this flow.",[EA]:"Request cannot contain both spa code and native account id.",[Gh]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[wA]:`Unable to acquire token from native platform.  ${bi}`,[RA]:"Timed out while attempting to establish connection to browser extension",[_A]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[qh]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${bi}`,[qo]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${bi}`,[IA]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[NA]:"Invalid base64 encoded string.",[xA]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[MA]:"Failed to build request headers object.",[OA]:"Failed to parse response headers",[bl]:"Failed to decrypt ear response",[zl]:"The request timed out."};class is extends Ze{constructor(t,i){super(t,VE[t],i),Object.setPrototypeOf(this,is.prototype),this.name="BrowserAuthError"}}function ne(c,t){return new is(c,t)}/*! @azure/msal-browser v4.24.0 2025-09-24 */const tn={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},On={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},jo={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},wt={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},Ey={GET:"GET",POST:"POST"},ta={SIGNIN:"signin",SIGNOUT:"signout"},At={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},Cl={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Je={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var Ae;(function(c){c.Redirect="redirect",c.Popup="popup",c.Silent="silent",c.None="none"})(Ae||(Ae={}));const wy={scopes:Pr},kA="jwk",Qd="msal.db",XE=1,JE=`${Qd}.keys`,$t={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},ZE=[$t.Default,$t.Skip,$t.RefreshTokenAndNetwork];/*! @azure/msal-browser v4.24.0 2025-09-24 */function Sl(c){return encodeURIComponent(es(c).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function ua(c){return DA(c).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function es(c){return DA(new TextEncoder().encode(c))}function DA(c){const t=Array.from(c,i=>String.fromCodePoint(i)).join("");return btoa(t)}/*! @azure/msal-browser v4.24.0 2025-09-24 */function Kn(c){return new TextDecoder().decode(oa(c))}function oa(c){let t=c.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw ne(NA)}const i=atob(t);return Uint8Array.from(i,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v4.24.0 2025-09-24 */const WE="RSASSA-PKCS1-v1_5",jr="AES-GCM",UA="HKDF",Fh="SHA-256",e0=2048,t0=new Uint8Array([1,0,1]),Ry="0123456789abcdef",_y=new Uint32Array(1),Qh="raw",PA="encrypt",Yh="decrypt",n0="deriveKey",i0="crypto_subtle_undefined",$h={name:WE,hash:Fh,modulusLength:e0,publicExponent:t0};function a0(c){if(!window)throw ne(lc);if(!window.crypto)throw ne(qd);if(!c&&!window.crypto.subtle)throw ne(qd,i0)}async function HA(c,t,i){t?.addQueueMeasurement(E.Sha256Digest,i);const s=new TextEncoder().encode(c);return window.crypto.subtle.digest(Fh,s)}function r0(c){return window.crypto.getRandomValues(c)}function Md(){return window.crypto.getRandomValues(_y),_y[0]}function Fn(){const c=Date.now(),t=Md()*1024+(Md()&1023),i=new Uint8Array(16),r=Math.trunc(t/2**30),s=t&2**30-1,u=Md();i[0]=c/2**40,i[1]=c/2**32,i[2]=c/2**24,i[3]=c/2**16,i[4]=c/2**8,i[5]=c,i[6]=112|r>>>8,i[7]=r,i[8]=128|s>>>24,i[9]=s>>>16,i[10]=s>>>8,i[11]=s,i[12]=u>>>24,i[13]=u>>>16,i[14]=u>>>8,i[15]=u;let h="";for(let m=0;m<i.length;m++)h+=Ry.charAt(i[m]>>>4),h+=Ry.charAt(i[m]&15),(m===3||m===5||m===7||m===9)&&(h+="-");return h}async function o0(c,t){return window.crypto.subtle.generateKey($h,c,t)}async function Od(c){return window.crypto.subtle.exportKey(kA,c)}async function s0(c,t,i){return window.crypto.subtle.importKey(kA,c,$h,t,i)}async function l0(c,t){return window.crypto.subtle.sign($h,c,t)}async function Vh(){const c=await LA(),i={alg:"dir",kty:"oct",k:ua(new Uint8Array(c))};return es(JSON.stringify(i))}async function c0(c){const t=Kn(c),r=JSON.parse(t).k,s=oa(r);return window.crypto.subtle.importKey(Qh,s,jr,!1,[Yh])}async function u0(c,t){const i=t.split(".");if(i.length!==5)throw ne(bl,"jwe_length");const r=await c0(c).catch(()=>{throw ne(bl,"import_key")});try{const s=new TextEncoder().encode(i[0]),u=oa(i[2]),h=oa(i[3]),m=oa(i[4]),p=m.byteLength*8,v=new Uint8Array(h.length+m.length);v.set(h),v.set(m,h.length);const C=await window.crypto.subtle.decrypt({name:jr,iv:u,tagLength:p,additionalData:s},r,v);return new TextDecoder().decode(C)}catch{throw ne(bl,"decrypt")}}async function LA(){const c=await window.crypto.subtle.generateKey({name:jr,length:256},!0,[PA,Yh]);return window.crypto.subtle.exportKey(Qh,c)}async function Iy(c){return window.crypto.subtle.importKey(Qh,c,UA,!1,[n0])}async function jA(c,t,i){return window.crypto.subtle.deriveKey({name:UA,salt:t,hash:Fh,info:new TextEncoder().encode(i)},c,{name:jr,length:256},!1,[PA,Yh])}async function d0(c,t,i){const r=new TextEncoder().encode(t),s=window.crypto.getRandomValues(new Uint8Array(16)),u=await jA(c,s,i),h=await window.crypto.subtle.encrypt({name:jr,iv:new Uint8Array(12)},u,r);return{data:ua(new Uint8Array(h)),nonce:ua(s)}}async function Ny(c,t,i,r){const s=oa(r),u=await jA(c,oa(t),i),h=await window.crypto.subtle.decrypt({name:jr,iv:new Uint8Array(12)},u,s);return new TextDecoder().decode(h)}async function BA(c){const t=await HA(c),i=new Uint8Array(t);return ua(i)}/*! @azure/msal-browser v4.24.0 2025-09-24 */const cc="storage_not_supported",zA="stubbed_public_client_application_called",Xh="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.24.0 2025-09-24 */const El={[cc]:"Given storage configuration option was not supported.",[zA]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Xh]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};El[cc],El[zA],El[Xh];class Jh extends Ze{constructor(t,i){super(t,i),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Jh.prototype)}}function Zh(c){return new Jh(c,El[c])}/*! @azure/msal-browser v4.24.0 2025-09-24 */function KA(c){c.location.hash="",typeof c.history.replaceState=="function"&&c.history.replaceState(null,"",`${c.location.origin}${c.location.pathname}${c.location.search}`)}function h0(c){const t=c.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}function Wh(){return window.parent!==window}function f0(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${tn.POPUP_NAME_PREFIX}.`)===0}function wi(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function g0(){const t=new Be(window.location.href).getUrlComponents();return`${t.Protocol}//${t.HostNameAndPort}/`}function m0(){if(Be.hashContainsKnownProperties(window.location.hash)&&Wh())throw ne(gA)}function p0(c){if(Wh()&&!c)throw ne(fA)}function y0(){if(f0())throw ne(mA)}function GA(){if(typeof window>"u")throw ne(lc)}function qA(c){if(!c)throw ne(qo)}function ef(c){GA(),m0(),y0(),qA(c)}function xy(c,t){if(ef(c),p0(t.system.allowRedirectInIframe),t.cache.cacheLocation===wt.MemoryStorage&&!t.cache.storeAuthStateInCookie)throw Zh(Xh)}function FA(c){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(c).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout(()=>{try{document.head.removeChild(t)}catch{}},1e4)}function v0(){return Fn()}/*! @azure/msal-browser v4.24.0 2025-09-24 */class Kl{navigateInternal(t,i){return Kl.defaultNavigateWindow(t,i)}navigateExternal(t,i){return Kl.defaultNavigateWindow(t,i)}static defaultNavigateWindow(t,i){return i.noHistory?window.location.replace(t):window.location.assign(t),new Promise((r,s)=>{setTimeout(()=>{s(ne(zl,"failed_to_redirect"))},i.timeout)})}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class A0{async sendGetRequestAsync(t,i){let r,s={},u=0;const h=My(i);try{r=await fetch(t,{method:Ey.GET,headers:h})}catch(m){throw zo(ne(window.navigator.onLine?CA:Bl),void 0,void 0,m)}s=Oy(r.headers);try{return u=r.status,{headers:s,body:await r.json(),status:u}}catch(m){throw zo(ne(Fd),u,s,m)}}async sendPostRequestAsync(t,i){const r=i&&i.body||"",s=My(i);let u,h=0,m={};try{u=await fetch(t,{method:Ey.POST,headers:s,body:r})}catch(p){throw zo(ne(window.navigator.onLine?AA:Bl),void 0,void 0,p)}m=Oy(u.headers);try{return h=u.status,{headers:m,body:await u.json(),status:h}}catch(p){throw zo(ne(Fd),h,m,p)}}}function My(c){try{const t=new Headers;if(!(c&&c.headers))return t;const i=c.headers;return Object.entries(i).forEach(([r,s])=>{t.append(r,s)}),t}catch(t){throw zo(ne(MA),void 0,void 0,t)}}function Oy(c){try{const t={};return c.forEach((i,r)=>{t[r]=i}),t}catch{throw ne(OA)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */const C0=6e4,Yd=1e4,S0=3e4,QA=2e3;function T0({auth:c,cache:t,system:i,telemetry:r},s){const u={clientId:j.EMPTY_STRING,authority:`${j.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:j.EMPTY_STRING,authorityMetadata:j.EMPTY_STRING,redirectUri:typeof window<"u"?wi():"",postLogoutRedirectUri:j.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:nn.AAD,OIDCOptions:{serverResponseType:Xl.FRAGMENT,defaultScopes:[j.OPENID_SCOPE,j.PROFILE_SCOPE,j.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:hh.None,tenant:j.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},h={cacheLocation:wt.SessionStorage,cacheRetentionDays:5,temporaryCacheLocation:wt.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(t&&t.cacheLocation===wt.LocalStorage),claimsBasedCachingEnabled:!1},m={loggerCallback:()=>{},logLevel:ot.Info,piiLoggingEnabled:!1},v={...{...Mv,loggerOptions:m,networkClient:s?new A0:UE,navigationClient:new Kl,loadFrameTimeout:0,windowHashTimeout:i?.loadFrameTimeout||C0,iframeHashTimeout:i?.loadFrameTimeout||Yd,navigateFrameWait:0,redirectNavigationTimeout:S0,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:i?.nativeBrokerHandshakeTimeout||QA,pollIntervalMilliseconds:tn.DEFAULT_POLL_INTERVAL_MS},...i,loggerOptions:i?.loggerOptions||m},C={application:{appName:j.EMPTY_STRING,appVersion:j.EMPTY_STRING},client:new xv};if(c?.protocolMode!==nn.OIDC&&c?.OIDCOptions&&new ca(v.loggerOptions).warning(JSON.stringify(nt(Sv))),c?.protocolMode&&c.protocolMode===nn.OIDC&&v?.allowPlatformBroker)throw nt(Tv);return{auth:{...u,...c,OIDCOptions:{...u.OIDCOptions,...c?.OIDCOptions}},cache:{...h,...t},system:v,telemetry:{...C,...r}}}/*! @azure/msal-browser v4.24.0 2025-09-24 */const b0="@azure/msal-browser",Ua="4.24.0";/*! @azure/msal-browser v4.24.0 2025-09-24 */const Mt="msal",tf="browser",kd="-",ea=1,$d=1,E0=`${Mt}.${tf}.log.level`,w0=`${Mt}.${tf}.log.pii`,R0=`${Mt}.${tf}.platform.auth.dom`,ky=`${Mt}.version`,Dy="account.keys",Uy="token.keys";function ii(c=$d){return c<1?`${Mt}.${Dy}`:`${Mt}.${c}.${Dy}`}function Oa(c,t=ea){return t<1?`${Mt}.${Uy}.${c}`:`${Mt}.${t}.${Uy}.${c}`}/*! @azure/msal-browser v4.24.0 2025-09-24 */class nf{static loggerCallback(t,i){switch(t){case ot.Error:console.error(i);return;case ot.Info:console.info(i);return;case ot.Verbose:console.debug(i);return;case ot.Warning:console.warn(i);return;default:console.log(i);return}}constructor(t){this.browserEnvironment=typeof window<"u",this.config=T0(t,this.browserEnvironment);let i;try{i=window[wt.SessionStorage]}catch{}const r=i?.getItem(E0),s=i?.getItem(w0)?.toLowerCase(),u=s==="true"?!0:s==="false"?!1:void 0,h={...this.config.system.loggerOptions},m=r&&Object.keys(ot).includes(r)?ot[r]:void 0;m&&(h.loggerCallback=nf.loggerCallback,h.logLevel=m),u!==void 0&&(h.piiLoggingEnabled=u),this.logger=new ca(h,b0,Ua),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class Pa extends nf{getModuleName(){return Pa.MODULE_NAME}getId(){return Pa.ID}async initialize(){return this.available=typeof window<"u",this.available}}Pa.MODULE_NAME="";Pa.ID="StandardOperatingContext";/*! @azure/msal-browser v4.24.0 2025-09-24 */class _0{constructor(){this.dbName=Qd,this.version=XE,this.tableName=JE,this.dbOpen=!1}async open(){return new Promise((t,i)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",s=>{s.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",s=>{const u=s;this.db=u.target.result,this.dbOpen=!0,t()}),r.addEventListener("error",()=>i(ne(Gh)))})}closeConnection(){const t=this.db;t&&this.dbOpen&&(t.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(t){return await this.validateDbIsOpen(),new Promise((i,r)=>{if(!this.db)return r(ne(Ir));const h=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(t);h.addEventListener("success",m=>{const p=m;this.closeConnection(),i(p.target.result)}),h.addEventListener("error",m=>{this.closeConnection(),r(m)})})}async setItem(t,i){return await this.validateDbIsOpen(),new Promise((r,s)=>{if(!this.db)return s(ne(Ir));const m=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(i,t);m.addEventListener("success",()=>{this.closeConnection(),r()}),m.addEventListener("error",p=>{this.closeConnection(),s(p)})})}async removeItem(t){return await this.validateDbIsOpen(),new Promise((i,r)=>{if(!this.db)return r(ne(Ir));const h=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(t);h.addEventListener("success",()=>{this.closeConnection(),i()}),h.addEventListener("error",m=>{this.closeConnection(),r(m)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((t,i)=>{if(!this.db)return i(ne(Ir));const u=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();u.addEventListener("success",h=>{const m=h;this.closeConnection(),t(m.target.result)}),u.addEventListener("error",h=>{this.closeConnection(),i(h)})})}async containsKey(t){return await this.validateDbIsOpen(),new Promise((i,r)=>{if(!this.db)return r(ne(Ir));const h=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(t);h.addEventListener("success",m=>{const p=m;this.closeConnection(),i(p.target.result===1)}),h.addEventListener("error",m=>{this.closeConnection(),r(m)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((t,i)=>{const r=window.indexedDB.deleteDatabase(Qd),s=setTimeout(()=>i(!1),200);r.addEventListener("success",()=>(clearTimeout(s),t(!0))),r.addEventListener("blocked",()=>(clearTimeout(s),t(!0))),r.addEventListener("error",()=>(clearTimeout(s),i(!1)))})}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class uc{constructor(){this.cache=new Map}async initialize(){}getItem(t){return this.cache.get(t)||null}getUserData(t){return this.getItem(t)}setItem(t,i){this.cache.set(t,i)}async setUserData(t,i){this.setItem(t,i)}removeItem(t){this.cache.delete(t)}getKeys(){const t=[];return this.cache.forEach((i,r)=>{t.push(r)}),t}containsKey(t){return this.cache.has(t)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class I0{constructor(t){this.inMemoryCache=new uc,this.indexedDBCache=new _0,this.logger=t}handleDatabaseAccessError(t){if(t instanceof is&&t.errorCode===Gh)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw t}async getItem(t){const i=this.inMemoryCache.getItem(t);if(!i)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(t)}catch(r){this.handleDatabaseAccessError(r)}return i}async setItem(t,i){this.inMemoryCache.setItem(t,i);try{await this.indexedDBCache.setItem(t,i)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(t){this.inMemoryCache.removeItem(t);try{await this.indexedDBCache.removeItem(t)}catch(i){this.handleDatabaseAccessError(i)}}async getKeys(){const t=this.inMemoryCache.getKeys();if(t.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(i){this.handleDatabaseAccessError(i)}return t}async containsKey(t){const i=this.inMemoryCache.containsKey(t);if(!i)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(t)}catch(r){this.handleDatabaseAccessError(r)}return i}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const t=await this.indexedDBCache.deleteDatabase();return t&&this.logger.verbose("Persistent keystore deleted"),t}catch(t){return this.handleDatabaseAccessError(t),!1}}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class Ri{constructor(t,i,r){this.logger=t,a0(r??!1),this.cache=new I0(this.logger),this.performanceClient=i}createNewGuid(){return Fn()}base64Encode(t){return es(t)}base64Decode(t){return Kn(t)}base64UrlEncode(t){return Sl(t)}encodeKid(t){return this.base64UrlEncode(JSON.stringify({kid:t}))}async getPublicKeyThumbprint(t){const i=this.performanceClient?.startMeasurement(E.CryptoOptsGetPublicKeyThumbprint,t.correlationId),r=await o0(Ri.EXTRACTABLE,Ri.POP_KEY_USAGES),s=await Od(r.publicKey),u={e:s.e,kty:s.kty,n:s.n},h=Py(u),m=await this.hashString(h),p=await Od(r.privateKey),v=await s0(p,!1,["sign"]);return await this.cache.setItem(m,{privateKey:v,publicKey:r.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri}),i&&i.end({success:!0}),m}async removeTokenBindingKey(t){if(await this.cache.removeItem(t),await this.cache.containsKey(t))throw $(cv)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(t){return t instanceof Error?this.logger.error(`Clearing keystore failed with error: ${t.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(t,i,r,s){const u=this.performanceClient?.startMeasurement(E.CryptoOptsSignJwt,s),h=await this.cache.getItem(i);if(!h)throw ne(Kh);const m=await Od(h.publicKey),p=Py(m),v=Sl(JSON.stringify({kid:i})),C=Lh.getShrHeaderString({...r?.header,alg:m.alg,kid:v}),w=Sl(C);t.cnf={jwk:JSON.parse(p)};const R=Sl(JSON.stringify(t)),B=`${w}.${R}`,fe=new TextEncoder().encode(B),xe=await l0(h.privateKey,fe),st=ua(new Uint8Array(xe)),Ge=`${B}.${st}`;return u&&u.end({success:!0}),Ge}async hashString(t){return BA(t)}}Ri.POP_KEY_USAGES=["sign","verify"];Ri.EXTRACTABLE=!0;function Py(c){return JSON.stringify(c,Object.keys(c).sort())}/*! @azure/msal-browser v4.24.0 2025-09-24 */const N0=1440*60*1e3,Vd={Lax:"Lax",None:"None"};class YA{initialize(){return Promise.resolve()}getItem(t){const i=`${encodeURIComponent(t)}`,r=document.cookie.split(";");for(let s=0;s<r.length;s++){const u=r[s],[h,...m]=decodeURIComponent(u).trim().split("="),p=m.join("=");if(h===i)return p}return""}getUserData(){throw $(_e)}setItem(t,i,r,s=!0,u=Vd.Lax){let h=`${encodeURIComponent(t)}=${encodeURIComponent(i)};path=/;SameSite=${u};`;if(r){const m=x0(r);h+=`expires=${m};`}(s||u===Vd.None)&&(h+="Secure;"),document.cookie=h}async setUserData(){return Promise.reject($(_e))}removeItem(t){this.setItem(t,"",-1)}getKeys(){const t=document.cookie.split(";"),i=[];return t.forEach(r=>{const s=decodeURIComponent(r).trim().split("=");i.push(s[0])}),i}containsKey(t){return this.getKeys().includes(t)}decryptData(){return Promise.resolve(null)}}function x0(c){const t=new Date;return new Date(t.getTime()+c*N0).toUTCString()}/*! @azure/msal-browser v4.24.0 2025-09-24 */function Fo(c,t){const i=c.getItem(ii(t));return i?JSON.parse(i):[]}function Qo(c,t,i){const r=t.getItem(Oa(c,i));if(r){const s=JSON.parse(r);if(s&&s.hasOwnProperty("idToken")&&s.hasOwnProperty("accessToken")&&s.hasOwnProperty("refreshToken"))return s}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.24.0 2025-09-24 */function Xd(c){return c.hasOwnProperty("id")&&c.hasOwnProperty("nonce")&&c.hasOwnProperty("data")}/*! @azure/msal-browser v4.24.0 2025-09-24 */const Hy="msal.cache.encryption",M0="msal.broadcast.cache";class O0{constructor(t,i,r){if(!window.localStorage)throw Zh(cc);this.memoryStorage=new uc,this.initialized=!1,this.clientId=t,this.logger=i,this.performanceClient=r,this.broadcast=new BroadcastChannel(M0)}async initialize(t){const i=new YA,r=i.getItem(Hy);let s={key:"",id:""};if(r)try{s=JSON.parse(r)}catch{}if(s.key&&s.id){const u=vn(oa,E.Base64Decode,this.logger,this.performanceClient,t)(s.key);this.encryptionCookie={id:s.id,key:await H(Iy,E.GenerateHKDF,this.logger,this.performanceClient,t)(u)}}else{const u=Fn(),h=await H(LA,E.GenerateBaseKey,this.logger,this.performanceClient,t)(),m=vn(ua,E.UrlEncodeArr,this.logger,this.performanceClient,t)(new Uint8Array(h));this.encryptionCookie={id:u,key:await H(Iy,E.GenerateHKDF,this.logger,this.performanceClient,t)(h)};const p={id:u,key:m};i.setItem(Hy,JSON.stringify(p),0,!0,Vd.None)}await H(this.importExistingCache.bind(this),E.ImportExistingCache,this.logger,this.performanceClient,t)(t),this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(t){return window.localStorage.getItem(t)}getUserData(t){if(!this.initialized)throw ne(qo);return this.memoryStorage.getItem(t)}async decryptData(t,i,r){if(!this.initialized||!this.encryptionCookie)throw ne(qo);if(i.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},r),null;const s=await H(Ny,E.Decrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,i.nonce,this.getContext(t),i.data);if(!s)return null;try{return JSON.parse(s)}catch{return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},r),null}}setItem(t,i){window.localStorage.setItem(t,i)}async setUserData(t,i,r,s){if(!this.initialized||!this.encryptionCookie)throw ne(qo);const{data:u,nonce:h}=await H(d0,E.Encrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,i,this.getContext(t)),m={id:this.encryptionCookie.id,nonce:h,data:u,lastUpdatedAt:s};this.memoryStorage.setItem(t,i),this.setItem(t,JSON.stringify(m)),this.broadcast.postMessage({key:t,value:i,context:this.getContext(t)})}removeItem(t){this.memoryStorage.containsKey(t)&&(this.memoryStorage.removeItem(t),this.broadcast.postMessage({key:t,value:null,context:this.getContext(t)})),window.localStorage.removeItem(t)}getKeys(){return Object.keys(window.localStorage)}containsKey(t){return window.localStorage.hasOwnProperty(t)}clear(){this.memoryStorage.clear(),Fo(this).forEach(r=>this.removeItem(r));const i=Qo(this.clientId,this);i.idToken.forEach(r=>this.removeItem(r)),i.accessToken.forEach(r=>this.removeItem(r)),i.refreshToken.forEach(r=>this.removeItem(r)),this.getKeys().forEach(r=>{(r.startsWith(Mt)||r.indexOf(this.clientId)!==-1)&&this.removeItem(r)})}async importExistingCache(t){if(!this.encryptionCookie)return;let i=Fo(this);i=await this.importArray(i,t),i.length?this.setItem(ii(),JSON.stringify(i)):this.removeItem(ii());const r=Qo(this.clientId,this);r.idToken=await this.importArray(r.idToken,t),r.accessToken=await this.importArray(r.accessToken,t),r.refreshToken=await this.importArray(r.refreshToken,t),r.idToken.length||r.accessToken.length||r.refreshToken.length?this.setItem(Oa(this.clientId),JSON.stringify(r)):this.removeItem(Oa(this.clientId))}async getItemFromEncryptedCache(t,i){if(!this.encryptionCookie)return null;const r=this.getItem(t);if(!r)return null;let s;try{s=JSON.parse(r)}catch{return null}return Xd(s)?s.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},i),null):H(Ny,E.Decrypt,this.logger,this.performanceClient,i)(this.encryptionCookie.key,s.nonce,this.getContext(t),s.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},i),s)}async importArray(t,i){const r=[],s=[];return t.forEach(u=>{const h=this.getItemFromEncryptedCache(u,i).then(m=>{m?(this.memoryStorage.setItem(u,m),r.push(u)):this.removeItem(u)});s.push(h)}),await Promise.all(s),r}getContext(t){let i="";return t.includes(this.clientId)&&(i=this.clientId),i}updateCache(t){this.logger.trace("Updating internal cache from broadcast event");const i=this.performanceClient.startMeasurement(E.LocalStorageUpdated);i.add({isBackground:!0});const{key:r,value:s,context:u}=t.data;if(!r){this.logger.error("Broadcast event missing key"),i.end({success:!1,errorCode:"noKey"});return}if(u&&u!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${u}`),i.end({success:!1,errorCode:"contextMismatch"});return}s?(this.memoryStorage.setItem(r,s),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(r),this.logger.verbose("Removed item from internal cache")),i.end({success:!0})}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class k0{constructor(){if(!window.sessionStorage)throw Zh(cc)}async initialize(){}getItem(t){return window.sessionStorage.getItem(t)}getUserData(t){return this.getItem(t)}setItem(t,i){window.sessionStorage.setItem(t,i)}async setUserData(t,i){this.setItem(t,i)}removeItem(t){window.sessionStorage.removeItem(t)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(t){return window.sessionStorage.hasOwnProperty(t)}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */const me={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};/*! @azure/msal-browser v4.24.0 2025-09-24 */function Ly(c,t){const i=c.indexOf(t);i>-1&&c.splice(i,1)}/*! @azure/msal-browser v4.24.0 2025-09-24 */class Jd extends Kd{constructor(t,i,r,s,u,h,m){super(t,r,s,u,m),this.cacheConfig=i,this.logger=s,this.internalStorage=new uc,this.browserStorage=jy(t,i.cacheLocation,s,u),this.temporaryCacheStorage=jy(t,i.temporaryCacheLocation,s,u),this.cookieStorage=new YA,this.eventHandler=h}async initialize(t){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},t),await this.browserStorage.initialize(t),await this.migrateExistingCache(t),this.trackVersionChanges(t)}async migrateExistingCache(t){const i=Fo(this.browserStorage,0),r=Qo(this.clientId,this.browserStorage,0);this.performanceClient.addFields({oldAccountCount:i.length,oldAccessCount:r.accessToken.length,oldIdCount:r.idToken.length,oldRefreshCount:r.refreshToken.length},t);const s=Fo(this.browserStorage,1),u=Qo(this.clientId,this.browserStorage,1);this.performanceClient.addFields({currAccountCount:s.length,currAccessCount:u.accessToken.length,currIdCount:u.idToken.length,currRefreshCount:u.refreshToken.length},t),await Promise.all([this.updateV0ToCurrent($d,i,s,t),this.updateV0ToCurrent(ea,r.idToken,u.idToken,t),this.updateV0ToCurrent(ea,r.accessToken,u.accessToken,t),this.updateV0ToCurrent(ea,r.refreshToken,u.refreshToken,t)]),i.length>0?this.browserStorage.setItem(ii(0),JSON.stringify(i)):this.browserStorage.removeItem(ii(0)),s.length>0?this.browserStorage.setItem(ii(1),JSON.stringify(s)):this.browserStorage.removeItem(ii(1)),this.setTokenKeys(r,t,0),this.setTokenKeys(u,t,1)}async updateV0ToCurrent(t,i,r,s){const u=[];for(const h of[...i]){const m=this.browserStorage.getItem(h),p=this.validateAndParseJson(m||"");if(!p){Ly(i,h);continue}p.lastUpdatedAt||(p.lastUpdatedAt=Date.now().toString(),this.setItem(h,JSON.stringify(p),s));const v=Xd(p)?await this.browserStorage.decryptData(h,p,s):p;let C;if(v&&(yy(v)||vy(v))&&(C=v.expiresOn),!v||mE(p.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)||C&&Hl(C,Yy)){this.browserStorage.removeItem(h),Ly(i,h),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},s);continue}if(this.cacheConfig.cacheLocation!==wt.LocalStorage||Xd(p)){const w=`${Mt}.${t}${kd}${h}`,R=this.browserStorage.getItem(w);if(R){const B=this.validateAndParseJson(R);if(Number(p.lastUpdatedAt)>Number(B.lastUpdatedAt)){u.push(this.setUserData(w,JSON.stringify(v),s,p.lastUpdatedAt).then(()=>{this.performanceClient.incrementFields({updatedCacheFromV0Count:1},s)}));continue}}else{u.push(this.setUserData(w,JSON.stringify(v),s,p.lastUpdatedAt).then(()=>{r.push(w),this.performanceClient.incrementFields({upgradedCacheCount:1},s)}));continue}}}return Promise.all(u)}trackVersionChanges(t){const i=this.browserStorage.getItem(ky);i&&(this.logger.info(`MSAL.js was last initialized by version: ${i}`),this.performanceClient.addFields({previousLibraryVersion:i},t)),i!==Ua&&this.setItem(ky,Ua,t)}validateAndParseJson(t){if(!t)return null;try{const i=JSON.parse(t);return i&&typeof i=="object"?i:null}catch{return null}}setItem(t,i,r){let s=0,u=[];const h=20;for(let m=0;m<=h;m++)try{this.browserStorage.setItem(t,i),m>0&&(m<=s?this.removeAccessTokenKeys(u.slice(0,m),r,0):(this.removeAccessTokenKeys(u.slice(0,s),r,0),this.removeAccessTokenKeys(u.slice(s,m),r)));break}catch(p){const v=zd(p);if(v.errorCode===Ol&&m<h){if(!u.length){const C=t===Oa(this.clientId,0)?JSON.parse(i).accessToken:this.getTokenKeys(0).accessToken,w=t===Oa(this.clientId)?JSON.parse(i).accessToken:this.getTokenKeys().accessToken;u=[...C,...w],s=C.length}if(u.length<=m)throw v;this.removeAccessToken(u[m],r,!1)}else throw v}}async setUserData(t,i,r,s){let u=0,h=[];const m=20;for(let p=0;p<=m;p++)try{await H(this.browserStorage.setUserData.bind(this.browserStorage),E.SetUserData,this.logger,this.performanceClient)(t,i,r,s),p>0&&(p<=u?this.removeAccessTokenKeys(h.slice(0,p),r,0):(this.removeAccessTokenKeys(h.slice(0,u),r,0),this.removeAccessTokenKeys(h.slice(u,p),r)));break}catch(v){const C=zd(v);if(C.errorCode===Ol&&p<m){if(!h.length){const w=this.getTokenKeys(0).accessToken,R=this.getTokenKeys().accessToken;h=[...w,...R],u=w.length}if(h.length<=p)throw C;this.removeAccessToken(h[p],r,!1)}else throw C}}getAccount(t,i){this.logger.trace("BrowserCacheManager.getAccount called");const r=this.browserStorage.getUserData(t);if(!r)return this.removeAccountKeyFromMap(t,i),null;const s=this.validateAndParseJson(r);return!s||!Gn.isAccountEntity(s)?null:Kd.toObject(new Gn,s)}async setAccount(t,i){this.logger.trace("BrowserCacheManager.setAccount called");const r=this.generateAccountKey(t.getAccountInfo()),s=Date.now().toString();t.lastUpdatedAt=s,await this.setUserData(r,JSON.stringify(t),i,s);const u=this.addAccountKeyToMap(r,i);this.cacheConfig.cacheLocation===wt.LocalStorage&&u&&this.eventHandler.emitEvent(me.ACCOUNT_ADDED,void 0,t.getAccountInfo())}getAccountKeys(){return Fo(this.browserStorage)}addAccountKeyToMap(t,i){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${t}`);const r=this.getAccountKeys();return r.indexOf(t)===-1?(r.push(t),this.setItem(ii(),JSON.stringify(r),i),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(t,i){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${t}`);const r=this.getAccountKeys(),s=r.indexOf(t);if(s>-1){if(r.splice(s,1),r.length===0){this.removeItem(ii());return}else this.setItem(ii(),JSON.stringify(r),i);this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(t,i){const r=this.getActiveAccount(i);r?.homeAccountId===t.homeAccountId&&r?.environment===t.environment&&this.setActiveAccount(null,i),super.removeAccount(t,i),this.removeAccountKeyFromMap(this.generateAccountKey(t),i),this.browserStorage.getKeys().forEach(s=>{s.includes(t.homeAccountId)&&s.includes(t.environment)&&this.browserStorage.removeItem(s)}),this.cacheConfig.cacheLocation===wt.LocalStorage&&this.eventHandler.emitEvent(me.ACCOUNT_REMOVED,void 0,t)}removeIdToken(t,i){super.removeIdToken(t,i);const r=this.getTokenKeys(),s=r.idToken.indexOf(t);s>-1&&(this.logger.info("idToken removed from tokenKeys map"),r.idToken.splice(s,1),this.setTokenKeys(r,i))}removeAccessToken(t,i,r=!0){super.removeAccessToken(t,i),r&&this.removeAccessTokenKeys([t],i)}removeAccessTokenKeys(t,i,r=ea){this.logger.trace("removeAccessTokenKey called");const s=this.getTokenKeys(r);let u=0;if(t.forEach(h=>{const m=s.accessToken.indexOf(h);m>-1&&(s.accessToken.splice(m,1),u++)}),u>0){this.logger.info(`removed ${u} accessToken keys from tokenKeys map`),this.setTokenKeys(s,i,r);return}}removeRefreshToken(t,i){super.removeRefreshToken(t,i);const r=this.getTokenKeys(),s=r.refreshToken.indexOf(t);s>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),r.refreshToken.splice(s,1),this.setTokenKeys(r,i))}getTokenKeys(t=ea){return Qo(this.clientId,this.browserStorage,t)}setTokenKeys(t,i,r=ea){if(t.idToken.length===0&&t.accessToken.length===0&&t.refreshToken.length===0){this.removeItem(Oa(this.clientId,r));return}else this.setItem(Oa(this.clientId,r),JSON.stringify(t),i)}getIdTokenCredential(t,i){const r=this.browserStorage.getUserData(t);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(t,i),null;const s=this.validateAndParseJson(r);return!s||!yE(s)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),s)}async setIdTokenCredential(t,i){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const r=this.generateCredentialKey(t),s=Date.now().toString();t.lastUpdatedAt=s,await this.setUserData(r,JSON.stringify(t),i,s);const u=this.getTokenKeys();u.idToken.indexOf(r)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),u.idToken.push(r),this.setTokenKeys(u,i))}getAccessTokenCredential(t,i){const r=this.browserStorage.getUserData(t);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([t],i),null;const s=this.validateAndParseJson(r);return!s||!yy(s)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),s)}async setAccessTokenCredential(t,i){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const r=this.generateCredentialKey(t),s=Date.now().toString();t.lastUpdatedAt=s,await this.setUserData(r,JSON.stringify(t),i,s);const u=this.getTokenKeys(),h=u.accessToken.indexOf(r);h!==-1&&u.accessToken.splice(h,1),this.logger.trace(`access token ${h===-1?"added to":"updated in"} map`),u.accessToken.push(r),this.setTokenKeys(u,i)}getRefreshTokenCredential(t,i){const r=this.browserStorage.getUserData(t);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(t,i),null;const s=this.validateAndParseJson(r);return!s||!vy(s)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),s)}async setRefreshTokenCredential(t,i){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const r=this.generateCredentialKey(t),s=Date.now().toString();t.lastUpdatedAt=s,await this.setUserData(r,JSON.stringify(t),i,s);const u=this.getTokenKeys();u.refreshToken.indexOf(r)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),u.refreshToken.push(r),this.setTokenKeys(u,i))}getAppMetadata(t){const i=this.browserStorage.getItem(t);if(!i)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(i);return!r||!SE(t,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(t,i){this.logger.trace("BrowserCacheManager.setAppMetadata called");const r=CE(t);this.setItem(r,JSON.stringify(t),i)}getServerTelemetry(t){const i=this.browserStorage.getItem(t);if(!i)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(i);return!r||!vE(t,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(t,i,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(t,JSON.stringify(i),r)}getAuthorityMetadata(t){const i=this.internalStorage.getItem(t);if(!i)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(i);return r&&TE(t,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(i=>this.isAuthorityMetadata(i))}setWrapperMetadata(t,i){this.internalStorage.setItem(Cl.WRAPPER_SKU,t),this.internalStorage.setItem(Cl.WRAPPER_VER,i)}getWrapperMetadata(){const t=this.internalStorage.getItem(Cl.WRAPPER_SKU)||j.EMPTY_STRING,i=this.internalStorage.getItem(Cl.WRAPPER_VER)||j.EMPTY_STRING;return[t,i]}setAuthorityMetadata(t,i){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(t,JSON.stringify(i))}getActiveAccount(t){const i=this.generateCacheKey(ay.ACTIVE_ACCOUNT_FILTERS),r=this.browserStorage.getItem(i);if(!r)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const s=this.validateAndParseJson(r);return s?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:s.homeAccountId,localAccountId:s.localAccountId,tenantId:s.tenantId},t)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(t,i){const r=this.generateCacheKey(ay.ACTIVE_ACCOUNT_FILTERS);if(t){this.logger.verbose("setActiveAccount: Active account set");const s={homeAccountId:t.homeAccountId,localAccountId:t.localAccountId,tenantId:t.tenantId,lastUpdatedAt:an().toString()};this.setItem(r,JSON.stringify(s),i)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r);this.eventHandler.emitEvent(me.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(t){const i=this.browserStorage.getItem(t);if(!i)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(i);return!r||!AE(t,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(t,i,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(t,JSON.stringify(i),r)}getTemporaryCache(t,i){const r=i?this.generateCacheKey(t):t;if(this.cacheConfig.storeAuthStateInCookie){const u=this.cookieStorage.getItem(r);if(u)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),u}const s=this.temporaryCacheStorage.getItem(r);if(!s){if(this.cacheConfig.cacheLocation===wt.LocalStorage){const u=this.browserStorage.getItem(r);if(u)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),u}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),s}setTemporaryCache(t,i,r){const s=r?this.generateCacheKey(t):t;this.temporaryCacheStorage.setItem(s,i),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(s,i,void 0,this.cacheConfig.secureCookies))}removeItem(t){this.browserStorage.removeItem(t)}removeTemporaryItem(t){this.temporaryCacheStorage.removeItem(t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(t))}getKeys(){return this.browserStorage.getKeys()}clear(t){this.removeAllAccounts(t),this.removeAppMetadata(t),this.temporaryCacheStorage.getKeys().forEach(i=>{(i.indexOf(Mt)!==-1||i.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(i)}),this.browserStorage.getKeys().forEach(i=>{(i.indexOf(Mt)!==-1||i.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(i)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(t){this.performanceClient.addQueueMeasurement(E.ClearTokensAndKeysWithClaims,t);const i=this.getTokenKeys();let r=0;i.accessToken.forEach(s=>{const u=this.getAccessTokenCredential(s,t);u?.requestedClaimsHash&&s.includes(u.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(s,t),r++)}),r>0&&this.logger.warning(`${r} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(t){return yn.startsWith(t,Mt)?t:`${Mt}.${this.clientId}.${t}`}generateCredentialKey(t){const i=t.credentialType===jt.REFRESH_TOKEN&&t.familyId||t.clientId,r=t.tokenType&&t.tokenType.toLowerCase()!==Ye.BEARER.toLowerCase()?t.tokenType.toLowerCase():"";return[`${Mt}.${ea}`,t.homeAccountId,t.environment,t.credentialType,i,t.realm||"",t.target||"",t.requestedClaimsHash||"",r].join(kd).toLowerCase()}generateAccountKey(t){const i=t.homeAccountId.split(".")[1];return[`${Mt}.${$d}`,t.homeAccountId,t.environment,i||t.tenantId||""].join(kd).toLowerCase()}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(At.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(At.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(At.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(At.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(At.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(t,i){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const r=es(JSON.stringify(t));if(this.setTemporaryCache(At.REQUEST_PARAMS,r,!0),i){const s=es(i);this.setTemporaryCache(At.VERIFIER,s,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(At.REQUEST_PARAMS,!0);if(!t)throw ne(yA);const i=this.getTemporaryCache(At.VERIFIER,!0);let r,s="";try{r=JSON.parse(Kn(t)),i&&(s=Kn(i))}catch(u){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${u}`),ne(vA)}return[r,s]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const t=this.getTemporaryCache(At.NATIVE_REQUEST,!0);if(!t)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const i=this.validateAndParseJson(t);return i||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(t){const i=this.getInteractionInProgress()?.clientId;return t?i===this.clientId:!!i}getInteractionInProgress(){const t=`${Mt}.${At.INTERACTION_STATUS_KEY}`,i=this.getTemporaryCache(t,!1);try{return i?JSON.parse(i):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(t),this.resetRequestCache(),KA(window),null}}setInteractionInProgress(t,i=ta.SIGNIN){const r=`${Mt}.${At.INTERACTION_STATUS_KEY}`;if(t){if(this.getInteractionInProgress())throw ne(cA);this.setTemporaryCache(r,JSON.stringify({clientId:this.clientId,type:i}),!1)}else!t&&this.getInteractionInProgress()?.clientId===this.clientId&&this.removeTemporaryItem(r)}async hydrateCache(t,i){const r=tc(t.account?.homeAccountId,t.account?.environment,t.idToken,this.clientId,t.tenantId);let s;i.claims&&(s=await this.cryptoImpl.hashString(i.claims));const u=nc(t.account?.homeAccountId,t.account.environment,t.accessToken,this.clientId,t.tenantId,t.scopes.join(" "),t.expiresOn?py(t.expiresOn):0,t.extExpiresOn?py(t.extExpiresOn):0,Kn,void 0,t.tokenType,void 0,i.sshKid,i.claims,s),h={idToken:r,accessToken:u};return this.saveCacheRecord(h,t.correlationId)}async saveCacheRecord(t,i,r){try{await super.saveCacheRecord(t,i,r)}catch(s){if(s instanceof xr&&this.performanceClient&&i)try{const u=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:u.refreshToken.length,cacheIdCount:u.idToken.length,cacheAtCount:u.accessToken.length},i)}catch{}throw s}}}function jy(c,t,i,r){try{switch(t){case wt.LocalStorage:return new O0(c,i,r);case wt.SessionStorage:return new k0;case wt.MemoryStorage:default:break}}catch(s){i.error(s)}return new uc}const D0=(c,t,i,r)=>{const s={cacheLocation:wt.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:wt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Jd(c,s,Nl,t,i,r)};/*! @azure/msal-browser v4.24.0 2025-09-24 */function U0(c,t,i,r,s){return c.verbose("getAllAccounts called"),i?t.getAllAccounts(s||{},r):[]}function P0(c,t,i,r){const s=i.getAccountInfoFilteredBy(c,r);return s?(t.verbose("getAccount: Account matching provided filter found, returning"),s):(t.verbose("getAccount: No matching account found, returning null"),null)}function H0(c,t,i,r){if(t.trace("getAccountByUsername called"),!c)return t.warning("getAccountByUsername: No username provided"),null;const s=i.getAccountInfoFilteredBy({username:c},r);return s?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${c}`),s):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}function L0(c,t,i,r){if(t.trace("getAccountByHomeId called"),!c)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const s=i.getAccountInfoFilteredBy({homeAccountId:c},r);return s?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${c}`),s):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function j0(c,t,i,r){if(t.trace("getAccountByLocalId called"),!c)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const s=i.getAccountInfoFilteredBy({localAccountId:c},r);return s?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${c}`),s):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function B0(c,t,i){t.setActiveAccount(c,i)}function z0(c,t){return c.getActiveAccount(t)}/*! @azure/msal-browser v4.24.0 2025-09-24 */const K0="msal.broadcast.event";class G0{constructor(t){this.eventCallbacks=new Map,this.logger=t||new ca({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(K0)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(t,i,r){if(typeof window<"u"){const s=r||v0();return this.eventCallbacks.has(s)?(this.logger.error(`Event callback with id: ${s} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(s,[t,i||[]]),this.logger.verbose(`Event callback registered with id: ${s}`),s)}return null}removeEventCallback(t){this.eventCallbacks.delete(t),this.logger.verbose(`Event callback ${t} removed.`)}emitEvent(t,i,r,s){const u={eventType:t,interactionType:i||null,payload:r||null,error:s||null,timestamp:Date.now()};switch(t){case me.ACCOUNT_ADDED:case me.ACCOUNT_REMOVED:case me.ACTIVE_ACCOUNT_CHANGED:this.broadcastChannel?.postMessage(u);break;default:this.invokeCallbacks(u);break}}invokeCallbacks(t){this.eventCallbacks.forEach(([i,r],s)=>{(r.length===0||r.includes(t.eventType))&&(this.logger.verbose(`Emitting event to callback ${s}: ${t.eventType}`),i.apply(null,[t]))})}invokeCrossTabCallbacks(t){const i=t.data;this.invokeCallbacks(i)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class $A{constructor(t,i,r,s,u,h,m,p,v){this.config=t,this.browserStorage=i,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=u,this.navigationClient=h,this.platformAuthProvider=p,this.correlationId=v||Fn(),this.logger=s.clone(tn.MSAL_SKU,Ua,this.correlationId),this.performanceClient=m}async clearCacheOnLogout(t,i){if(i)try{this.browserStorage.removeAccount(i,t),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(t),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(t){this.logger.verbose("getRedirectUri called");const i=t||this.config.auth.redirectUri;return Be.getAbsoluteUrl(i,wi())}initializeServerTelemetryManager(t,i){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:t,forceRefresh:i||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Zo(r,this.browserStorage)}async getDiscoveredAuthority(t){const{account:i}=t,r=t.requestExtraQueryParameters&&t.requestExtraQueryParameters.hasOwnProperty("instance_aware")?t.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(E.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const s={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},u=t.requestAuthority||this.config.auth.authority,h=r?.length?r==="true":this.config.auth.instanceAware,m=i&&h?this.config.auth.authority.replace(Be.getDomainFromUrl(u),i.environment):u,p=Kt.generateAuthority(m,t.requestAzureCloudOptions||this.config.auth.azureCloudOptions),v=await H($v,E.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(p,this.config.system.networkClient,this.browserStorage,s,this.logger,this.correlationId,this.performanceClient);if(i&&!v.isAlias(i.environment))throw nt(bv);return v}}/*! @azure/msal-browser v4.24.0 2025-09-24 */async function af(c,t,i,r){i.addQueueMeasurement(E.InitializeBaseRequest,c.correlationId);const s=c.authority||t.auth.authority,u=[...c&&c.scopes||[]],h={...c,correlationId:c.correlationId,authority:s,scopes:u};if(!h.authenticationScheme)h.authenticationScheme=Ye.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(h.authenticationScheme===Ye.SSH){if(!c.sshJwk)throw nt(Jl);if(!c.sshKid)throw nt(Cv)}r.verbose(`Authentication Scheme set to "${h.authenticationScheme}" as configured in Auth request`)}return t.cache.claimsBasedCachingEnabled&&c.claims&&!yn.isEmptyObj(c.claims)&&(h.requestedClaimsHash=await BA(c.claims)),h}async function q0(c,t,i,r,s){r.addQueueMeasurement(E.InitializeSilentRequest,c.correlationId);const u=await H(af,E.InitializeBaseRequest,s,r,c.correlationId)(c,i,r,s);return{...c,...u,account:t,forceRefresh:c.forceRefresh||!1}}function VA(c,t){let i;const r=c.httpMethod;if(t===nn.EAR){if(i=r||Ma.POST,i!==Ma.POST)throw nt(Ev)}else i=r||Ma.GET;if(c.authorizePostBodyParameters&&i!==Ma.POST)throw nt(wv);return i}/*! @azure/msal-browser v4.24.0 2025-09-24 */class Br extends $A{initializeLogoutRequest(t){this.logger.verbose("initializeLogoutRequest called",t?.correlationId);const i={correlationId:this.correlationId||Fn(),...t};if(t)if(t.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(t.account){const r=this.getLogoutHintFromIdTokenClaims(t.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),i.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!t||t.postLogoutRedirectUri!==null?t&&t.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",i.correlationId),i.postLogoutRedirectUri=Be.getAbsoluteUrl(t.postLogoutRedirectUri,wi())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",i.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",i.correlationId),i.postLogoutRedirectUri=Be.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,wi())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",i.correlationId),i.postLogoutRedirectUri=Be.getAbsoluteUrl(wi(),wi())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",i.correlationId),i}getLogoutHintFromIdTokenClaims(t){const i=t.idTokenClaims;if(i){if(i.login_hint)return i.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(t){this.performanceClient.addQueueMeasurement(E.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const i=await H(this.getClientConfiguration.bind(this),E.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(t);return new Wv(i,this.performanceClient)}async getClientConfiguration(t){const{serverTelemetryManager:i,requestAuthority:r,requestAzureCloudOptions:s,requestExtraQueryParameters:u,account:h}=t;this.performanceClient.addQueueMeasurement(E.StandardInteractionClientGetClientConfiguration,this.correlationId);const m=await H(this.getDiscoveredAuthority.bind(this),E.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:s,requestExtraQueryParameters:u,account:h}),p=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:m,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:p.loggerCallback,piiLoggingEnabled:p.piiLoggingEnabled,logLevel:p.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:i,libraryInfo:{sku:tn.MSAL_SKU,version:Ua,cpu:j.EMPTY_STRING,os:j.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(t,i){this.performanceClient.addQueueMeasurement(E.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(t.redirectUri),s={interactionType:i},u=Lr.setRequestState(this.browserCrypto,t&&t.state||j.EMPTY_STRING,s),m={...await H(af,E.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...t,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:u,nonce:t.nonce||Fn(),responseMode:this.config.auth.OIDCOptions.serverResponseType},p={...m,httpMethod:VA(m,this.config.auth.protocolMode)};if(t.loginHint||t.sid)return p;const v=t.account||this.browserStorage.getActiveAccount(this.correlationId);return v&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${v.homeAccountId}`,this.correlationId),p.account=v),p}}/*! @azure/msal-browser v4.24.0 2025-09-24 */function F0(c,t){if(!t)return null;try{return Lr.parseRequestState(c,t).libraryState.meta}catch{throw $(kr)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */function Yo(c,t,i){const r=xl(c);if(!r)throw _v(c)?(i.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),i.errorPii(`The ${t} detected is: ${c}`),ne(oA)):(i.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),ne(rA));return r}function Q0(c,t,i){if(!c.state)throw ne(zh);const r=F0(t,c.state);if(!r)throw ne(sA);if(r.interactionType!==i)throw ne(lA)}/*! @azure/msal-browser v4.24.0 2025-09-24 */class XA{constructor(t,i,r,s,u){this.authModule=t,this.browserStorage=i,this.authCodeRequest=r,this.logger=s,this.performanceClient=u}async handleCodeResponse(t,i){this.performanceClient.addQueueMeasurement(E.HandleCodeResponse,i.correlationId);let r;try{r=HE(t,i.state)}catch(s){throw s instanceof ja&&s.subError===Wo?ne(Wo):s}return H(this.handleCodeResponseFromServer.bind(this),E.HandleCodeResponseFromServer,this.logger,this.performanceClient,i.correlationId)(r,i)}async handleCodeResponseFromServer(t,i,r=!0){if(this.performanceClient.addQueueMeasurement(E.HandleCodeResponseFromServer,i.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=t.code,t.cloud_instance_host_name&&await H(this.authModule.updateAuthority.bind(this.authModule),E.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,i.correlationId)(t.cloud_instance_host_name,i.correlationId),r&&(t.nonce=i.nonce||void 0),t.state=i.state,t.client_info)this.authCodeRequest.clientInfo=t.client_info;else{const u=this.createCcsCredentials(i);u&&(this.authCodeRequest.ccsCredential=u)}return await H(this.authModule.acquireToken.bind(this.authModule),E.AuthClientAcquireToken,this.logger,this.performanceClient,i.correlationId)(this.authCodeRequest,t)}createCcsCredentials(t){return t.account?{credential:t.account.homeAccountId,type:zn.HOME_ACCOUNT_ID}:t.loginHint?{credential:t.loginHint,type:zn.UPN}:null}}/*! @azure/msal-browser v4.24.0 2025-09-24 */const Y0="ContentError",JA="user_switch";/*! @azure/msal-browser v4.24.0 2025-09-24 */const $0="USER_INTERACTION_REQUIRED",V0="USER_CANCEL",X0="NO_NETWORK",J0="DISABLED",Z0="ACCOUNT_UNAVAILABLE",W0="UX_NOT_ALLOWED";/*! @azure/msal-browser v4.24.0 2025-09-24 */const ew=-2147186943,tw={[JA]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class oi extends Ze{constructor(t,i,r){super(t,i),Object.setPrototypeOf(this,oi.prototype),this.name="NativeAuthError",this.ext=r}}function Nr(c){if(c.ext&&c.ext.status&&c.ext.status===J0||c.ext&&c.ext.error&&c.ext.error===ew)return!0;switch(c.errorCode){case Y0:return!0;default:return!1}}function Gl(c,t,i){if(i&&i.status)switch(i.status){case Z0:return jl(Xv);case $0:return new qn(c,t);case V0:return ne(Wo);case X0:return ne(Bl);case W0:return jl(Dh)}return new oi(c,tw[c]||t,i)}/*! @azure/msal-browser v4.24.0 2025-09-24 */class ZA extends Br{async acquireToken(t){this.performanceClient.addQueueMeasurement(E.SilentCacheClientAcquireToken,t.correlationId);const i=this.initializeServerTelemetryManager(Je.acquireTokenSilent_silentFlow),r=await H(this.getClientConfiguration.bind(this),E.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,account:t.account}),s=new DE(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const h=(await H(s.acquireCachedToken.bind(s),E.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,t.correlationId)(t))[0];return this.performanceClient.addFields({fromCache:!0},t.correlationId),h}catch(u){throw u instanceof is&&u.errorCode===Kh&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),u}}logout(t){this.logger.verbose("logoutRedirect called");const i=this.initializeLogoutRequest(t);return this.clearCacheOnLogout(i.correlationId,i?.account)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class wl extends $A{constructor(t,i,r,s,u,h,m,p,v,C,w,R){super(t,i,r,s,u,h,p,v,R),this.apiId=m,this.accountId=C,this.platformAuthProvider=v,this.nativeStorageManager=w,this.silentCacheClient=new ZA(t,this.nativeStorageManager,r,s,u,h,p,v,R);const B=this.platformAuthProvider.getExtensionName();this.skus=Zo.makeExtraSkuString({libraryName:tn.MSAL_SKU,libraryVersion:Ua,extensionName:B,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(t){t.extraParameters={...t.extraParameters,[Vb]:this.skus}}async acquireToken(t,i){this.performanceClient.addQueueMeasurement(E.NativeInteractionClientAcquireToken,this.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const r=this.performanceClient.startMeasurement(E.NativeInteractionClientAcquireToken,this.correlationId),s=an(),u=this.initializeServerTelemetryManager(this.apiId);try{const h=await this.initializeNativeRequest(t);try{const p=await this.acquireTokensFromCache(this.accountId,h);return r.end({success:!0,isNativeBroker:!1,fromCache:!0}),p}catch(p){if(i===$t.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),r.end({success:!1,brokerErrorCode:"cache_request_failed"}),p;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const m=await this.platformAuthProvider.sendMessage(h);return await this.handleNativeResponse(m,h,s).then(p=>(r.end({success:!0,isNativeBroker:!0,requestId:p.requestId}),u.clearNativeBrokerErrorCode(),p)).catch(p=>{throw r.end({success:!1,errorCode:p.errorCode,subErrorCode:p.subError}),p})}catch(h){throw h instanceof oi&&u.setNativeBrokerErrorCode(h.errorCode),r.end({success:!1}),h}}createSilentCacheRequest(t,i){return{authority:t.authority,correlationId:this.correlationId,scopes:Et.fromString(t.scope).asArray(),account:i,forceRefresh:!1}}async acquireTokensFromCache(t,i){if(!t)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),$(jd);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:t},this.correlationId);if(!r)throw $(jd);try{const s=this.createSilentCacheRequest(i,r),u=await this.silentCacheClient.acquireToken(s),h={...r,idTokenClaims:u?.idTokenClaims,idToken:u?.idToken};return{...u,account:h}}catch(s){throw s}}async acquireTokenRedirect(t,i){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=t;delete r.onRedirectNavigate;const s=await this.initializeNativeRequest(r);try{await this.platformAuthProvider.sendMessage(s)}catch(m){if(m instanceof oi&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(m.errorCode),Nr(m)))throw m}this.browserStorage.setTemporaryCache(At.NATIVE_REQUEST,JSON.stringify(s),!0);const u={apiId:Je.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},h=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(t.redirectUri);i.end({success:!0}),await this.navigationClient.navigateExternal(h,u)}async handleRedirectPromise(t,i){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),t&&i&&t?.addFields({errorCode:"no_cached_request"},i),null;const{prompt:s,...u}=r;s&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(At.NATIVE_REQUEST));const h=an();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const m=await this.platformAuthProvider.sendMessage(u),p=await this.handleNativeResponse(m,u,h);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),t&&this.correlationId&&this.performanceClient.addFields({isNativeBroker:!0},this.correlationId),p}catch(m){throw m}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(t,i,r){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const s=Hr(t.id_token,Kn),u=this.createHomeAccountIdentifier(t,s),h=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:i.accountId},this.correlationId)?.homeAccountId;if(i.extraParameters?.child_client_id&&t.account.id!==i.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(u!==h&&t.account.id!==i.accountId)throw Gl(JA);const m=await this.getDiscoveredAuthority({requestAuthority:i.authority}),p=Uh(this.browserStorage,m,u,Kn,this.correlationId,s,t.client_info,void 0,s.tid,void 0,t.account.id,this.logger);t.expires_in=Number(t.expires_in);const v=await this.generateAuthenticationResult(t,i,s,p,m.canonicalAuthority,r);return await this.cacheAccount(p,this.correlationId),await this.cacheNativeTokens(t,i,u,s,t.access_token,v.tenantId,r),v}createHomeAccountIdentifier(t,i){return Gn.generateHomeAccountId(t.client_info||j.EMPTY_STRING,Bn.Default,this.logger,this.browserCrypto,i)}generateScopes(t,i){return i?Et.fromString(i):Et.fromString(t)}async generatePopAccessToken(t,i){if(i.tokenType===Ye.POP&&i.signPopToken){if(t.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),t.shr;const r=new Dr(this.browserCrypto),s={resourceRequestMethod:i.resourceRequestMethod,resourceRequestUri:i.resourceRequestUri,shrClaims:i.shrClaims,shrNonce:i.shrNonce};if(!i.keyId)throw $(ch);return r.signPopToken(t.access_token,i.keyId,s)}else return t.access_token}async generateAuthenticationResult(t,i,r,s,u,h){const m=this.addTelemetryFromNativeResponse(t.properties.MATS),p=this.generateScopes(i.scope,t.scope),v=t.account.properties||{},C=v.UID||r.oid||r.sub||j.EMPTY_STRING,w=v.TenantId||r.tid||j.EMPTY_STRING,R=vh(s.getAccountInfo(),void 0,r,t.id_token);R.nativeAccountId!==t.account.id&&(R.nativeAccountId=t.account.id);const B=await this.generatePopAccessToken(t,i),ue=i.tokenType===Ye.POP?Ye.POP:Ye.BEARER;return{authority:u,uniqueId:C,tenantId:w,scopes:p.asArray(),account:R,idToken:t.id_token,idTokenClaims:r,accessToken:B,fromCache:m?this.isResponseFromCache(m):!1,expiresOn:Or(h+t.expires_in),tokenType:ue,correlationId:this.correlationId,state:t.state,fromNativeBroker:!0}}async cacheAccount(t,i){await this.browserStorage.setAccount(t,this.correlationId),this.browserStorage.removeAccountContext(t.getAccountInfo(),i)}cacheNativeTokens(t,i,r,s,u,h,m){const p=tc(r,i.authority,t.id_token||"",i.clientId,s.tid||""),v=i.tokenType===Ye.POP?j.SHR_NONCE_VALIDITY:(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,C=m+v,w=this.generateScopes(t.scope,i.scope),R=nc(r,i.authority,u,i.clientId,s.tid||h,w.printScopes(),C,0,Kn,void 0,i.tokenType,void 0,i.keyId),B={idToken:p,accessToken:R};return this.nativeStorageManager.saveCacheRecord(B,this.correlationId,i.storeInCache)}getExpiresInValue(t,i){return t===Ye.POP?j.SHR_NONCE_VALIDITY:(typeof i=="string"?parseInt(i,10):i)||0}addTelemetryFromNativeResponse(t){const i=this.getMATSFromResponse(t);return i?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:i.broker_version,matsAccountJoinOnStart:i.account_join_on_start,matsAccountJoinOnEnd:i.account_join_on_end,matsDeviceJoin:i.device_join,matsPromptBehavior:i.prompt_behavior,matsApiErrorCode:i.api_error_code,matsUiVisible:i.ui_visible,matsSilentCode:i.silent_code,matsSilentBiSubCode:i.silent_bi_sub_code,matsSilentMessage:i.silent_message,matsSilentStatus:i.silent_status,matsHttpStatus:i.http_status,matsHttpEventCount:i.http_event_count},this.correlationId),i):null}getMATSFromResponse(t){if(t)try{return JSON.parse(t)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(t){return typeof t.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!t.is_cached}async initializeNativeRequest(t){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const i=await this.getCanonicalAuthority(t),{scopes:r,...s}=t,u=new Et(r||[]);u.appendScopes(Pr);const h={...s,accountId:this.accountId,clientId:this.config.auth.clientId,authority:i.urlString,scope:u.printScopes(),redirectUri:this.getRedirectUri(t.redirectUri),prompt:this.getPrompt(t.prompt),correlationId:this.correlationId,tokenType:t.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...t.extraQueryParameters,...t.tokenQueryParameters},extendedExpiryToken:!1,keyId:t.popKid};if(h.signPopToken&&t.popKid)throw ne(xA);if(this.handleExtraBrokerParams(h),h.extraParameters=h.extraParameters||{},h.extraParameters.telemetry=On.MATS_TELEMETRY,t.authenticationScheme===Ye.POP){const m={resourceRequestUri:t.resourceRequestUri,resourceRequestMethod:t.resourceRequestMethod,shrClaims:t.shrClaims,shrNonce:t.shrNonce},p=new Dr(this.browserCrypto);let v;if(h.keyId)v=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:h.keyId})),h.signPopToken=!1;else{const C=await H(p.generateCnf.bind(p),E.PopTokenGenerateCnf,this.logger,this.performanceClient,this.correlationId)(m,this.logger);v=C.reqCnfString,h.keyId=C.kid,h.signPopToken=!0}h.reqCnf=v}return this.addRequestSKUs(h),h}async getCanonicalAuthority(t){const i=t.authority||this.config.auth.authority;t.account&&await this.getDiscoveredAuthority({requestAuthority:i,requestAzureCloudOptions:t.azureCloudOptions,account:t.account});const r=new Be(i);return r.validateAsUri(),r}getPrompt(t){switch(this.apiId){case Je.ssoSilent:case Je.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Xt.NONE}if(!t){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(t){case Xt.NONE:case Xt.CONSENT:case Xt.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),t;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${t} is not compatible with native flow`),ne(IA)}}handleExtraBrokerParams(t){const i=t.extraParameters&&t.extraParameters.hasOwnProperty(Dl)&&t.extraParameters.hasOwnProperty(Ul)&&t.extraParameters.hasOwnProperty(ka);if(!t.embeddedClientId&&!i)return;let r="";const s=t.redirectUri;t.embeddedClientId?(t.redirectUri=this.config.auth.redirectUri,r=t.embeddedClientId):t.extraParameters&&(t.redirectUri=t.extraParameters[Ul],r=t.extraParameters[ka]),t.extraParameters={child_client_id:r,child_redirect_uri:s},this.performanceClient?.addFields({embeddedClientId:r,embeddedRedirectUri:s},this.correlationId)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */async function rf(c,t,i,r,s){const u=PE({...c.auth,authority:t},i,r,s);if(_h(u,{sku:tn.MSAL_SKU,version:Ua,os:"",cpu:""}),c.auth.protocolMode!==nn.OIDC&&Ih(u,c.telemetry.application),i.platformBroker&&(Wb(u),s.addFields({isPlatformAuthorizeRequest:!0},i.correlationId),i.authenticationScheme===Ye.POP)){const h=new Ri(r,s),m=new Dr(h);let p;i.popKid?p=h.encodeKid(i.popKid):p=(await H(m.generateCnf.bind(m),E.PopTokenGenerateCnf,r,s,i.correlationId)(i,r)).reqCnfString,xh(u,p)}return Zl(u,i.correlationId,s),u}async function of(c,t,i,r,s){if(!i.codeChallenge)throw nt(gh);const u=await H(rf,E.GetStandardParams,r,s,i.correlationId)(c,t,i,r,s);return Sh(u,nh.CODE),Hv(u,i.codeChallenge,j.S256_CODE_CHALLENGE_METHOD),ra(u,i.extraQueryParameters||{}),Ph(t,u,c.auth.encodeExtraQueryParams,i.extraQueryParameters)}async function sf(c,t,i,r,s,u){if(!r.earJwk)throw ne(Bh);const h=await rf(t,i,r,s,u);Sh(h,nh.IDTOKEN_TOKEN_REFRESHTOKEN),uE(h,r.earJwk);const m=new Map;ra(m,r.extraQueryParameters||{});const p=Ph(i,m,t.auth.encodeExtraQueryParams,r.extraQueryParameters);return WA(c,p,h)}async function lf(c,t,i,r,s,u){const h=await rf(t,i,r,s,u);Sh(h,nh.CODE),Hv(h,r.codeChallenge,r.codeChallengeMethod||j.S256_CODE_CHALLENGE_METHOD),dE(h,r.authorizePostBodyParameters||{});const m=new Map;ra(m,r.extraQueryParameters||{});const p=Ph(i,m,t.auth.encodeExtraQueryParams,r.extraQueryParameters);return WA(c,p,h)}function WA(c,t,i){const r=c.createElement("form");return r.method="post",r.action=t,i.forEach((s,u)=>{const h=c.createElement("input");h.hidden=!0,h.name=u,h.value=s,r.appendChild(h)}),c.body.appendChild(r),r}async function eC(c,t,i,r,s,u,h,m,p,v){if(m.verbose("Account id found, calling WAM for token"),!v)throw ne(qh);const C=new Ri(m,p),w=new wl(r,s,C,m,h,r.system.navigationClient,i,p,v,t,u,c.correlationId),{userRequestState:R}=Lr.parseRequestState(C,c.state);return H(w.acquireToken.bind(w),E.NativeInteractionClientAcquireToken,m,p,c.correlationId)({...c,state:R,prompt:void 0})}async function ql(c,t,i,r,s,u,h,m,p,v,C,w){if(ri.removeThrottle(h,s.auth.clientId,c),t.accountId)return H(eC,E.HandleResponsePlatformBroker,v,C,c.correlationId)(c,t.accountId,r,s,h,m,p,v,C,w);const R={...c,code:t.code||"",codeVerifier:i},B=new XA(u,h,R,v,C);return await H(B.handleCodeResponse.bind(B),E.HandleCodeResponse,v,C,c.correlationId)(t,c)}async function cf(c,t,i,r,s,u,h,m,p,v,C){if(ri.removeThrottle(u,r.auth.clientId,c),eA(t,c.state),!t.ear_jwe)throw ne(aA);if(!c.earJwk)throw ne(Bh);const w=JSON.parse(await H(u0,E.DecryptEarResponse,p,v,c.correlationId)(c.earJwk,t.ear_jwe));if(w.accountId)return H(eC,E.HandleResponsePlatformBroker,p,v,c.correlationId)(c,w.accountId,i,r,u,h,m,p,v,C);const R=new Da(r.auth.clientId,u,new Ri(p,v),p,null,null,v);R.validateTokenResponse(w);const B={code:"",state:c.state,nonce:c.nonce,client_info:w.client_info,cloud_graph_host_name:w.cloud_graph_host_name,cloud_instance_host_name:w.cloud_instance_host_name,cloud_instance_name:w.cloud_instance_name,msgraph_host:w.msgraph_host};return await H(R.handleServerTokenResponse.bind(R),E.HandleServerTokenResponse,p,v,c.correlationId)(w,s,an(),c,B,void 0,void 0,void 0,void 0)}/*! @azure/msal-browser v4.24.0 2025-09-24 */const nw=32;async function dc(c,t,i){c.addQueueMeasurement(E.GeneratePkceCodes,i);const r=vn(iw,E.GenerateCodeVerifier,t,c,i)(c,t,i),s=await H(aw,E.GenerateCodeChallengeFromVerifier,t,c,i)(r,c,t,i);return{verifier:r,challenge:s}}function iw(c,t,i){try{const r=new Uint8Array(nw);return vn(r0,E.GetRandomValues,t,c,i)(r),ua(r)}catch{throw ne(jh)}}async function aw(c,t,i,r){t.addQueueMeasurement(E.GenerateCodeChallengeFromVerifier,r);try{const s=await H(HA,E.Sha256Digest,i,t,r)(c,t,r);return ua(new Uint8Array(s))}catch{throw ne(jh)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class Fl{constructor(t,i,r,s){this.logger=t,this.handshakeTimeoutMs=i,this.extensionId=s,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(E.NativeMessageHandlerHandshake),this.platformAuthType=On.PLATFORM_EXTENSION_PROVIDER}async sendMessage(t){this.logger.trace(this.platformAuthType+" - sendMessage called.");const i={method:jo.GetToken,request:t},r={channel:On.CHANNEL_ID,extensionId:this.extensionId,responseId:Fn(),body:i};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(r)}`),this.messageChannel.port1.postMessage(r);const s=await new Promise((h,m)=>{this.resolvers.set(r.responseId,{resolve:h,reject:m})});return this.validatePlatformBrokerResponse(s)}static async createProvider(t,i,r){t.trace("PlatformAuthExtensionHandler - createProvider called.");try{const s=new Fl(t,i,r,On.PREFERRED_EXTENSION_ID);return await s.sendHandshakeRequest(),s}catch{const u=new Fl(t,i,r);return await u.sendHandshakeRequest(),u}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const t={channel:On.CHANNEL_ID,extensionId:this.extensionId,responseId:Fn(),body:{method:jo.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=i=>{this.onChannelMessage(i)},window.postMessage(t,window.origin,[this.messageChannel.port2]),new Promise((i,r)=>{this.handshakeResolvers.set(t.responseId,{resolve:i,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(ne(RA)),this.handshakeResolvers.delete(t.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(t){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),t.source!==window)return;const i=t.data;if(!(!i.channel||i.channel!==On.CHANNEL_ID)&&!(i.extensionId&&i.extensionId!==this.extensionId)&&i.body.method===jo.HandshakeRequest){const r=this.handshakeResolvers.get(i.responseId);if(!r){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${i.responseId}`);return}this.logger.verbose(i.extensionId?`Extension with id: ${i.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(ne(_A))}}onChannelMessage(t){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const i=t.data,r=this.resolvers.get(i.responseId),s=this.handshakeResolvers.get(i.responseId);try{const u=i.body.method;if(u===jo.Response){if(!r)return;const h=i.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(h)}`),h.status!=="Success")r.reject(Gl(h.code,h.description,h.ext));else if(h.result)h.result.code&&h.result.description?r.reject(Gl(h.result.code,h.result.description,h.result.ext)):r.resolve(h.result);else throw Pd(Il,"Event does not contain result.");this.resolvers.delete(i.responseId)}else if(u===jo.HandshakeResponse){if(!s){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${i.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=i.extensionId,this.extensionVersion=i.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),s.resolve(),this.handshakeResolvers.delete(i.responseId)}}catch(u){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${u}`),this.logger.errorPii(`Unable to parse ${t}`),r?r.reject(u):s&&s.reject(u)}}validatePlatformBrokerResponse(t){if(t.hasOwnProperty("access_token")&&t.hasOwnProperty("id_token")&&t.hasOwnProperty("client_info")&&t.hasOwnProperty("account")&&t.hasOwnProperty("scope")&&t.hasOwnProperty("expires_in"))return t;throw Pd(Il,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){return this.getExtensionId()===On.PREFERRED_EXTENSION_ID?"chrome":this.getExtensionId()?.length?"unknown":void 0}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class uf{constructor(t,i,r){this.logger=t,this.performanceClient=i,this.correlationId=r,this.platformAuthType=On.PLATFORM_DOM_PROVIDER}static async createProvider(t,i,r){if(t.trace("PlatformAuthDOMHandler: createProvider called"),window.navigator?.platformAuthentication&&(await window.navigator.platformAuthentication.getSupportedContracts(On.MICROSOFT_ENTRA_BROKERID))?.includes(On.PLATFORM_DOM_APIS))return t.trace("Platform auth api available in DOM"),new uf(t,i,r)}getExtensionId(){return On.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return On.DOM_API_NAME}async sendMessage(t){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const i=this.initializePlatformDOMRequest(t),r=await window.navigator.platformAuthentication.executeGetToken(i);return this.validatePlatformBrokerResponse(r)}catch(i){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),i}}initializePlatformDOMRequest(t){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:i,clientId:r,authority:s,scope:u,redirectUri:h,correlationId:m,state:p,storeInCache:v,embeddedClientId:C,extraParameters:w,...R}=t,B=this.getDOMExtraParams(R);return{accountId:i,brokerId:this.getExtensionId(),authority:s,clientId:r,correlationId:m||this.correlationId,extraParameters:{...w,...B},isSecurityTokenService:!1,redirectUri:h,scope:u,state:p,storeInCache:v,embeddedClientId:C}}validatePlatformBrokerResponse(t){if(t.hasOwnProperty("isSuccess")){if(t.hasOwnProperty("accessToken")&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("clientInfo")&&t.hasOwnProperty("account")&&t.hasOwnProperty("scopes")&&t.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(t);if(t.hasOwnProperty("error")){const i=t;if(i.isSuccess===!1&&i.error&&i.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),Gl(i.error.code,i.error.description,{error:parseInt(i.error.errorCode),protocol_error:i.error.protocolError,status:i.error.status,properties:i.error.properties})}}throw Pd(Il,"Response missing expected properties.")}convertToPlatformBrokerResponse(t){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:t.accessToken,id_token:t.idToken,client_info:t.clientInfo,account:t.account,expires_in:t.expiresIn,scope:t.scopes,state:t.state||"",properties:t.properties||{},extendedLifetimeToken:t.extendedLifetimeToken??!1,shr:t.proofOfPossessionPayload}}getDOMExtraParams(t){return{...Object.entries(t).reduce((s,[u,h])=>(s[u]=String(h),s),{})}}}/*! @azure/msal-browser v4.24.0 2025-09-24 */async function rw(c,t,i,r){c.trace("getPlatformAuthProvider called",i);const s=ow();c.trace("Has client allowed platform auth via DOM API: "+s);let u;try{s&&(u=await uf.createProvider(c,t,i)),u||(c.trace("Platform auth via DOM API not available, checking for extension"),u=await Fl.createProvider(c,r||QA,t))}catch(h){c.trace("Platform auth not available",h)}return u}function ow(){let c;try{return c=window[wt.SessionStorage],c?.getItem(R0)==="true"}catch{return!1}}function ts(c,t,i,r){if(t.trace("isPlatformAuthAllowed called"),!c.system.allowPlatformBroker)return t.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!i)return t.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(r)switch(r){case Ye.BEARER:case Ye.POP:return t.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return t.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}/*! @azure/msal-browser v4.24.0 2025-09-24 */class sw extends Br{constructor(t,i,r,s,u,h,m,p,v,C){super(t,i,r,s,u,h,m,v,C),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=p,this.eventHandler=u}acquireToken(t,i){let r;try{if(r={popupName:this.generatePopupName(t.scopes||Pr,t.authority||this.config.auth.authority),popupWindowAttributes:t.popupWindowAttributes||{},popupWindowParent:t.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(t,r,i);{const u={...t,httpMethod:VA(t,this.config.auth.protocolMode)};return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(u,r,i)}}catch(s){return Promise.reject(s)}}logout(t){try{this.logger.verbose("logoutPopup called");const i=this.initializeLogoutRequest(t),r={popupName:this.generateLogoutPopupName(i),popupWindowAttributes:t?.popupWindowAttributes||{},popupWindowParent:t?.popupWindowParent??window},s=t&&t.authority,u=t&&t.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(i,r,s,u)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(i,r,s,u))}catch(i){return Promise.reject(i)}}async acquireTokenPopupAsync(t,i,r){this.logger.verbose("acquireTokenPopupAsync called");const s=await H(this.initializeAuthorizationRequest.bind(this),E.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(t,Ae.Popup);i.popup&&FA(s.authority);const u=ts(this.config,this.logger,this.platformAuthProvider,t.authenticationScheme);return s.platformBroker=u,this.config.auth.protocolMode===nn.EAR?this.executeEarFlow(s,i):this.executeCodeFlow(s,i,r)}async executeCodeFlow(t,i,r){const s=t.correlationId,u=this.initializeServerTelemetryManager(Je.acquireTokenPopup),h=r||await H(dc,E.GeneratePkceCodes,this.logger,this.performanceClient,s)(this.performanceClient,this.logger,s),m={...t,codeChallenge:h.challenge};try{const p=await H(this.createAuthCodeClient.bind(this),E.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,s)({serverTelemetryManager:u,requestAuthority:m.authority,requestAzureCloudOptions:m.azureCloudOptions,requestExtraQueryParameters:m.extraQueryParameters,account:m.account});if(m.httpMethod===Ma.POST)return await this.executeCodeFlowWithPost(m,i,p,h.verifier);{const v=await H(of,E.GetAuthCodeUrl,this.logger,this.performanceClient,s)(this.config,p.authority,m,this.logger,this.performanceClient),C=this.initiateAuthRequest(v,i);this.eventHandler.emitEvent(me.POPUP_OPENED,Ae.Popup,{popupWindow:C},null);const w=await this.monitorPopupForHash(C,i.popupWindowParent),R=vn(Yo,E.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(w,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await H(ql,E.HandleResponseCode,this.logger,this.performanceClient,s)(t,R,h.verifier,Je.acquireTokenPopup,this.config,p,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(p){throw i.popup?.close(),p instanceof Ze&&(p.setCorrelationId(this.correlationId),u.cacheFailedRequest(p)),p}}async executeEarFlow(t,i){const r=t.correlationId,s=await H(this.getDiscoveredAuthority.bind(this),E.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,r)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),u=await H(Vh,E.GenerateEarKey,this.logger,this.performanceClient,r)(),h={...t,earJwk:u},m=i.popup||this.openPopup("about:blank",i);(await sf(m.document,this.config,s,h,this.logger,this.performanceClient)).submit();const v=await H(this.monitorPopupForHash.bind(this),E.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(m,i.popupWindowParent),C=vn(Yo,E.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(v,this.config.auth.OIDCOptions.serverResponseType,this.logger);return H(cf,E.HandleResponseEar,this.logger,this.performanceClient,r)(h,C,Je.acquireTokenPopup,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(t,i,r,s){const u=t.correlationId,h=await H(this.getDiscoveredAuthority.bind(this),E.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,u)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),m=i.popup||this.openPopup("about:blank",i);(await lf(m.document,this.config,h,t,this.logger,this.performanceClient)).submit();const v=await H(this.monitorPopupForHash.bind(this),E.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,u)(m,i.popupWindowParent),C=vn(Yo,E.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(v,this.config.auth.OIDCOptions.serverResponseType,this.logger);return H(ql,E.HandleResponseCode,this.logger,this.performanceClient,u)(t,C,s,Je.acquireTokenPopup,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(t,i,r,s){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(me.LOGOUT_START,Ae.Popup,t);const u=this.initializeServerTelemetryManager(Je.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,t.account);const h=await H(this.createAuthCodeClient.bind(this),E.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:u,requestAuthority:r,account:t.account||void 0});try{h.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId&&t.postLogoutRedirectUri&&h.authority.protocolMode===nn.OIDC){if(this.eventHandler.emitEvent(me.LOGOUT_SUCCESS,Ae.Popup,t),s){const v={apiId:Je.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},C=Be.getAbsoluteUrl(s,wi());await this.navigationClient.navigateInternal(C,v)}i.popup?.close();return}}const m=h.getLogoutUri(t);this.eventHandler.emitEvent(me.LOGOUT_SUCCESS,Ae.Popup,t);const p=this.openPopup(m,i);if(this.eventHandler.emitEvent(me.POPUP_OPENED,Ae.Popup,{popupWindow:p},null),await this.monitorPopupForHash(p,i.popupWindowParent).catch(()=>{}),s){const v={apiId:Je.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},C=Be.getAbsoluteUrl(s,wi());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${C}`),await this.navigationClient.navigateInternal(C,v)}else this.logger.verbose("No main window navigation requested")}catch(h){throw i.popup?.close(),h instanceof Ze&&(h.setCorrelationId(this.correlationId),u.cacheFailedRequest(h)),this.eventHandler.emitEvent(me.LOGOUT_FAILURE,Ae.Popup,null,h),this.eventHandler.emitEvent(me.LOGOUT_END,Ae.Popup),h}this.eventHandler.emitEvent(me.LOGOUT_END,Ae.Popup)}initiateAuthRequest(t,i){if(t)return this.logger.infoPii(`Navigate to: ${t}`),this.openPopup(t,i);throw this.logger.error("Navigate url is empty"),ne(oc)}monitorPopupForHash(t,i){return new Promise((r,s)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const u=setInterval(()=>{if(t.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(u),s(ne(Wo));return}let h="";try{h=t.location.href}catch{}if(!h||h==="about:blank")return;clearInterval(u);let m="";const p=this.config.auth.OIDCOptions.serverResponseType;t&&(p===Xl.QUERY?m=t.location.search:m=t.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(m)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(t,i)})}openPopup(t,i){try{let r;if(i.popup?(r=i.popup,this.logger.verbosePii(`Navigating popup window to: ${t}`),r.location.assign(t)):typeof i.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${t}`),r=this.openSizedPopup(t,i)),!r)throw ne(dA);return r.focus&&r.focus(),this.currentWindow=r,i.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),ne(uA)}}openSizedPopup(t,{popupName:i,popupWindowAttributes:r,popupWindowParent:s}){const u=s.screenLeft?s.screenLeft:s.screenX,h=s.screenTop?s.screenTop:s.screenY,m=s.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,p=s.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let v=r.popupSize?.width,C=r.popupSize?.height,w=r.popupPosition?.top,R=r.popupPosition?.left;return(!v||v<0||v>m)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),v=tn.POPUP_WIDTH),(!C||C<0||C>p)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),C=tn.POPUP_HEIGHT),(!w||w<0||w>p)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),w=Math.max(0,p/2-tn.POPUP_HEIGHT/2+h)),(!R||R<0||R>m)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),R=Math.max(0,m/2-tn.POPUP_WIDTH/2+u)),s.open(t,i,`width=${v}, height=${C}, top=${w}, left=${R}, scrollbars=yes`)}unloadWindow(t){this.currentWindow&&this.currentWindow.close(),t.preventDefault()}cleanPopup(t,i){t.close(),i.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(t,i){return`${tn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t.join("-")}.${i}.${this.correlationId}`}generateLogoutPopupName(t){const i=t.account&&t.account.homeAccountId;return`${tn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${i}.${this.correlationId}`}}/*! @azure/msal-browser v4.24.0 2025-09-24 */function lw(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const c=window.performance.getEntriesByType("navigation");return(c.length?c[0]:void 0)?.type}class cw extends Br{constructor(t,i,r,s,u,h,m,p,v,C){super(t,i,r,s,u,h,m,v,C),this.nativeStorage=p}async acquireToken(t){const i=await H(this.initializeAuthorizationRequest.bind(this),E.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(t,Ae.Redirect);i.platformBroker=ts(this.config,this.logger,this.platformAuthProvider,t.authenticationScheme);const r=u=>{u.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(me.RESTORE_FROM_BFCACHE,Ae.Redirect))},s=this.getRedirectStartPage(t.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${s}`),this.browserStorage.setTemporaryCache(At.ORIGIN_URI,s,!0),window.addEventListener("pageshow",r);try{this.config.auth.protocolMode===nn.EAR?await this.executeEarFlow(i):await this.executeCodeFlow(i,t.onRedirectNavigate)}catch(u){throw u instanceof Ze&&u.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",r),u}}async executeCodeFlow(t,i){const r=t.correlationId,s=this.initializeServerTelemetryManager(Je.acquireTokenRedirect),u=await H(dc,E.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),h={...t,codeChallenge:u.challenge};this.browserStorage.cacheAuthorizeRequest(h,u.verifier);try{if(h.httpMethod===Ma.POST)return await this.executeCodeFlowWithPost(h);{const m=await H(this.createAuthCodeClient.bind(this),E.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:h.authority,requestAzureCloudOptions:h.azureCloudOptions,requestExtraQueryParameters:h.extraQueryParameters,account:h.account}),p=await H(of,E.GetAuthCodeUrl,this.logger,this.performanceClient,t.correlationId)(this.config,m.authority,h,this.logger,this.performanceClient);return await this.initiateAuthRequest(p,i)}}catch(m){throw m instanceof Ze&&(m.setCorrelationId(this.correlationId),s.cacheFailedRequest(m)),m}}async executeEarFlow(t){const i=t.correlationId,r=await H(this.getDiscoveredAuthority.bind(this),E.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,i)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),s=await H(Vh,E.GenerateEarKey,this.logger,this.performanceClient,i)(),u={...t,earJwk:s};return this.browserStorage.cacheAuthorizeRequest(u),(await sf(document,this.config,r,u,this.logger,this.performanceClient)).submit(),new Promise((m,p)=>{setTimeout(()=>{p(ne(zl,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(t){const i=t.correlationId,r=await H(this.getDiscoveredAuthority.bind(this),E.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,i)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return this.browserStorage.cacheAuthorizeRequest(t),(await lf(document,this.config,r,t,this.logger,this.performanceClient)).submit(),new Promise((u,h)=>{setTimeout(()=>{h(ne(zl,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(t="",i,r,s){const u=this.initializeServerTelemetryManager(Je.handleRedirectPromise);try{const[h,m]=this.getRedirectResponse(t||"");if(!h)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),lw()!=="back_forward"?s.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const p=this.browserStorage.getTemporaryCache(At.ORIGIN_URI,!0)||j.EMPTY_STRING,v=uy(p),C=uy(window.location.href);if(v===C&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),p.indexOf("#")>-1&&h0(p),await this.handleResponse(h,i,r,u);if(this.config.auth.navigateToLoginRequestUrl){if(!Wh()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(At.URL_HASH,m,!0);const w={apiId:Je.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let R=!0;if(!p||p==="null"){const B=g0();this.browserStorage.setTemporaryCache(At.ORIGIN_URI,B,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),R=await this.navigationClient.navigateInternal(B,w)}else this.logger.verbose(`Navigating to loginRequestUrl: ${p}`),R=await this.navigationClient.navigateInternal(p,w);if(!R)return await this.handleResponse(h,i,r,u)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(h,i,r,u);return null}catch(h){throw h instanceof Ze&&(h.setCorrelationId(this.correlationId),u.cacheFailedRequest(h)),h}}getRedirectResponse(t){this.logger.verbose("getRedirectResponseHash called");let i=t;i||(this.config.auth.OIDCOptions.serverResponseType===Xl.QUERY?i=window.location.search:i=window.location.hash);let r=xl(i);if(r){try{Q0(r,this.browserCrypto,Ae.Redirect)}catch(u){return u instanceof Ze&&this.logger.error(`Interaction type validation failed due to ${u.errorCode}: ${u.errorMessage}`),[null,""]}return KA(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,i]}const s=this.browserStorage.getTemporaryCache(At.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(At.URL_HASH)),s&&(r=xl(s),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,s]):[null,""]}async handleResponse(t,i,r,s){if(!t.state)throw ne(zh);if(t.ear_jwe){const m=await H(this.getDiscoveredAuthority.bind(this),E.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,i.correlationId)({requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account});return H(cf,E.HandleResponseEar,this.logger,this.performanceClient,i.correlationId)(i,t,Je.acquireTokenRedirect,this.config,m,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const h=await H(this.createAuthCodeClient.bind(this),E.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:i.authority});return H(ql,E.HandleResponseCode,this.logger,this.performanceClient,i.correlationId)(i,t,r,Je.acquireTokenRedirect,this.config,h,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(t,i){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),t){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${t}`);const r={apiId:Je.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=i||this.config.auth.onRedirectNavigate;if(typeof s=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),s(t)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(t,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(t,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),ne(oc)}async logout(t){this.logger.verbose("logoutRedirect called");const i=this.initializeLogoutRequest(t),r=this.initializeServerTelemetryManager(Je.logout);try{this.eventHandler.emitEvent(me.LOGOUT_START,Ae.Redirect,t),await this.clearCacheOnLogout(this.correlationId,i.account);const s={apiId:Je.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},u=await H(this.createAuthCodeClient.bind(this),E.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:t&&t.authority,requestExtraQueryParameters:t?.extraQueryParameters,account:t&&t.account||void 0});if(u.authority.protocolMode===nn.OIDC)try{u.authority.endSessionEndpoint}catch{if(i.account?.homeAccountId){this.eventHandler.emitEvent(me.LOGOUT_SUCCESS,Ae.Redirect,i);return}}const h=u.getLogoutUri(i);if(this.eventHandler.emitEvent(me.LOGOUT_SUCCESS,Ae.Redirect,i),t&&typeof t.onRedirectNavigate=="function")if(t.onRedirectNavigate(h)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,ta.SIGNOUT),await this.navigationClient.navigateExternal(h,s);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,ta.SIGNOUT),await this.navigationClient.navigateExternal(h,s);return}}catch(s){throw s instanceof Ze&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),this.eventHandler.emitEvent(me.LOGOUT_FAILURE,Ae.Redirect,null,s),this.eventHandler.emitEvent(me.LOGOUT_END,Ae.Redirect),s}this.eventHandler.emitEvent(me.LOGOUT_END,Ae.Redirect)}getRedirectStartPage(t){const i=t||window.location.href;return Be.getAbsoluteUrl(i,wi())}}/*! @azure/msal-browser v4.24.0 2025-09-24 */async function uw(c,t,i,r,s){if(t.addQueueMeasurement(E.SilentHandlerInitiateAuthRequest,r),!c)throw i.info("Navigate url is empty"),ne(oc);return s?H(fw,E.SilentHandlerLoadFrame,i,t,r)(c,s,t,r):vn(gw,E.SilentHandlerLoadFrameSync,i,t,r)(c)}async function dw(c,t,i,r,s){const u=hc();if(!u.contentDocument)throw"No document associated with iframe!";return(await lf(u.contentDocument,c,t,i,r,s)).submit(),u}async function hw(c,t,i,r,s){const u=hc();if(!u.contentDocument)throw"No document associated with iframe!";return(await sf(u.contentDocument,c,t,i,r,s)).submit(),u}async function By(c,t,i,r,s,u,h){return r.addQueueMeasurement(E.SilentHandlerMonitorIframeForHash,u),new Promise((m,p)=>{t<Yd&&s.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (${Yd}ms). This may result in timeouts.`);const v=window.setTimeout(()=>{window.clearInterval(C),p(ne(hA))},t),C=window.setInterval(()=>{let w="";const R=c.contentWindow;try{w=R?R.location.href:""}catch{}if(!w||w==="about:blank")return;let B="";R&&(h===Xl.QUERY?B=R.location.search:B=R.location.hash),window.clearTimeout(v),window.clearInterval(C),m(B)},i)}).finally(()=>{vn(mw,E.RemoveHiddenIframe,s,r,u)(c)})}function fw(c,t,i,r){return i.addQueueMeasurement(E.SilentHandlerLoadFrame,r),new Promise((s,u)=>{const h=hc();window.setTimeout(()=>{if(!h){u("Unable to load iframe");return}h.src=c,s(h)},t)})}function gw(c){const t=hc();return t.src=c,t}function hc(){const c=document.createElement("iframe");return c.className="msalSilentIframe",c.style.visibility="hidden",c.style.position="absolute",c.style.width=c.style.height="0",c.style.border="0",c.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(c),c}function mw(c){document.body===c.parentNode&&document.body.removeChild(c)}/*! @azure/msal-browser v4.24.0 2025-09-24 */class pw extends Br{constructor(t,i,r,s,u,h,m,p,v,C,w){super(t,i,r,s,u,h,p,C,w),this.apiId=m,this.nativeStorage=v}async acquireToken(t){this.performanceClient.addQueueMeasurement(E.SilentIframeClientAcquireToken,t.correlationId),!t.loginHint&&!t.sid&&(!t.account||!t.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const i={...t};i.prompt?i.prompt!==Xt.NONE&&i.prompt!==Xt.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${i.prompt} with ${Xt.NONE}`),i.prompt=Xt.NONE):i.prompt=Xt.NONE;const r=await H(this.initializeAuthorizationRequest.bind(this),E.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,t.correlationId)(i,Ae.Silent);return r.platformBroker=ts(this.config,this.logger,this.platformAuthProvider,r.authenticationScheme),FA(r.authority),this.config.auth.protocolMode===nn.EAR?this.executeEarFlow(r):this.executeCodeFlow(r)}async executeCodeFlow(t){let i;const r=this.initializeServerTelemetryManager(this.apiId);try{return i=await H(this.createAuthCodeClient.bind(this),E.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,t.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),await H(this.silentTokenHelper.bind(this),E.SilentIframeClientTokenHelper,this.logger,this.performanceClient,t.correlationId)(i,t)}catch(s){if(s instanceof Ze&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),!i||!(s instanceof Ze)||s.errorCode!==tn.INVALID_GRANT_ERROR)throw s;return this.performanceClient.addFields({retryError:s.errorCode},this.correlationId),await H(this.silentTokenHelper.bind(this),E.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(i,t)}}async executeEarFlow(t){const i=t.correlationId,r=await H(this.getDiscoveredAuthority.bind(this),E.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,i)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),s=await H(Vh,E.GenerateEarKey,this.logger,this.performanceClient,i)(),u={...t,earJwk:s},h=await H(hw,E.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,i)(this.config,r,u,this.logger,this.performanceClient),m=this.config.auth.OIDCOptions.serverResponseType,p=await H(By,E.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,i)(h,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,i,m),v=vn(Yo,E.DeserializeResponse,this.logger,this.performanceClient,i)(p,m,this.logger);return H(cf,E.HandleResponseEar,this.logger,this.performanceClient,i)(u,v,this.apiId,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(ne(sc))}async silentTokenHelper(t,i){const r=i.correlationId;this.performanceClient.addQueueMeasurement(E.SilentIframeClientTokenHelper,r);const s=await H(dc,E.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),u={...i,codeChallenge:s.challenge};let h;if(i.httpMethod===Ma.POST)h=await H(dw,E.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(this.config,t.authority,u,this.logger,this.performanceClient);else{const C=await H(of,E.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,t.authority,u,this.logger,this.performanceClient);h=await H(uw,E.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(C,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait)}const m=this.config.auth.OIDCOptions.serverResponseType,p=await H(By,E.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(h,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,m),v=vn(Yo,E.DeserializeResponse,this.logger,this.performanceClient,r)(p,m,this.logger);return H(ql,E.HandleResponseCode,this.logger,this.performanceClient,r)(i,v,s.verifier,this.apiId,this.config,t,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class yw extends Br{async acquireToken(t){this.performanceClient.addQueueMeasurement(E.SilentRefreshClientAcquireToken,t.correlationId);const i=await H(af,E.InitializeBaseRequest,this.logger,this.performanceClient,t.correlationId)(t,this.config,this.performanceClient,this.logger),r={...t,...i};t.redirectUri&&(r.redirectUri=this.getRedirectUri(t.redirectUri));const s=this.initializeServerTelemetryManager(Je.acquireTokenSilent_silentFlow),u=await this.createRefreshTokenClient({serverTelemetryManager:s,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return H(u.acquireTokenByRefreshToken.bind(u),E.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,t.correlationId)(r).catch(h=>{throw h.setCorrelationId(this.correlationId),s.cacheFailedRequest(h),h})}logout(){return Promise.reject(ne(sc))}async createRefreshTokenClient(t){const i=await H(this.getClientConfiguration.bind(this),E.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t.serverTelemetryManager,requestAuthority:t.authorityUrl,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return new kE(i,this.performanceClient)}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class vw{constructor(t,i,r,s){this.isBrowserEnvironment=typeof window<"u",this.config=t,this.storage=i,this.logger=r,this.cryptoObj=s}async loadExternalTokens(t,i,r){if(!this.isBrowserEnvironment)throw ne(lc);const s=t.correlationId||Fn(),u=i.id_token?Hr(i.id_token,Kn):void 0,h={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},m=t.authority?new Kt(Kt.generateAuthority(t.authority,t.azureCloudOptions),this.config.system.networkClient,this.storage,h,this.logger,t.correlationId||Fn()):void 0,p=await this.loadAccount(t,r.clientInfo||i.client_info||"",s,u,m),v=await this.loadIdToken(i,p.homeAccountId,p.environment,p.realm,s),C=await this.loadAccessToken(t,i,p.homeAccountId,p.environment,p.realm,r,s),w=await this.loadRefreshToken(i,p.homeAccountId,p.environment,s);return this.generateAuthenticationResult(t,{account:p,idToken:v,accessToken:C,refreshToken:w},u,m)}async loadAccount(t,i,r,s,u){if(this.logger.verbose("TokenCache - loading account"),t.account){const v=Gn.createFromAccountInfo(t.account);return await this.storage.setAccount(v,r),v}else if(!u||!i&&!s)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),ne(SA);const h=Gn.generateHomeAccountId(i,u.authorityType,this.logger,this.cryptoObj,s),m=s?.tid,p=Uh(this.storage,u,h,Kn,r,s,i,u.hostnameAndPort,m,void 0,void 0,this.logger);return await this.storage.setAccount(p,r),p}async loadIdToken(t,i,r,s,u){if(!t.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const h=tc(i,r,t.id_token,this.config.auth.clientId,s);return await this.storage.setIdTokenCredential(h,u),h}async loadAccessToken(t,i,r,s,u,h,m){if(i.access_token)if(i.expires_in){if(!i.scope&&(!t.scopes||!t.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const p=i.scope?Et.fromString(i.scope):new Et(t.scopes),v=h.expiresOn||i.expires_in+an(),C=h.extendedExpiresOn||(i.ext_expires_in||i.expires_in)+an(),w=nc(r,s,i.access_token,this.config.auth.clientId,u,p.printScopes(),v,C,Kn);return await this.storage.setAccessTokenCredential(w,m),w}async loadRefreshToken(t,i,r,s){if(!t.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const u=Qv(i,r,t.refresh_token,this.config.auth.clientId,t.foci,void 0,t.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(u,s),u}generateAuthenticationResult(t,i,r,s){let u="",h=[],m=null,p;i?.accessToken&&(u=i.accessToken.secret,h=Et.fromString(i.accessToken.target).asArray(),m=Or(i.accessToken.expiresOn),p=Or(i.accessToken.extendedExpiresOn));const v=i.account;return{authority:s?s.canonicalAuthority:"",uniqueId:i.account.localAccountId,tenantId:i.account.realm,scopes:h,account:v.getAccountInfo(),idToken:i.idToken?.secret||"",idTokenClaims:r||{},accessToken:u,fromCache:!0,expiresOn:m,correlationId:t.correlationId||"",requestId:"",extExpiresOn:p,familyId:i.refreshToken?.familyId||"",tokenType:i?.accessToken?.tokenType||"",state:t.state||"",cloudGraphHostName:v.cloudGraphHostName||"",msGraphHost:v.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class Aw extends Wv{constructor(t){super(t),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.24.0 2025-09-24 */class Cw extends Br{constructor(t,i,r,s,u,h,m,p,v,C){super(t,i,r,s,u,h,p,v,C),this.apiId=m}async acquireToken(t){if(!t.code)throw ne(TA);const i=await H(this.initializeAuthorizationRequest.bind(this),E.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,t.correlationId)(t,Ae.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const s={...i,code:t.code},u=await H(this.getClientConfiguration.bind(this),E.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,t.correlationId)({serverTelemetryManager:r,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),h=new Aw(u);this.logger.verbose("Auth code client created");const m=new XA(h,this.browserStorage,s,this.logger,this.performanceClient);return await H(m.handleCodeResponseFromServer.bind(m),E.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)({code:t.code,msgraph_host:t.msGraphHost,cloud_graph_host_name:t.cloudGraphHostName,cloud_instance_host_name:t.cloudInstanceHostName},i,!1)}catch(s){throw s instanceof Ze&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),s}}logout(){return Promise.reject(ne(sc))}}/*! @azure/msal-browser v4.24.0 2025-09-24 */function Sw(c,t,i){const r=window.msal?.clientIds||[],s=r.length,u=r.filter(h=>h===c).length;u>1&&i.warning("There is already an instance of MSAL.js in the window with the same client id."),t.add({msalInstanceCount:s,sameClientIdInstanceCount:u})}/*! @azure/msal-browser v4.24.0 2025-09-24 */function Tl(c,t,i){try{ef(c)}catch(r){throw t.end({success:!1},r,i),r}}class fc{constructor(t){this.operatingContext=t,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=t.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Ri(this.logger,this.performanceClient):Nl,this.eventHandler=new G0(this.logger),this.browserStorage=this.isBrowserEnvironment?new Jd(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,EE(this.config.auth)):D0(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const i={cacheLocation:wt.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:wt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Jd(this.config.auth.clientId,i,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new vw(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(t,i){const r=new fc(t);return await r.initialize(i),r}trackPageVisibility(t){t&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},t))}async initialize(t,i){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(me.INITIALIZE_END);return}const r=t?.correlationId||this.getRequestCorrelationId(),s=this.config.system.allowPlatformBroker,u=this.performanceClient.startMeasurement(E.InitializeClientApplication,r);if(this.eventHandler.emitEvent(me.INITIALIZE_START),!i)try{this.logMultipleInstances(u)}catch{}if(await H(this.browserStorage.initialize.bind(this.browserStorage),E.InitializeCache,this.logger,this.performanceClient,r)(r),s)try{this.platformAuthProvider=await rw(this.logger,this.performanceClient,r,this.config.system.nativeBrokerHandshakeTimeout)}catch(h){this.logger.verbose(h)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),vn(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),E.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,r)(r)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(r),this.initialized=!0,this.eventHandler.emitEvent(me.INITIALIZE_END),u.end({allowPlatformBroker:s,success:!0})}async handleRedirectPromise(t){if(this.logger.verbose("handleRedirectPromise called"),qA(this.initialized),this.isBrowserEnvironment){const i=t||"";let r=this.redirectResponse.get(i);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(t),this.redirectResponse.set(i,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(t){if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(this.browserStorage.getInteractionInProgress()?.type===ta.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const r=this.getAllAccounts(),s=this.browserStorage.getCachedNativeRequest(),u=s&&this.platformAuthProvider&&!t;let h;this.eventHandler.emitEvent(me.HANDLE_REDIRECT_START,Ae.Redirect);let m;try{if(u&&this.platformAuthProvider){h=this.performanceClient.startMeasurement(E.AcquireTokenRedirect,s?.correlationId||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform"),h.add({isPlatformBrokerRequest:!0});const p=new wl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Je.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,s.accountId,this.nativeInternalStorage,s.correlationId);m=H(p.handleRedirectPromise.bind(p),E.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,h.event.correlationId)(this.performanceClient,h.event.correlationId)}else{const[p,v]=this.browserStorage.getCachedRequest(),C=p.correlationId;h=this.performanceClient.startMeasurement(E.AcquireTokenRedirect,C),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const w=this.createRedirectClient(C);m=H(w.handleRedirectPromise.bind(w),E.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,h.event.correlationId)(t,p,v,h)}}catch(p){throw this.browserStorage.resetRequestCache(),p}return m.then(p=>(p?(this.browserStorage.resetRequestCache(),r.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(me.LOGIN_SUCCESS,Ae.Redirect,p),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_SUCCESS,Ae.Redirect,p),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),h.end({success:!0},void 0,p.account)):h.event.errorCode?h.end({success:!1},void 0):h.discard(),this.eventHandler.emitEvent(me.HANDLE_REDIRECT_END,Ae.Redirect),p)).catch(p=>{this.browserStorage.resetRequestCache();const v=p;throw r.length>0?this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_FAILURE,Ae.Redirect,null,v):this.eventHandler.emitEvent(me.LOGIN_FAILURE,Ae.Redirect,null,v),this.eventHandler.emitEvent(me.HANDLE_REDIRECT_END,Ae.Redirect),h.end({success:!1},v),p})}async acquireTokenRedirect(t){const i=this.getRequestCorrelationId(t);this.logger.verbose("acquireTokenRedirect called",i);const r=this.performanceClient.startMeasurement(E.AcquireTokenPreRedirect,i);r.add({scenarioId:t.scenarioId});const s=t.onRedirectNavigate;if(s)t.onRedirectNavigate=h=>{const m=typeof s=="function"?s(h):void 0;return r.add({navigateCallbackResult:m!==!1}),r.event=r.end({success:!0},void 0,t.account)||r.event,m};else{const h=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=m=>{const p=typeof h=="function"?h(m):void 0;return r.add({navigateCallbackResult:p!==!1}),r.event=r.end({success:!0},void 0,t.account)||r.event,p}}const u=this.getAllAccounts().length>0;try{xy(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,ta.SIGNIN),u?this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_START,Ae.Redirect,t):this.eventHandler.emitEvent(me.LOGIN_START,Ae.Redirect,t);let h;return this.platformAuthProvider&&this.canUsePlatformBroker(t)?h=new wl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Je.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(t),this.nativeInternalStorage,i).acquireTokenRedirect(t,r).catch(p=>{if(r.add({brokerErrorName:p.name,brokerErrorCode:p.errorCode}),p instanceof oi&&Nr(p))return this.platformAuthProvider=void 0,this.createRedirectClient(i).acquireToken(t);if(p instanceof qn)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(i).acquireToken(t);throw p}):h=this.createRedirectClient(i).acquireToken(t),await h}catch(h){throw this.browserStorage.resetRequestCache(),r.event.status===2?this.performanceClient.startMeasurement(E.AcquireTokenRedirect,i).end({success:!1},h,t.account):r.end({success:!1},h,t.account),u?this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_FAILURE,Ae.Redirect,null,h):this.eventHandler.emitEvent(me.LOGIN_FAILURE,Ae.Redirect,null,h),h}}acquireTokenPopup(t){const i=this.getRequestCorrelationId(t),r=this.performanceClient.startMeasurement(E.AcquireTokenPopup,i);r.add({scenarioId:t.scenarioId});try{this.logger.verbose("acquireTokenPopup called",i),Tl(this.initialized,r,t.account),this.browserStorage.setInteractionInProgress(!0,ta.SIGNIN)}catch(m){return Promise.reject(m)}const s=this.getAllAccounts();s.length>0?this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_START,Ae.Popup,t):this.eventHandler.emitEvent(me.LOGIN_START,Ae.Popup,t);let u;const h=this.getPreGeneratedPkceCodes(i);return this.canUsePlatformBroker(t)?(r.add({isPlatformBrokerRequest:!0}),u=this.acquireTokenNative({...t,correlationId:i},Je.acquireTokenPopup).then(m=>(r.end({success:!0},void 0,m.account),m)).catch(m=>{if(r.add({brokerErrorName:m.name,brokerErrorCode:m.errorCode}),m instanceof oi&&Nr(m))return this.platformAuthProvider=void 0,this.createPopupClient(i).acquireToken(t,h);if(m instanceof qn)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(i).acquireToken(t,h);throw m})):u=this.createPopupClient(i).acquireToken(t,h),u.then(m=>(s.length<this.getAllAccounts().length?this.eventHandler.emitEvent(me.LOGIN_SUCCESS,Ae.Popup,m):this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_SUCCESS,Ae.Popup,m),r.end({success:!0,accessTokenSize:m.accessToken.length,idTokenSize:m.idToken.length},void 0,m.account),m)).catch(m=>(s.length>0?this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_FAILURE,Ae.Popup,null,m):this.eventHandler.emitEvent(me.LOGIN_FAILURE,Ae.Popup,null,m),r.end({success:!1},m,t.account),Promise.reject(m))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(i)})}trackPageVisibilityWithMeasurement(){const t=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;t&&(this.logger.info("Perf: Visibility change detected in ",t.event.name),t.increment({visibilityChangeCount:1}))}async ssoSilent(t){const i=this.getRequestCorrelationId(t),r={...t,prompt:t.prompt,correlationId:i};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(E.SsoSilent,i),this.ssoSilentMeasurement?.add({scenarioId:t.scenarioId}),Tl(this.initialized,this.ssoSilentMeasurement,t.account),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",i),this.eventHandler.emitEvent(me.SSO_SILENT_START,Ae.Silent,r);let s;return this.canUsePlatformBroker(r)?(this.ssoSilentMeasurement?.add({isPlatformBrokerRequest:!0}),s=this.acquireTokenNative(r,Je.ssoSilent).catch(u=>{if(this.ssoSilentMeasurement?.add({brokerErrorName:u.name,brokerErrorCode:u.errorCode}),u instanceof oi&&Nr(u))return this.platformAuthProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw u})):s=this.createSilentIframeClient(r.correlationId).acquireToken(r),s.then(u=>(this.eventHandler.emitEvent(me.SSO_SILENT_SUCCESS,Ae.Silent,u),this.ssoSilentMeasurement?.end({success:!0,accessTokenSize:u.accessToken.length,idTokenSize:u.idToken.length},void 0,u.account),u)).catch(u=>{throw this.eventHandler.emitEvent(me.SSO_SILENT_FAILURE,Ae.Silent,null,u),this.ssoSilentMeasurement?.end({success:!1},u,t.account),u}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(t){const i=this.getRequestCorrelationId(t);this.logger.trace("acquireTokenByCode called",i);const r=this.performanceClient.startMeasurement(E.AcquireTokenByCode,i);Tl(this.initialized,r),this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_BY_CODE_START,Ae.Silent,t),r.add({scenarioId:t.scenarioId});try{if(t.code&&t.nativeAccountId)throw ne(EA);if(t.code){const s=t.code;let u=this.hybridAuthCodeResponses.get(s);return u?(this.logger.verbose("Existing acquireTokenByCode request found",i),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",i),u=this.acquireTokenByCodeAsync({...t,correlationId:i}).then(h=>(this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_BY_CODE_SUCCESS,Ae.Silent,h),this.hybridAuthCodeResponses.delete(s),r.end({success:!0,accessTokenSize:h.accessToken.length,idTokenSize:h.idToken.length},void 0,h.account),h)).catch(h=>{throw this.hybridAuthCodeResponses.delete(s),this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_BY_CODE_FAILURE,Ae.Silent,null,h),r.end({success:!1},h),h}),this.hybridAuthCodeResponses.set(s,u)),await u}else if(t.nativeAccountId)if(this.canUsePlatformBroker(t,t.nativeAccountId)){r.add({isPlatformBrokerRequest:!0});const s=await this.acquireTokenNative({...t,correlationId:i},Je.acquireTokenByCode,t.nativeAccountId).catch(u=>{throw u instanceof oi&&Nr(u)&&(this.platformAuthProvider=void 0),r.add({brokerErrorName:u.name,brokerErrorCode:u.errorCode}),u});return r.end({success:!0},void 0,s.account),s}else throw ne(wA);else throw ne(bA)}catch(s){throw this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_BY_CODE_FAILURE,Ae.Silent,null,s),r.end({success:!1},s),s}}async acquireTokenByCodeAsync(t){return this.logger.trace("acquireTokenByCodeAsync called",t.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(E.AcquireTokenByCodeAsync,t.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(t.correlationId).acquireToken(t).then(s=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:s.fromCache}),s)).catch(s=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},s),s}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(t,i){switch(this.performanceClient.addQueueMeasurement(E.AcquireTokenFromCache,t.correlationId),i){case $t.Default:case $t.AccessToken:case $t.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(t.correlationId);return H(r.acquireToken.bind(r),E.SilentCacheClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t);default:throw $(aa)}}async acquireTokenByRefreshToken(t,i){switch(this.performanceClient.addQueueMeasurement(E.AcquireTokenByRefreshToken,t.correlationId),i){case $t.Default:case $t.AccessTokenAndRefreshToken:case $t.RefreshToken:case $t.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(t.correlationId);return H(r.acquireToken.bind(r),E.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t);default:throw $(aa)}}async acquireTokenBySilentIframe(t){this.performanceClient.addQueueMeasurement(E.AcquireTokenBySilentIframe,t.correlationId);const i=this.createSilentIframeClient(t.correlationId);return H(i.acquireToken.bind(i),E.SilentIframeClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t)}async logout(t){const i=this.getRequestCorrelationId(t);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",i),this.logoutRedirect({correlationId:i,...t})}async logoutRedirect(t){const i=this.getRequestCorrelationId(t);return xy(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,ta.SIGNOUT),this.createRedirectClient(i).logout(t)}logoutPopup(t){try{const i=this.getRequestCorrelationId(t);return ef(this.initialized),this.browserStorage.setInteractionInProgress(!0,ta.SIGNOUT),this.createPopupClient(i).logout(t).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(i){return Promise.reject(i)}}async clearCache(t){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const i=this.getRequestCorrelationId(t);return this.createSilentCacheClient(i).logout(t)}getAllAccounts(t){const i=this.getRequestCorrelationId();return U0(this.logger,this.browserStorage,this.isBrowserEnvironment,i,t)}getAccount(t){const i=this.getRequestCorrelationId();return P0(t,this.logger,this.browserStorage,i)}getAccountByUsername(t){const i=this.getRequestCorrelationId();return H0(t,this.logger,this.browserStorage,i)}getAccountByHomeId(t){const i=this.getRequestCorrelationId();return L0(t,this.logger,this.browserStorage,i)}getAccountByLocalId(t){const i=this.getRequestCorrelationId();return j0(t,this.logger,this.browserStorage,i)}setActiveAccount(t){const i=this.getRequestCorrelationId();B0(t,this.browserStorage,i)}getActiveAccount(){const t=this.getRequestCorrelationId();return z0(this.browserStorage,t)}async hydrateCache(t,i){this.logger.verbose("hydrateCache called");const r=Gn.createFromAccountInfo(t.account,t.cloudGraphHostName,t.msGraphHost);return await this.browserStorage.setAccount(r,t.correlationId),t.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(t,i)):this.browserStorage.hydrateCache(t,i)}async acquireTokenNative(t,i,r,s){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw ne(qh);return new wl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,i,this.performanceClient,this.platformAuthProvider,r||this.getNativeAccountId(t),this.nativeInternalStorage,t.correlationId).acquireToken(t,s)}canUsePlatformBroker(t,i){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!ts(this.config,this.logger,this.platformAuthProvider,t.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(t.prompt)switch(t.prompt){case Xt.NONE:case Xt.CONSENT:case Xt.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${t.prompt} is not compatible with platform broker flow, returning false`),!1}return!i&&!this.getNativeAccountId(t)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(t){const i=t.account||this.getAccount({loginHint:t.loginHint,sid:t.sid})||this.getActiveAccount();return i&&i.nativeAccountId||""}createPopupClient(t){return new sw(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,t)}createRedirectClient(t){return new cw(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,t)}createSilentIframeClient(t){return new pw(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Je.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,t)}createSilentCacheClient(t){return new ZA(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,t)}createSilentRefreshClient(t){return new yw(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,t)}createSilentAuthCodeClient(t){return new Cw(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Je.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,t)}addEventCallback(t,i){return this.eventHandler.addEventCallback(t,i)}removeEventCallback(t){this.eventHandler.removeEventCallback(t)}addPerformanceCallback(t){return GA(),this.performanceClient.addPerformanceCallback(t)}removePerformanceCallback(t){return this.performanceClient.removePerformanceCallback(t)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==wt.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==wt.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(t){this.logger=t}initializeWrapperLibrary(t,i){this.browserStorage.setWrapperMetadata(t,i)}setNavigationClient(t){this.navigationClient=t}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(t){return t?.correlationId?t.correlationId:this.isBrowserEnvironment?Fn():j.EMPTY_STRING}async loginRedirect(t){const i=this.getRequestCorrelationId(t);return this.logger.verbose("loginRedirect called",i),this.acquireTokenRedirect({correlationId:i,...t||wy})}loginPopup(t){const i=this.getRequestCorrelationId(t);return this.logger.verbose("loginPopup called",i),this.acquireTokenPopup({correlationId:i,...t||wy})}async acquireTokenSilent(t){const i=this.getRequestCorrelationId(t),r=this.performanceClient.startMeasurement(E.AcquireTokenSilent,i);r.add({cacheLookupPolicy:t.cacheLookupPolicy,scenarioId:t.scenarioId}),Tl(this.initialized,r,t.account),this.logger.verbose("acquireTokenSilent called",i);const s=t.account||this.getActiveAccount();if(!s)throw ne(pA);return this.acquireTokenSilentDeduped(t,s,i).then(u=>(r.end({success:!0,fromCache:u.fromCache,accessTokenSize:u.accessToken.length,idTokenSize:u.idToken.length},void 0,u.account),{...u,state:t.state,correlationId:i})).catch(u=>{throw u instanceof Ze&&u.setCorrelationId(i),r.end({success:!1},u,s),u})}async acquireTokenSilentDeduped(t,i,r){const s=ic(this.config.auth.clientId,{...t,authority:t.authority||this.config.auth.authority},i.homeAccountId),u=JSON.stringify(s),h=this.activeSilentTokenRequests.get(u);if(typeof h>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),this.performanceClient.addFields({deduped:!1},r);const m=H(this.acquireTokenSilentAsync.bind(this),E.AcquireTokenSilentAsync,this.logger,this.performanceClient,r)({...t,correlationId:r},i);return this.activeSilentTokenRequests.set(u,m),m.finally(()=>{this.activeSilentTokenRequests.delete(u)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),this.performanceClient.addFields({deduped:!0},r),h}async acquireTokenSilentAsync(t,i){const r=()=>this.trackPageVisibility(t.correlationId);this.performanceClient.addQueueMeasurement(E.AcquireTokenSilentAsync,t.correlationId),this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_START,Ae.Silent,t),t.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},t.correlationId),document.addEventListener("visibilitychange",r);const s=await H(q0,E.InitializeSilentRequest,this.logger,this.performanceClient,t.correlationId)(t,i,this.config,this.performanceClient,this.logger),u=t.cacheLookupPolicy||$t.Default;return this.acquireTokenSilentNoIframe(s,u).catch(async m=>{if(Tw(m,u))if(this.activeIframeRequest)if(u!==$t.Skip){const[v,C]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${C}`,s.correlationId);const w=this.performanceClient.startMeasurement(E.AwaitConcurrentIframe,s.correlationId);w.add({awaitIframeCorrelationId:C});const R=await v;if(w.end({success:R}),R)return this.logger.verbose(`Parallel iframe request with correlationId: ${C} succeeded. Retrying cache and/or RT redemption`,s.correlationId),this.acquireTokenSilentNoIframe(s,u);throw this.logger.info(`Iframe request with correlationId: ${C} failed. Interaction is required.`),m}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",s.correlationId),H(this.acquireTokenBySilentIframe.bind(this),E.AcquireTokenBySilentIframe,this.logger,this.performanceClient,s.correlationId)(s);else{let v;return this.activeIframeRequest=[new Promise(C=>{v=C}),s.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",s.correlationId),H(this.acquireTokenBySilentIframe.bind(this),E.AcquireTokenBySilentIframe,this.logger,this.performanceClient,s.correlationId)(s).then(C=>(v(!0),C)).catch(C=>{throw v(!1),C}).finally(()=>{this.activeIframeRequest=void 0})}else throw m}).then(m=>(this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_SUCCESS,Ae.Silent,m),this.performanceClient.addFields({fromCache:m.fromCache},t.correlationId),m)).catch(m=>{throw this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_FAILURE,Ae.Silent,null,m),m}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(t,i){return ts(this.config,this.logger,this.platformAuthProvider,t.authenticationScheme)&&t.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.performanceClient.addFields({isPlatformBrokerRequest:!0},t.correlationId),this.acquireTokenNative(t,Je.acquireTokenSilent_silentFlow,t.account.nativeAccountId,i).catch(async r=>{throw this.performanceClient.addFields({brokerErrorName:r.name,brokerErrorCode:r.errorCode},t.correlationId),r instanceof oi&&Nr(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,$(aa)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),i===$t.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),H(this.acquireTokenFromCache.bind(this),E.AcquireTokenFromCache,this.logger,this.performanceClient,t.correlationId)(t,i).catch(r=>{if(i===$t.AccessToken)throw r;return this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_NETWORK_START,Ae.Silent,t),H(this.acquireTokenByRefreshToken.bind(this),E.AcquireTokenByRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,i)}))}async preGeneratePkceCodes(t){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await H(dc,E.GeneratePkceCodes,this.logger,this.performanceClient,t)(this.performanceClient,this.logger,t),Promise.resolve()}getPreGeneratedPkceCodes(t){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const i=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${i?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!i},t),i}logMultipleInstances(t){const i=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(i),Sw(i,t,this.logger)}}function Tw(c,t){const i=!(c instanceof qn&&c.subError!==rc),r=c.errorCode===tn.INVALID_GRANT_ERROR||c.errorCode===aa,s=i&&r||c.errorCode===Ll||c.errorCode===kh,u=ZE.includes(t);return s&&u}/*! @azure/msal-browser v4.24.0 2025-09-24 */async function bw(c,t){const i=new Pa(c);return await i.initialize(),fc.createController(i,t)}/*! @azure/msal-browser v4.24.0 2025-09-24 */class df{static async createPublicClientApplication(t){const i=await bw(t);return new df(t,i)}constructor(t,i){this.isBroker=!1,this.controller=i||new fc(new Pa(t))}async initialize(t){return this.controller.initialize(t,this.isBroker)}async acquireTokenPopup(t){return this.controller.acquireTokenPopup(t)}acquireTokenRedirect(t){return this.controller.acquireTokenRedirect(t)}acquireTokenSilent(t){return this.controller.acquireTokenSilent(t)}acquireTokenByCode(t){return this.controller.acquireTokenByCode(t)}addEventCallback(t,i){return this.controller.addEventCallback(t,i)}removeEventCallback(t){return this.controller.removeEventCallback(t)}addPerformanceCallback(t){return this.controller.addPerformanceCallback(t)}removePerformanceCallback(t){return this.controller.removePerformanceCallback(t)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(t){return this.controller.getAccount(t)}getAccountByHomeId(t){return this.controller.getAccountByHomeId(t)}getAccountByLocalId(t){return this.controller.getAccountByLocalId(t)}getAccountByUsername(t){return this.controller.getAccountByUsername(t)}getAllAccounts(t){return this.controller.getAllAccounts(t)}handleRedirectPromise(t){return this.controller.handleRedirectPromise(t)}loginPopup(t){return this.controller.loginPopup(t)}loginRedirect(t){return this.controller.loginRedirect(t)}logout(t){return this.controller.logout(t)}logoutRedirect(t){return this.controller.logoutRedirect(t)}logoutPopup(t){return this.controller.logoutPopup(t)}ssoSilent(t){return this.controller.ssoSilent(t)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(t){this.controller.setLogger(t)}setActiveAccount(t){this.controller.setActiveAccount(t)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(t,i){return this.controller.initializeWrapperLibrary(t,i)}setNavigationClient(t){this.controller.setNavigationClient(t)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(t,i){return this.controller.hydrateCache(t,i)}clearCache(t){return this.controller.clearCache(t)}}const tC=window.location.hostname==="localhost",Ew=window.location.hostname.includes("github.io"),ww=!tC;console.log("Environment:",{isDevelopment:tC,isGitHubPages:Ew,isProduction:ww,origin:window.location.origin,hostname:window.location.hostname});const Rw={auth:{clientId:"f76d3db3-50c8-4cac-8dcb-7a23fa4b5805",authority:"https://login.microsoftonline.com/a4adcc38-7b4e-485c-80f9-7d9ca4e83d64",redirectUri:window.location.origin,knownAuthorities:["login.microsoftonline.com"]},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1},system:{allowNativeBroker:!1}},zy={scopes:["Sites.ReadWrite.All","Sites.Manage.All","User.Read"]},Dd={siteUrl:"https://evokebehavioralhealthcom.sharepoint.com/sites/Clinistrators",listNames:{staff:"Staff",clients:"Clients",schedule:"DailySchedule",history:"AssignmentHistory"}};class _w{constructor(){this.msalInstance=new df(Rw),this.account=null,this.accessToken=null}async initialize(){try{await this.msalInstance.initialize();const t=this.msalInstance.getAllAccounts();return t.length>0?(this.account=t[0],console.log("User already signed in:",this.account.username),!0):!1}catch(t){return console.error("Auth initialization failed:",t),!1}}async signIn(){try{const t=await this.msalInstance.loginPopup(zy);return this.account=t.account,console.log("Sign-in successful:",this.account.username),!0}catch(t){return console.error("Sign-in failed:",t),!1}}async getAccessToken(){if(!this.account)throw new Error("No account found. Please sign in first.");try{const t={...zy,account:this.account},i=await this.msalInstance.acquireTokenSilent(t);return this.accessToken=i.accessToken,this.accessToken}catch{console.log("Silent token acquisition failed, trying popup");const i=await this.msalInstance.acquireTokenPopup(tokenRequest);return this.accessToken=i.accessToken,this.accessToken}}signOut(){this.msalInstance.logoutPopup(),this.account=null,this.accessToken=null}isSignedIn(){return this.account!==null}}const Zd=new _w;function tt(c,t,i,r){function s(u){return u instanceof i?u:new i(function(h){h(u)})}return new(i||(i=Promise))(function(u,h){function m(C){try{v(r.next(C))}catch(w){h(w)}}function p(C){try{v(r.throw(C))}catch(w){h(w)}}function v(C){C.done?u(C.value):s(C.value).then(m,p)}v((r=r.apply(c,t||[])).next())})}var gn;(function(c){c.GET="GET",c.PATCH="PATCH",c.POST="POST",c.PUT="PUT",c.DELETE="DELETE"})(gn||(gn={}));const Iw="v1.0",Nw="https://graph.microsoft.com/",xw=new Set(["graph.microsoft.com","graph.microsoft.us","dod-graph.microsoft.us","graph.microsoft.de","microsoftgraph.chinacloudapi.cn","canary.graph.microsoft.com"]);class Ha extends Error{static setGraphClientError(t){let i;return t instanceof Error?i=t:(i=new Ha,i.customError=t),i}constructor(t){super(t),Object.setPrototypeOf(this,Ha.prototype)}}const Mw=["$select","$expand","$orderby","$filter","$top","$skip","$skipToken","$count"],Ow=c=>{const t=u=>u.replace(/\/+$/,""),i=u=>u.replace(/^\/+/,""),r=(u,h)=>[t(u),i(h)].join("/");return Array.prototype.slice.call(c).reduce(r)},Ud=c=>{const t=c&&c.constructor&&c.constructor.name;if(t==="Buffer"||t==="Blob"||t==="File"||t==="FormData"||typeof c=="string")return c;if(t==="ArrayBuffer")c=Buffer.from(c);else if(t==="Int8Array"||t==="Int16Array"||t==="Int32Array"||t==="Uint8Array"||t==="Uint16Array"||t==="Uint32Array"||t==="Uint8ClampedArray"||t==="Float32Array"||t==="Float64Array"||t==="DataView")c=Buffer.from(c.buffer);else try{c=JSON.stringify(c)}catch{throw new Error("Unable to stringify the content")}return c},nC=c=>aC(c),iC=(c,t)=>(t.forEach(i=>kw(i)),aC(c,t)),aC=(c,t=xw)=>{if(c=c.toLowerCase(),c.indexOf("https://")!==-1){c=c.replace("https://","");const i=c.indexOf(":"),r=c.indexOf("/");let s="";if(r!==-1)return i!==-1&&i<r?(s=c.substring(0,i),t.has(s)):(s=c.substring(0,r),t.has(s))}return!1},kw=c=>{if(c.indexOf("/")!==-1)throw new Ha("Please add only hosts or hostnames to the CustomHosts config. If the url is `http://example.com:3000/`, host is `example:3000`")};class La{constructor(t=[]){this.middlewareOptions=new Map;for(const i of t){const r=i.constructor;this.middlewareOptions.set(r,i)}}getMiddlewareOptions(t){return this.middlewareOptions.get(t)}setMiddlewareOptions(t,i){this.middlewareOptions.set(t,i)}}const Dw=()=>{let c="";for(let t=0;t<32;t++)(t===8||t===12||t===16||t===20)&&(c+="-"),c+=Math.floor(Math.random()*16).toString(16);return c},rC=(c,t,i)=>{let r=null;if(typeof Request<"u"&&c instanceof Request)r=c.headers.get(i);else if(typeof t<"u"&&t.headers!==void 0)if(typeof Headers<"u"&&t.headers instanceof Headers)r=t.headers.get(i);else if(t.headers instanceof Array){const s=t.headers;for(let u=0,h=s.length;u<h;u++)if(s[u][0]===i){r=s[u][1];break}}else t.headers[i]!==void 0&&(r=t.headers[i]);return r},oC=(c,t,i,r)=>{if(typeof Request<"u"&&c instanceof Request)c.headers.set(i,r);else if(typeof t<"u")if(t.headers===void 0)t.headers=new Headers({[i]:r});else if(typeof Headers<"u"&&t.headers instanceof Headers)t.headers.set(i,r);else if(t.headers instanceof Array){let s=0;const u=t.headers.length;for(;s<u;s++){const h=t.headers[s];if(h[0]===i){h[1]=r;break}}s===u&&t.headers.push([i,r])}else Object.assign(t.headers,{[i]:r})},sC=(c,t,i,r)=>{typeof Request<"u"&&c instanceof Request?c.headers.append(i,r):typeof t<"u"&&(t.headers===void 0?t.headers=new Headers({[i]:r}):typeof Headers<"u"&&t.headers instanceof Headers?t.headers.append(i,r):t.headers instanceof Array?t.headers.push([i,r]):t.headers===void 0?t.headers={[i]:r}:t.headers[i]===void 0?t.headers[i]=r:t.headers[i]+=`, ${r}`)},Uw=(c,t)=>tt(void 0,void 0,void 0,function*(){const i=t.headers.get("Content-Type")?yield t.blob():yield Promise.resolve(void 0),{method:r,headers:s,referrer:u,referrerPolicy:h,mode:m,credentials:p,cache:v,redirect:C,integrity:w,keepalive:R,signal:B}=t;return new Request(c,{method:r,headers:s,body:i,referrer:u,referrerPolicy:h,mode:m,credentials:p,cache:v,redirect:C,integrity:w,keepalive:R,signal:B})});class Pw{constructor(t,i){this.authenticationProvider=t,this.authenticationProviderOptions=i}}var Ur;(function(c){c[c.NONE=0]="NONE",c[c.REDIRECT_HANDLER_ENABLED=1]="REDIRECT_HANDLER_ENABLED",c[c.RETRY_HANDLER_ENABLED=2]="RETRY_HANDLER_ENABLED",c[c.AUTHENTICATION_HANDLER_ENABLED=4]="AUTHENTICATION_HANDLER_ENABLED"})(Ur||(Ur={}));class sa{constructor(){this.featureUsage=Ur.NONE}static updateFeatureUsageFlag(t,i){let r;t.middlewareControl instanceof La?r=t.middlewareControl.getMiddlewareOptions(sa):t.middlewareControl=new La,typeof r>"u"&&(r=new sa,t.middlewareControl.setMiddlewareOptions(sa,r)),r.setFeatureUsage(i)}setFeatureUsage(t){this.featureUsage=this.featureUsage|t}getFeatureUsage(){return this.featureUsage.toString(16)}}class ns{constructor(t){this.authenticationProvider=t}execute(t){return tt(this,void 0,void 0,function*(){const i=typeof t.request=="string"?t.request:t.request.url;if(nC(i)||t.customHosts&&iC(i,t.customHosts)){let r;t.middlewareControl instanceof La&&(r=t.middlewareControl.getMiddlewareOptions(Pw));let s,u;r&&(s=r.authenticationProvider,u=r.authenticationProviderOptions),s||(s=this.authenticationProvider);const m=`Bearer ${yield s.getAccessToken(u)}`;sC(t.request,t.options,ns.AUTHORIZATION_HEADER,m),sa.updateFeatureUsageFlag(t,Ur.AUTHENTICATION_HANDLER_ENABLED)}else t.options.headers&&delete t.options.headers[ns.AUTHORIZATION_HEADER];return yield this.nextMiddleware.execute(t)})}setNext(t){this.nextMiddleware=t}}ns.AUTHORIZATION_HEADER="Authorization";class Hw{execute(t){return tt(this,void 0,void 0,function*(){t.response=yield fetch(t.request,t.options)})}}class dt{constructor(t=dt.DEFAULT_DELAY,i=dt.DEFAULT_MAX_RETRIES,r=dt.defaultShouldRetry){if(t>dt.MAX_DELAY&&i>dt.MAX_MAX_RETRIES){const s=new Error(`Delay and MaxRetries should not be more than ${dt.MAX_DELAY} and ${dt.MAX_MAX_RETRIES}`);throw s.name="MaxLimitExceeded",s}else if(t>dt.MAX_DELAY){const s=new Error(`Delay should not be more than ${dt.MAX_DELAY}`);throw s.name="MaxLimitExceeded",s}else if(i>dt.MAX_MAX_RETRIES){const s=new Error(`MaxRetries should not be more than ${dt.MAX_MAX_RETRIES}`);throw s.name="MaxLimitExceeded",s}else if(t<0&&i<0){const s=new Error("Delay and MaxRetries should not be negative");throw s.name="MinExpectationNotMet",s}else if(t<0){const s=new Error("Delay should not be negative");throw s.name="MinExpectationNotMet",s}else if(i<0){const s=new Error("MaxRetries should not be negative");throw s.name="MinExpectationNotMet",s}this.delay=Math.min(t,dt.MAX_DELAY),this.maxRetries=Math.min(i,dt.MAX_MAX_RETRIES),this.shouldRetry=r}getMaxDelay(){return dt.MAX_DELAY}}dt.DEFAULT_DELAY=3;dt.DEFAULT_MAX_RETRIES=3;dt.MAX_DELAY=180;dt.MAX_MAX_RETRIES=10;dt.defaultShouldRetry=()=>!0;class la{constructor(t=new dt){this.options=t}isRetry(t){return la.RETRY_STATUS_CODES.indexOf(t.status)!==-1}isBuffered(t,i){const r=typeof t=="string"?i.method:t.method;return!((r===gn.PUT||r===gn.PATCH||r===gn.POST)&&rC(t,i,"Content-Type")==="application/octet-stream")}getDelay(t,i,r){const s=()=>Number(Math.random().toFixed(3)),u=t.headers!==void 0?t.headers.get(la.RETRY_AFTER_HEADER):null;let h;return u!==null?Number.isNaN(Number(u))?h=Math.round((new Date(u).getTime()-Date.now())/1e3):h=Number(u):h=i>=2?this.getExponentialBackOffTime(i)+r+s():r+s(),Math.min(h,this.options.getMaxDelay()+s())}getExponentialBackOffTime(t){return Math.round(1/2*(Math.pow(2,t)-1))}sleep(t){return tt(this,void 0,void 0,function*(){const i=t*1e3;return new Promise(r=>setTimeout(r,i))})}getOptions(t){let i;return t.middlewareControl instanceof La&&(i=t.middlewareControl.getMiddlewareOptions(this.options.constructor)),typeof i>"u"&&(i=Object.assign(new dt,this.options)),i}executeWithRetry(t,i,r){return tt(this,void 0,void 0,function*(){if(yield this.nextMiddleware.execute(t),i<r.maxRetries&&this.isRetry(t.response)&&this.isBuffered(t.request,t.options)&&r.shouldRetry(r.delay,i,t.request,t.options,t.response)){++i,oC(t.request,t.options,la.RETRY_ATTEMPT_HEADER,i.toString());const s=this.getDelay(t.response,i,r.delay);return yield this.sleep(s),yield this.executeWithRetry(t,i,r)}else return})}execute(t){return tt(this,void 0,void 0,function*(){const r=this.getOptions(t);return sa.updateFeatureUsageFlag(t,Ur.RETRY_HANDLER_ENABLED),yield this.executeWithRetry(t,0,r)})}setNext(t){this.nextMiddleware=t}}la.RETRY_STATUS_CODES=[429,503,504];la.RETRY_ATTEMPT_HEADER="Retry-Attempt";la.RETRY_AFTER_HEADER="Retry-After";class kn{constructor(t=kn.DEFAULT_MAX_REDIRECTS,i=kn.defaultShouldRedirect){if(t>kn.MAX_MAX_REDIRECTS){const r=new Error(`MaxRedirects should not be more than ${kn.MAX_MAX_REDIRECTS}`);throw r.name="MaxLimitExceeded",r}if(t<0){const r=new Error("MaxRedirects should not be negative");throw r.name="MinExpectationNotMet",r}this.maxRedirects=t,this.shouldRedirect=i}}kn.DEFAULT_MAX_REDIRECTS=5;kn.MAX_MAX_REDIRECTS=20;kn.defaultShouldRedirect=()=>!0;class pn{constructor(t=new kn){this.options=t}isRedirect(t){return pn.REDIRECT_STATUS_CODES.indexOf(t.status)!==-1}hasLocationHeader(t){return t.headers.has(pn.LOCATION_HEADER)}getLocationHeader(t){return t.headers.get(pn.LOCATION_HEADER)}isRelativeURL(t){return t.indexOf("://")===-1}shouldDropAuthorizationHeader(t,i){const r=/^[A-Za-z].+?:\/\/.+?(?=\/|$)/,s=r.exec(t);let u,h;s!==null&&(u=s[0]);const m=r.exec(i);return m!==null&&(h=m[0]),typeof u<"u"&&typeof h<"u"&&u!==h}updateRequestUrl(t,i){return tt(this,void 0,void 0,function*(){i.request=typeof i.request=="string"?t:yield Uw(t,i.request)})}getOptions(t){let i;return t.middlewareControl instanceof La&&(i=t.middlewareControl.getMiddlewareOptions(kn)),typeof i>"u"&&(i=Object.assign(new kn,this.options)),i}executeWithRedirect(t,i,r){return tt(this,void 0,void 0,function*(){yield this.nextMiddleware.execute(t);const s=t.response;if(i<r.maxRedirects&&this.isRedirect(s)&&this.hasLocationHeader(s)&&r.shouldRedirect(s)){if(++i,s.status===pn.STATUS_CODE_SEE_OTHER)t.options.method=gn.GET,delete t.options.body;else{const u=this.getLocationHeader(s);!this.isRelativeURL(u)&&this.shouldDropAuthorizationHeader(s.url,u)&&delete t.options.headers[pn.AUTHORIZATION_HEADER],yield this.updateRequestUrl(u,t)}yield this.executeWithRedirect(t,i,r)}else return})}execute(t){return tt(this,void 0,void 0,function*(){const r=this.getOptions(t);return t.options.redirect=pn.MANUAL_REDIRECT,sa.updateFeatureUsageFlag(t,Ur.REDIRECT_HANDLER_ENABLED),yield this.executeWithRedirect(t,0,r)})}setNext(t){this.nextMiddleware=t}}pn.REDIRECT_STATUS_CODES=[301,302,303,307,308];pn.STATUS_CODE_SEE_OTHER=303;pn.LOCATION_HEADER="Location";pn.AUTHORIZATION_HEADER="Authorization";pn.MANUAL_REDIRECT="manual";const Lw="3.0.7";class mn{execute(t){return tt(this,void 0,void 0,function*(){const i=typeof t.request=="string"?t.request:t.request.url;if(nC(i)||t.customHosts&&iC(i,t.customHosts)){let r=rC(t.request,t.options,mn.CLIENT_REQUEST_ID_HEADER);r||(r=Dw(),oC(t.request,t.options,mn.CLIENT_REQUEST_ID_HEADER,r));let s=`${mn.PRODUCT_NAME}/${Lw}`,u;if(t.middlewareControl instanceof La&&(u=t.middlewareControl.getMiddlewareOptions(sa)),u){const h=u.getFeatureUsage();s+=` (${mn.FEATURE_USAGE_STRING}=${h})`}sC(t.request,t.options,mn.SDK_VERSION_HEADER,s)}else delete t.options.headers[mn.CLIENT_REQUEST_ID_HEADER],delete t.options.headers[mn.SDK_VERSION_HEADER];return yield this.nextMiddleware.execute(t)})}setNext(t){this.nextMiddleware=t}}mn.CLIENT_REQUEST_ID_HEADER="client-request-id";mn.SDK_VERSION_HEADER="SdkVersion";mn.PRODUCT_NAME="graph-js";mn.FEATURE_USAGE_STRING="featureUsage";var Ky;(function(c){c[c.MANUAL=0]="MANUAL",c[c.RANDOM=1]="RANDOM"})(Ky||(Ky={}));var ai;(function(c){c.ARRAYBUFFER="arraybuffer",c.BLOB="blob",c.DOCUMENT="document",c.JSON="json",c.RAW="raw",c.STREAM="stream",c.TEXT="text"})(ai||(ai={}));var Wd;(function(c){c.TEXT_HTML="text/html",c.TEXT_XML="text/xml",c.APPLICATION_XML="application/xml",c.APPLICATION_XHTML="application/xhtml+xml"})(Wd||(Wd={}));var Ql;(function(c){c.TEXT_PLAIN="text/plain",c.APPLICATION_JSON="application/json"})(Ql||(Ql={}));var Yl;(function(c){c.DOCUMENT="^(text\\/(html|xml))|(application\\/(xml|xhtml\\+xml))$",c.IMAGE="^image\\/.+"})(Yl||(Yl={}));class $o{static parseDocumentResponse(t,i){return typeof DOMParser<"u"?new Promise((r,s)=>{t.text().then(u=>{try{const m=new DOMParser().parseFromString(u,i);r(m)}catch(h){s(h)}})}):Promise.resolve(t.body)}static convertResponse(t,i){return tt(this,void 0,void 0,function*(){if(t.status===204)return Promise.resolve();let r;const s=t.headers.get("Content-type");switch(i){case ai.ARRAYBUFFER:r=yield t.arrayBuffer();break;case ai.BLOB:r=yield t.blob();break;case ai.DOCUMENT:r=yield $o.parseDocumentResponse(t,Wd.TEXT_XML);break;case ai.JSON:r=yield t.json();break;case ai.STREAM:r=yield Promise.resolve(t.body);break;case ai.TEXT:r=yield t.text();break;default:if(s!==null){const u=s.split(";")[0];new RegExp(Yl.DOCUMENT).test(u)?r=yield $o.parseDocumentResponse(t,u):new RegExp(Yl.IMAGE).test(u)?r=t.blob():u===Ql.TEXT_PLAIN?r=yield t.text():u===Ql.APPLICATION_JSON?r=yield t.json():r=Promise.resolve(t.body)}else r=Promise.resolve(t.body);break}return r})}static getResponse(t,i,r){return tt(this,void 0,void 0,function*(){if(i===ai.RAW)return Promise.resolve(t);{const s=yield $o.convertResponse(t,i);if(t.ok)if(typeof r=="function")r(null,s);else return s;else throw s}})}}class jw{constructor(t){this.provider=t}getAccessToken(){return tt(this,void 0,void 0,function*(){return new Promise((t,i)=>{this.provider((r,s)=>tt(this,void 0,void 0,function*(){if(s)t(s);else{if(!r){const h="Access token is undefined or empty.						Please provide a valid token.						For more help - https://github.com/microsoftgraph/msgraph-sdk-javascript/blob/dev/docs/CustomAuthenticationProvider.md";r=new Ha(h)}const u=yield Ha.setGraphClientError(r);i(u)}}))})})}}class Vo extends Error{constructor(t=-1,i,r){super(i||r&&r.message),Object.setPrototypeOf(this,Vo.prototype),this.statusCode=t,this.code=null,this.requestId=null,this.date=new Date,this.body=null,this.stack=r?r.stack:this.stack}}class $l{static constructError(t,i,r){const s=new Vo(i,"",t);return t.name!==void 0&&(s.code=t.name),s.body=t.toString(),s.date=new Date,s.headers=r?.headers,s}static constructErrorFromResponse(t,i,r){const s=t.error,u=new Vo(i,s.message);return u.code=s.code,s.innerError!==void 0&&(u.requestId=s.innerError["request-id"],u.date=new Date(s.innerError.date)),u.body=JSON.stringify(s),u.headers=r?.headers,u}static getError(t=null,i=-1,r,s){return tt(this,void 0,void 0,function*(){let u;if(t&&t.error?u=$l.constructErrorFromResponse(t,i,s):t instanceof Error?u=$l.constructError(t,i,s):(u=new Vo(i),u.body=t),typeof r=="function")r(u,null);else return u})}}class Bw{constructor(t,i,r){this.parsePath=s=>{if(s.indexOf("https://")!==-1){s=s.replace("https://","");const h=s.indexOf("/");h!==-1&&(this.urlComponents.host="https://"+s.substring(0,h),s=s.substring(h+1,s.length));const m=s.indexOf("/");m!==-1&&(this.urlComponents.version=s.substring(0,m),s=s.substring(m+1,s.length))}s.charAt(0)==="/"&&(s=s.substr(1));const u=s.indexOf("?");if(u===-1)this.urlComponents.path=s;else{this.urlComponents.path=s.substr(0,u);const h=s.substring(u+1,s.length).split("&");for(const m of h)this.parseQueryParameter(m)}},this.httpClient=t,this.config=i,this.urlComponents={host:this.config.baseUrl,version:this.config.defaultVersion,oDataQueryParams:{},otherURLQueryParams:{},otherURLQueryOptions:[]},this._headers={},this._options={},this._middlewareOptions=[],this.parsePath(r)}addCsvQueryParameter(t,i,r){this.urlComponents.oDataQueryParams[t]=this.urlComponents.oDataQueryParams[t]?this.urlComponents.oDataQueryParams[t]+",":"";let s=[];r.length>1&&typeof i=="string"?s=Array.prototype.slice.call(r):typeof i=="string"?s.push(i):s=s.concat(i),this.urlComponents.oDataQueryParams[t]+=s.join(",")}buildFullUrl(){const t=Ow([this.urlComponents.host,this.urlComponents.version,this.urlComponents.path])+this.createQueryString();return this.config.debugLogging&&console.log(t),t}createQueryString(){const t=this.urlComponents,i=[];if(Object.keys(t.oDataQueryParams).length!==0)for(const r in t.oDataQueryParams)Object.prototype.hasOwnProperty.call(t.oDataQueryParams,r)&&i.push(r+"="+t.oDataQueryParams[r]);if(Object.keys(t.otherURLQueryParams).length!==0)for(const r in t.otherURLQueryParams)Object.prototype.hasOwnProperty.call(t.otherURLQueryParams,r)&&i.push(r+"="+t.otherURLQueryParams[r]);if(t.otherURLQueryOptions.length!==0)for(const r of t.otherURLQueryOptions)i.push(r);return i.length>0?"?"+i.join("&"):""}parseQueryParameter(t){if(typeof t=="string")if(t.charAt(0)==="?"&&(t=t.substring(1)),t.indexOf("&")!==-1){const i=t.split("&");for(const r of i)this.parseQueryParamenterString(r)}else this.parseQueryParamenterString(t);else if(t.constructor===Object)for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&this.setURLComponentsQueryParamater(i,t[i]);return this}parseQueryParamenterString(t){if(this.isValidQueryKeyValuePair(t)){const i=t.indexOf("="),r=t.substring(0,i),s=t.substring(i+1);this.setURLComponentsQueryParamater(r,s)}else this.urlComponents.otherURLQueryOptions.push(t)}setURLComponentsQueryParamater(t,i){if(Mw.indexOf(t)!==-1){const r=this.urlComponents.oDataQueryParams[t],s=r&&(t==="$expand"||t==="$select"||t==="$orderby");this.urlComponents.oDataQueryParams[t]=s?r+","+i:i}else this.urlComponents.otherURLQueryParams[t]=i}isValidQueryKeyValuePair(t){const i=t.indexOf("=");return!(i===-1||t.indexOf("(")!==-1&&t.indexOf("(")<i)}updateRequestOptions(t){const i=Object.assign({},t.headers);if(this.config.fetchOptions!==void 0){const r=Object.assign({},this.config.fetchOptions);Object.assign(t,r),typeof this.config.fetchOptions.headers!==void 0&&(t.headers=Object.assign({},this.config.fetchOptions.headers))}Object.assign(t,this._options),t.headers!==void 0&&Object.assign(i,t.headers),Object.assign(i,this._headers),t.headers=i}send(t,i,r){var s;return tt(this,void 0,void 0,function*(){let u;const h=new La(this._middlewareOptions);this.updateRequestOptions(i);const m=(s=this.config)===null||s===void 0?void 0:s.customHosts;try{return u=(yield this.httpClient.sendRequest({request:t,options:i,middlewareControl:h,customHosts:m})).response,yield $o.getResponse(u,this._responseType,r)}catch(p){if(p instanceof Ha)throw p;let v;throw u&&(v=u.status),yield $l.getError(p,v,r,u)}})}setHeaderContentType(){if(!this._headers){this.header("Content-Type","application/json");return}const t=Object.keys(this._headers);for(const i of t)if(i.toLowerCase()==="content-type")return;this.header("Content-Type","application/json")}header(t,i){return this._headers[t]=i,this}headers(t){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(this._headers[i]=t[i]);return this}option(t,i){return this._options[t]=i,this}options(t){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(this._options[i]=t[i]);return this}middlewareOptions(t){return this._middlewareOptions=t,this}version(t){return this.urlComponents.version=t,this}responseType(t){return this._responseType=t,this}select(t){return this.addCsvQueryParameter("$select",t,arguments),this}expand(t){return this.addCsvQueryParameter("$expand",t,arguments),this}orderby(t){return this.addCsvQueryParameter("$orderby",t,arguments),this}filter(t){return this.urlComponents.oDataQueryParams.$filter=t,this}search(t){return this.urlComponents.oDataQueryParams.$search=t,this}top(t){return this.urlComponents.oDataQueryParams.$top=t,this}skip(t){return this.urlComponents.oDataQueryParams.$skip=t,this}skipToken(t){return this.urlComponents.oDataQueryParams.$skipToken=t,this}count(t=!0){return this.urlComponents.oDataQueryParams.$count=t.toString(),this}query(t){return this.parseQueryParameter(t)}get(t){return tt(this,void 0,void 0,function*(){const i=this.buildFullUrl(),r={method:gn.GET};return yield this.send(i,r,t)})}post(t,i){return tt(this,void 0,void 0,function*(){const r=this.buildFullUrl(),s={method:gn.POST,body:Ud(t)};return(t&&t.constructor&&t.constructor.name)==="FormData"?s.headers={}:(this.setHeaderContentType(),s.headers=this._headers),yield this.send(r,s,i)})}create(t,i){return tt(this,void 0,void 0,function*(){return yield this.post(t,i)})}put(t,i){return tt(this,void 0,void 0,function*(){const r=this.buildFullUrl();this.setHeaderContentType();const s={method:gn.PUT,body:Ud(t)};return yield this.send(r,s,i)})}patch(t,i){return tt(this,void 0,void 0,function*(){const r=this.buildFullUrl();this.setHeaderContentType();const s={method:gn.PATCH,body:Ud(t)};return yield this.send(r,s,i)})}update(t,i){return tt(this,void 0,void 0,function*(){return yield this.patch(t,i)})}delete(t){return tt(this,void 0,void 0,function*(){const i=this.buildFullUrl(),r={method:gn.DELETE};return yield this.send(i,r,t)})}del(t){return tt(this,void 0,void 0,function*(){return yield this.delete(t)})}getStream(t){return tt(this,void 0,void 0,function*(){const i=this.buildFullUrl(),r={method:gn.GET};return this.responseType(ai.STREAM),yield this.send(i,r,t)})}putStream(t,i){return tt(this,void 0,void 0,function*(){const r=this.buildFullUrl(),s={method:gn.PUT,headers:{"Content-Type":"application/octet-stream"},body:t};return yield this.send(r,s,i)})}}class lC{constructor(...t){if(!t||!t.length){const i=new Error;throw i.name="InvalidMiddlewareChain",i.message="Please provide a default middleware chain or custom middleware chain",i}this.setMiddleware(...t)}setMiddleware(...t){t.length>1?this.parseMiddleWareArray(t):this.middleware=t[0]}parseMiddleWareArray(t){t.forEach((i,r)=>{r<t.length-1&&i.setNext(t[r+1])}),this.middleware=t[0]}sendRequest(t){return tt(this,void 0,void 0,function*(){if(typeof t.request=="string"&&t.options===void 0){const i=new Error;throw i.name="InvalidRequestOptions",i.message="Unable to execute the middleware, Please provide valid options for a request",i}return yield this.middleware.execute(t),t})}}const zw=()=>typeof process=="object"&&typeof require=="function";class hf{static createWithAuthenticationProvider(t){const i=new ns(t),r=new la(new dt),s=new mn,u=new Hw;if(i.setNext(r),zw()){const h=new pn(new kn);r.setNext(h),h.setNext(s)}else r.setNext(s);return s.setNext(u),hf.createWithMiddleware(i)}static createWithMiddleware(...t){return new lC(...t)}}const Kw=()=>{if(typeof Promise>"u"&&typeof fetch>"u"){const c=new Error("Library cannot function without Promise and fetch. So, please provide polyfill for them.");throw c.name="PolyFillNotAvailable",c}else if(typeof Promise>"u"){const c=new Error("Library cannot function without Promise. So, please provide polyfill for it.");throw c.name="PolyFillNotAvailable",c}else if(typeof fetch>"u"){const c=new Error("Library cannot function without fetch. So, please provide polyfill for it.");throw c.name="PolyFillNotAvailable",c}return!0};class Vl{static init(t){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=r==="authProvider"?new jw(t[r]):t[r]);return Vl.initWithMiddleware(i)}static initWithMiddleware(t){return new Vl(t)}constructor(t){this.config={baseUrl:Nw,debugLogging:!1,defaultVersion:Iw},Kw();for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.config[r]=t[r]);let i;if(t.authProvider!==void 0&&t.middleware!==void 0){const r=new Error;throw r.name="AmbiguityInInitialization",r.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain not both",r}else if(t.authProvider!==void 0)i=hf.createWithAuthenticationProvider(t.authProvider);else if(t.middleware!==void 0)i=new lC(...[].concat(t.middleware));else{const r=new Error;throw r.name="InvalidMiddlewareChain",r.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain",r}this.httpClient=i}api(t){return new Bw(this.httpClient,this.config,t)}}class Gw{constructor(){this.graphClient=null,this.siteId=null,this.listIds={}}async initialize(){this.graphClient=Vl.init({authProvider:async t=>{try{const i=await Zd.getAccessToken();t(null,i)}catch(i){t(i,null)}}}),await this.getSiteId(),await this.getListIds()}async getSiteId(){try{const t=Dd.siteUrl,i=t.split("//")[1].split("/")[0],r=t.split(i)[1],s=await this.graphClient.api(`/sites/${i}:${r}`).get();this.siteId=s.id,console.log("Site ID obtained:",this.siteId)}catch(t){throw console.error("Failed to get site ID:",t),t}}async getListIds(){try{const t=await this.graphClient.api(`/sites/${this.siteId}/lists`).get();for(const i in Dd.listNames){const r=Dd.listNames[i],s=t.value.find(u=>u.displayName===r);s?this.listIds[i]=s.id:console.error(`List not found: ${r}`)}console.log("List IDs obtained:",this.listIds)}catch(t){throw console.error("Failed to get list IDs:",t),t}}async getAllStaff(){try{return(await this.graphClient.api(`/sites/${this.siteId}/lists/${this.listIds.staff}/items`).expand("fields").get()).value.map(i=>({id:i.fields.id||i.id,name:i.fields.Title,role:i.fields.Role,available:i.fields.Available,lastUpdated:i.fields.LastUpdated}))}catch(t){return console.error("Failed to get staff:",t),[]}}async createStaff(t){try{const i=await this.graphClient.api(`/sites/${this.siteId}/lists/${this.listIds.staff}/items`).post({fields:{Title:t.name,Role:t.role,Available:t.available!==void 0?t.available:!0,LastUpdated:new Date().toISOString()}});return{id:i.fields.id||i.id,name:i.fields.Title,role:i.fields.Role,available:i.fields.Available,lastUpdated:i.fields.LastUpdated}}catch(i){throw console.error("Failed to create staff:",i),i}}async updateStaffAvailability(t,i){try{await this.graphClient.api(`/sites/${this.siteId}/lists/${this.listIds.staff}/items/${t}`).patch({fields:{Available:i,LastUpdated:new Date().toISOString()}})}catch(r){throw console.error("Failed to update staff availability:",r),r}}async getAllClients(){try{return(await this.graphClient.api(`/sites/${this.siteId}/lists/${this.listIds.clients}/items`).expand("fields").get()).value.map(i=>({id:i.fields.id||i.id,name:i.fields.Title,program:i.fields.Program,ratio:i.fields.Ratio,amRatio:i.fields.AmRatio,pmRatio:i.fields.PmRatio,lunchSchedule:i.fields.LunchSchedule,requiresLunch1to1:i.fields.RequiresLunch1to1,lunchPairing:this.parseJsonField(i.fields.LunchPairing),pairedWith:i.fields.PairedWith,teamStaff:this.parseJsonField(i.fields.TeamStaff)}))}catch(t){return console.error("Failed to get clients:",t),[]}}async createClient(t){try{const i=await this.graphClient.api(`/sites/${this.siteId}/lists/${this.listIds.clients}/items`).post({fields:{Title:t.name,Program:t.program,Ratio:t.ratio,AmRatio:t.amRatio,PmRatio:t.pmRatio,LunchSchedule:t.lunchSchedule,RequiresLunch1to1:t.requiresLunch1to1||!1,LunchPairing:JSON.stringify(t.lunchPairing||[]),PairedWith:t.pairedWith,TeamStaff:JSON.stringify(t.teamStaff||[])}});return{id:i.fields.id||i.id,name:i.fields.Title,program:i.fields.Program,ratio:i.fields.Ratio,amRatio:i.fields.AmRatio,pmRatio:i.fields.PmRatio,lunchSchedule:i.fields.LunchSchedule,requiresLunch1to1:i.fields.RequiresLunch1to1,lunchPairing:this.parseJsonField(i.fields.LunchPairing),pairedWith:i.fields.PairedWith,teamStaff:this.parseJsonField(i.fields.TeamStaff)}}catch(i){throw console.error("Failed to create client:",i),i}}async updateClientTeams(t,i){try{await this.graphClient.api(`/sites/${this.siteId}/lists/${this.listIds.clients}/items/${t}`).patch({fields:{TeamStaff:JSON.stringify(i)}})}catch(r){throw console.error("Failed to update client teams:",r),r}}async getAssignmentHistory(){try{return(await this.graphClient.api(`/sites/${this.siteId}/lists/${this.listIds.history}/items`).expand("fields").get()).value.map(i=>({id:i.fields.id||i.id,studentId:i.fields.StudentId,staffId:i.fields.StaffId,date:i.fields.AssignmentDate,sessionType:i.fields.SessionType,isFinal:i.fields.IsFinal||!1,createdAt:i.fields.Created}))}catch(t){return console.error("Failed to get assignment history:",t),[]}}async saveFinalSchedule(t,i){try{const s=(await this.getAssignmentHistory()).filter(u=>u.date===i);for(const u of s)u.isFinal&&await this.graphClient.api(`/sites/${this.siteId}/lists/${this.listIds.history}/items/${u.id}`).patch({fields:{IsFinal:!1}});for(const u of t)await this.graphClient.api(`/sites/${this.siteId}/lists/${this.listIds.history}/items`).post({fields:{StudentId:u.studentId,StaffId:u.staffId,AssignmentDate:i,SessionType:u.sessionType,IsFinal:!0}})}catch(r){throw console.error("Failed to save final schedule:",r),r}}async addAssignmentToHistory(t,i,r,s,u=!1){try{await this.graphClient.api(`/sites/${this.siteId}/lists/${this.listIds.history}/items`).post({fields:{StudentId:t,StaffId:i,AssignmentDate:r,SessionType:s,IsFinal:u}})}catch(h){throw console.error("Failed to add assignment to history:",h),h}}async saveSchedule(t,i){try{const r=await this.getSchedule(i);for(const s of r)await this.graphClient.api(`/sites/${this.siteId}/lists/${this.listIds.schedule}/items/${s.id}`).delete();for(const s of t)await this.graphClient.api(`/sites/${this.siteId}/lists/${this.listIds.schedule}/items`).post({fields:{StudentId:s.studentId,StaffId:s.staffId,SessionType:s.sessionType,ScheduleDate:i,Time:s.time,IsManual:s.isManual||!1,IsLocked:s.isLocked||!1}})}catch(r){throw console.error("Failed to save schedule:",r),r}}async getSchedule(t){try{return(await this.graphClient.api(`/sites/${this.siteId}/lists/${this.listIds.schedule}/items`).expand("fields").filter(`fields/ScheduleDate eq '${t}'`).get()).value.map(r=>({id:r.fields.id||r.id,studentId:r.fields.StudentId,staffId:r.fields.StaffId,sessionType:r.fields.SessionType,date:r.fields.ScheduleDate,time:r.fields.Time,isManual:r.fields.IsManual,isLocked:r.fields.IsLocked}))}catch(i){return console.error("Failed to get schedule:",i),[]}}parseJsonField(t){if(!t)return[];try{return JSON.parse(t)}catch{return typeof t=="string"?[t]:[]}}}const ni=new Gw,jn={"AM Session (8:45-11:30)":"8:45-11:30","AM Session (8:45-12:00)":"8:45-12:00","Lunch 1 (11:30-12:00)":"11:30-12:00","Lunch 2 (12:00-12:30)":"12:00-12:30","Extended Lunch Coverage (11:30-12:30)":"11:30-12:30","PM (12:00-15:00)":"12:00-15:00","PM (12:30-15:00)":"12:30-15:00"},qw=new Set(["ADA","ALEJANDRO","ASEN","AUSTIN","CALEB","CHARLES","ELIJAH","GABE","ISAAC","JOSEPH","JOSEPHINE","JUSTIN","LEVI","LOGAN","LYDIA","MATEO","MICHAEL","PETER","ROMAN","WENZDAY","REMI","KYMANI","ARIAN","VINNY","BAO","ADRIAN","CESAR","JAY","ELIAS","MILO"]);function Gy(c){return c.program||(qw.has(c.name.toUpperCase())?"Primary/EI":"Secondary/Transition")}const Fw=({show:c,onClose:t,onAddStaff:i})=>{const[r,s]=He.useState({name:"",role:"RBT",available:!0}),[u,h]=He.useState(!1);if(!c)return null;const m=async p=>{if(p.preventDefault(),!!r.name.trim()){h(!0);try{await i(r),s({name:"",role:"RBT",available:!0}),t()}catch(v){console.error("Failed to add staff:",v),alert("Failed to add staff: "+v.message)}finally{h(!1)}}};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:t,children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl border w-full max-w-md",onClick:p=>p.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-white rounded-t-lg",children:[f.jsx("h3",{className:"text-xl font-semibold",children:"Add New Staff Member"}),f.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 text-3xl font-bold leading-none hover:bg-gray-100 rounded-full w-10 h-10 flex items-center justify-center",children:""})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Staff Name"}),f.jsx("input",{type:"text",value:r.name,onChange:p=>s(v=>({...v,name:p.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter staff name",required:!0})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),f.jsxs("select",{value:r.role,onChange:p=>s(v=>({...v,role:p.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[f.jsx("option",{value:"RBT",children:"RBT"}),f.jsx("option",{value:"BS",children:"BS"}),f.jsx("option",{value:"BCBA",children:"BCBA"}),f.jsx("option",{value:"EA",children:"EA"}),f.jsx("option",{value:"MHA",children:"MHA"}),f.jsx("option",{value:"CC",children:"CC"}),f.jsx("option",{value:"Teacher",children:"Teacher"}),f.jsx("option",{value:"Director",children:"Director"}),f.jsx("option",{value:"Clinical Trainer",children:"Clinical Trainer"})]})]}),f.jsx("div",{className:"mb-6",children:f.jsxs("label",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",checked:r.available,onChange:p=>s(v=>({...v,available:p.target.checked})),className:"mr-2"}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Available for scheduling"})]})}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",disabled:u,children:"Cancel"}),f.jsx("button",{type:"submit",onClick:m,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors disabled:opacity-50",disabled:u||!r.name.trim(),children:u?"Adding...":"Add Staff"})]})]})]})})},Qw=({show:c,onClose:t,onAddClient:i,availableStaff:r})=>{const[s,u]=He.useState({name:"",program:"Primary/EI",ratio:"1:1",amRatio:"1:1",pmRatio:"1:1",lunchSchedule:"First",requiresLunch1to1:!1,teamStaff:[]}),[h,m]=He.useState(!1);if(!c)return null;const p=async C=>{if(C.preventDefault(),!!s.name.trim()){m(!0);try{await i(s),u({name:"",program:"Primary/EI",ratio:"1:1",amRatio:"1:1",pmRatio:"1:1",lunchSchedule:"First",requiresLunch1to1:!1,teamStaff:[]}),t()}catch(w){console.error("Failed to add client:",w),alert("Failed to add client: "+w.message)}finally{m(!1)}}},v=C=>{u(w=>({...w,teamStaff:w.teamStaff.includes(C)?w.teamStaff.filter(R=>R!==C):[...w.teamStaff,C]}))};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:t,children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl border w-full max-w-2xl",onClick:C=>C.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-white rounded-t-lg",children:[f.jsx("h3",{className:"text-xl font-semibold",children:"Add New Client"}),f.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 text-3xl font-bold leading-none hover:bg-gray-100 rounded-full w-10 h-10 flex items-center justify-center",children:""})]}),f.jsxs("div",{className:"p-6 max-h-96 overflow-y-auto",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name"}),f.jsx("input",{type:"text",value:s.name,onChange:C=>u(w=>({...w,name:C.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter client name",required:!0})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Program"}),f.jsxs("select",{value:s.program,onChange:C=>u(w=>({...w,program:C.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[f.jsx("option",{value:"Primary/EI",children:"Primary/EI"}),f.jsx("option",{value:"Secondary/Transition",children:"Secondary/Transition"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Ratio"}),f.jsxs("select",{value:s.ratio,onChange:C=>u(w=>({...w,ratio:C.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[f.jsx("option",{value:"1:1",children:"1:1"}),f.jsx("option",{value:"1:2",children:"1:2"}),f.jsx("option",{value:"2:1",children:"2:1"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AM Session Ratio"}),f.jsxs("select",{value:s.amRatio,onChange:C=>u(w=>({...w,amRatio:C.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[f.jsx("option",{value:"1:1",children:"1:1"}),f.jsx("option",{value:"1:2",children:"1:2"}),f.jsx("option",{value:"2:1",children:"2:1"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PM Session Ratio"}),f.jsxs("select",{value:s.pmRatio,onChange:C=>u(w=>({...w,pmRatio:C.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[f.jsx("option",{value:"1:1",children:"1:1"}),f.jsx("option",{value:"1:2",children:"1:2"}),f.jsx("option",{value:"2:1",children:"2:1"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lunch Schedule"}),f.jsxs("select",{value:s.lunchSchedule,onChange:C=>u(w=>({...w,lunchSchedule:C.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[f.jsx("option",{value:"First",children:"First (11:30-12:00)"}),f.jsx("option",{value:"Second",children:"Second (12:00-12:30)"})]})]}),f.jsx("div",{className:"flex items-center",children:f.jsxs("label",{className:"flex items-center",children:[f.jsx("input",{type:"checkbox",checked:s.requiresLunch1to1,onChange:C=>u(w=>({...w,requiresLunch1to1:C.target.checked})),className:"mr-2"}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Requires 1:1 lunch supervision"})]})})]}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Team Staff (",s.teamStaff.length," selected)"]}),f.jsx("div",{className:"border border-gray-300 rounded-md p-3 max-h-40 overflow-y-auto",children:f.jsx("div",{className:"grid grid-cols-2 gap-2",children:r.map(C=>f.jsxs("label",{className:"flex items-center text-sm",children:[f.jsx("input",{type:"checkbox",checked:s.teamStaff.includes(C.name),onChange:()=>v(C.name),className:"mr-2"}),f.jsxs("span",{children:[C.name," (",C.role,")"]})]},C.id))})})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",disabled:h,children:"Cancel"}),f.jsx("button",{type:"submit",onClick:p,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors disabled:opacity-50",disabled:h||!s.name.trim(),children:h?"Adding...":"Add Client"})]})]})]})})},Yw=({show:c,onClose:t,staff:i,onToggleAvailability:r,selectedDate:s,getStaffAttendance:u,updateStaffAttendance:h})=>{const[m,p]=th.useState("");if(!c)return null;const v=[{value:"present",label:"Present",color:"text-green-700"},{value:"absent_am",label:"Absent AM",color:"text-orange-700"},{value:"absent_pm",label:"Absent PM",color:"text-orange-700"},{value:"absent_full",label:"Absent Full Day",color:"text-red-700"}],C=i.filter(w=>w.name.toLowerCase().includes(m.toLowerCase())||m.trim()&&w.role.toLowerCase().split(" ").some(R=>R.startsWith(m.toLowerCase()))).sort((w,R)=>w.name.localeCompare(R.name));return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:t,children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl border w-full max-w-6xl",style:{height:"85vh",maxHeight:"700px"},onClick:w=>w.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-white rounded-t-lg",children:[f.jsxs("h3",{className:"text-xl font-semibold",children:["Staff Attendance - ",s]}),f.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 text-3xl font-bold leading-none hover:bg-gray-100 rounded-full w-10 h-10 flex items-center justify-center",children:""})]}),f.jsx("div",{className:"px-6 py-4 border-b",children:f.jsx("input",{type:"text",placeholder:"Search staff by name or role...",value:m,onChange:w=>p(w.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),f.jsxs("div",{className:"px-6 py-4 overflow-y-scroll",style:{height:"calc(85vh - 180px)",maxHeight:"calc(700px - 180px)"},children:[f.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[f.jsxs("h4",{className:"font-semibold text-blue-800 mb-2",children:["Staff Summary (",C.length," of ",i.length,")"]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[f.jsxs("div",{className:"bg-white p-2 rounded border",children:[f.jsx("span",{className:"font-medium",children:"Total:"})," ",i.length]}),f.jsxs("div",{className:"bg-white p-2 rounded border",children:[f.jsx("span",{className:"font-medium text-purple-700",children:"BCBA:"})," ",i.filter(w=>w.role==="BCBA").length]}),f.jsxs("div",{className:"bg-white p-2 rounded border",children:[f.jsx("span",{className:"font-medium text-blue-700",children:"BS:"})," ",i.filter(w=>w.role==="BS").length]}),f.jsxs("div",{className:"bg-white p-2 rounded border",children:[f.jsx("span",{className:"font-medium text-green-700",children:"RBT:"})," ",i.filter(w=>w.role==="RBT").length]})]})]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:C.map(w=>{const R=u(w.id,s);return v.find(B=>B.value===R),f.jsxs("div",{className:"bg-white border-2 rounded-lg p-4 hover:shadow-md transition-all",children:[f.jsxs("div",{className:"mb-3",children:[f.jsx("h4",{className:"font-medium text-gray-900",children:w.name}),f.jsx("p",{className:"text-sm text-gray-600",children:w.role})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Attendance for ",s,":"]}),f.jsx("div",{className:"space-y-1",children:v.map(B=>f.jsxs("label",{className:"flex items-center",children:[f.jsx("input",{type:"radio",name:`attendance-${w.id}`,value:B.value,checked:R===B.value,onChange:()=>h(w.id,s,B.value),className:"mr-2"}),f.jsx("span",{className:`text-xs ${B.color}`,children:B.label})]},B.value))})]})]},w.id)})})]}),f.jsxs("div",{className:"flex justify-between items-center p-4 border-t bg-gray-50 rounded-b-lg",children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Manage daily staff attendance"}),f.jsx("button",{onClick:t,className:"bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600 transition-colors font-medium",children:"Done"})]})]})})},$w=({show:c,onClose:t,students:i,staff:r,onUpdateTeamStaff:s})=>c?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:t,children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl border w-full max-w-6xl",style:{height:"85vh",maxHeight:"700px"},onClick:u=>u.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-white rounded-t-lg",children:[f.jsx("h3",{className:"text-xl font-semibold",children:"Manage Student Teams"}),f.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 text-3xl font-bold leading-none hover:bg-gray-100 rounded-full w-10 h-10 flex items-center justify-center",children:""})]}),f.jsx("div",{className:"px-6 py-4 overflow-y-scroll",style:{height:"calc(85vh - 140px)",maxHeight:"calc(700px - 140px)"},children:f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:i.sort((u,h)=>u.name.localeCompare(h.name)).map(u=>f.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[f.jsxs("div",{className:"mb-3",children:[f.jsx("h4",{className:"font-semibold text-lg text-gray-800",children:u.name}),f.jsxs("p",{className:"text-sm text-gray-600",children:[u.ratio,"  ",u.lunchSchedule," Lunch"]})]}),f.jsxs("div",{className:"mb-3",children:[f.jsxs("p",{className:"font-medium text-sm text-gray-700 mb-2",children:["Current Team (",u.teamStaff?.length||0," staff):"]}),f.jsxs("div",{className:"flex flex-wrap gap-1 min-h-[2rem]",children:[(u.teamStaff||[]).map(h=>f.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs flex items-center gap-1",children:[h,f.jsx("button",{onClick:()=>s(u.id,h,"remove"),className:"hover:bg-blue-200 rounded px-1",children:""})]},h)),(!u.teamStaff||u.teamStaff.length===0)&&f.jsx("span",{className:"text-gray-400 text-sm italic",children:"No team members assigned"})]})]}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-medium text-sm text-gray-700 mb-2",children:["Add Staff (",r.filter(h=>h.available&&!(u.teamStaff||[]).includes(h.name)).length," available):"]}),f.jsx("div",{className:"grid grid-cols-2 gap-1 max-h-32 overflow-y-auto",children:r.filter(h=>h.available&&!(u.teamStaff||[]).includes(h.name)).sort((h,m)=>h.name.localeCompare(m.name)).map(h=>f.jsxs("button",{onClick:()=>s(u.id,h.name,"add"),className:"text-left px-2 py-1 text-xs bg-gray-100 hover:bg-green-100 border rounded transition-colors",children:[h.role," ",h.name]},h.id))})]})]},u.id))})}),f.jsxs("div",{className:"flex justify-between items-center p-4 border-t bg-gray-50 rounded-b-lg",children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Changes automatically saved to SharePoint"}),f.jsx("button",{onClick:t,className:"bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600 transition-colors font-medium",children:"Done"})]})]})}):null,Vw=({show:c,onClose:t,students:i,selectedDate:r,getStudentAttendance:s,updateStudentAttendance:u})=>{const[h,m]=th.useState("");if(!c)return null;const p=i.filter(v=>v.name.toLowerCase().includes(h.toLowerCase())).sort((v,C)=>v.name.localeCompare(C.name));return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:t,children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl border w-full max-w-6xl",style:{height:"85vh",maxHeight:"700px"},onClick:v=>v.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-white rounded-t-lg",children:[f.jsxs("h3",{className:"text-xl font-semibold",children:["Student Attendance - ",r]}),f.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 text-3xl font-bold leading-none hover:bg-gray-100 rounded-full w-10 h-10 flex items-center justify-center",children:""})]}),f.jsx("div",{className:"px-6 py-4 border-b",children:f.jsx("input",{type:"text",placeholder:"Search students by name...",value:h,onChange:v=>m(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),f.jsxs("div",{className:"px-6 py-4 overflow-y-scroll",style:{height:"calc(85vh - 180px)",maxHeight:"calc(700px - 180px)"},children:[f.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[f.jsxs("h4",{className:"font-semibold text-blue-800 mb-2",children:["Attendance Options (",p.length," of ",i.length,")"]}),f.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[f.jsxs("div",{children:[f.jsx("strong",{children:"Present:"})," Student will attend both AM and PM sessions"]}),f.jsxs("div",{children:[f.jsx("strong",{children:"AM Out:"})," Student absent for AM session only"]}),f.jsxs("div",{children:[f.jsx("strong",{children:"PM Out:"})," Student absent for PM session only"]}),f.jsxs("div",{children:[f.jsx("strong",{children:"Full Day Absent:"})," Student will not attend any sessions"]})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(v=>{const C=s(v.id,r);return f.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[f.jsxs("div",{className:"mb-3",children:[f.jsx("h4",{className:"font-semibold text-lg text-gray-800",children:v.name}),f.jsxs("p",{className:"text-sm text-gray-600",children:[v.ratio,"  ",v.lunchSchedule," Lunch"]})]}),f.jsx("div",{className:"space-y-2",children:["present","absent_am","absent_pm","absent_full"].map(w=>{const R={present:"Present",absent_am:"AM Out",absent_pm:"PM Out",absent_full:"Full Day Absent"},B={present:"text-green-700",absent_am:"text-orange-700",absent_pm:"text-orange-700",absent_full:"text-red-700"};return f.jsxs("label",{className:"block",children:[f.jsx("input",{type:"radio",name:`attendance-${v.id}`,value:w,checked:C===w,onChange:()=>u(v.id,r,w),className:"mr-2"}),f.jsx("span",{className:`${B[w]} font-medium`,children:R[w]})]},w)})})]},v.id)})})]}),f.jsxs("div",{className:"flex justify-between items-center p-4 border-t bg-gray-50 rounded-b-lg",children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Changes automatically saved  Rerun Auto-Assign after attendance changes"}),f.jsx("button",{onClick:t,className:"bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600 transition-colors font-medium",children:"Done"})]})]})})},Xw=({show:c,onClose:t,students:i,staff:r,getRecentAssignments:s,getVarietyScore:u,selectedDate:h,rawAssignmentHistory:m=[]})=>{const[p,v]=He.useState(!1);if(!c)return null;const C=B=>{const ue=r.find(fe=>fe.id===B);return ue?`${ue.role} ${ue.name}`:`Unknown Staff (ID: ${B})`},w=B=>{const ue=i.find(fe=>fe.id===B);return ue?ue.name:`Unknown Student (ID: ${B})`},R=m.filter(B=>B.isFinal).sort((B,ue)=>new Date(ue.date)-new Date(B.date));return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:t,children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl border w-full max-w-7xl",style:{height:"90vh",maxHeight:"800px"},onClick:B=>B.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-white rounded-t-lg",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("h3",{className:"text-xl font-semibold",children:"Assignment History & Variety Tracking"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>v(!1),className:`px-3 py-1 rounded text-sm ${p?"bg-gray-200 text-gray-700":"bg-blue-500 text-white"}`,children:"Variety Scores"}),f.jsx("button",{onClick:()=>v(!0),className:`px-3 py-1 rounded text-sm ${p?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"History Table"})]})]}),f.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 text-3xl font-bold leading-none hover:bg-gray-100 rounded-full w-10 h-10 flex items-center justify-center",children:""})]}),f.jsx("div",{className:"px-6 py-4 overflow-y-scroll",style:{height:"calc(90vh - 140px)",maxHeight:"calc(800px - 140px)"},children:p?f.jsxs("div",{children:[f.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[f.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Finalized Assignment History"}),f.jsx("p",{className:"text-sm text-blue-700",children:"This shows all finalized schedules that count toward variety tracking."})]}),R.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-100",children:[f.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Date"}),f.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Student Name"}),f.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Student ID"}),f.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Staff Name"}),f.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Staff ID"}),f.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Session Type"})]})}),f.jsx("tbody",{children:R.map((B,ue)=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"border border-gray-300 px-4 py-2",children:B.date}),f.jsx("td",{className:"border border-gray-300 px-4 py-2",children:w(B.studentId)}),f.jsx("td",{className:"border border-gray-300 px-4 py-2 text-xs text-gray-600",children:B.studentId}),f.jsx("td",{className:"border border-gray-300 px-4 py-2",children:C(B.staffId)}),f.jsx("td",{className:"border border-gray-300 px-4 py-2 text-xs text-gray-600",children:B.staffId}),f.jsx("td",{className:"border border-gray-300 px-4 py-2",children:B.sessionType})]},ue))})]})}):f.jsxs("div",{className:"text-center py-8 text-gray-500",children:[f.jsx("p",{children:"No finalized assignment history found."}),f.jsx("p",{className:"text-sm mt-2",children:'Use the "Finalize Schedule" button to save official schedules.'})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"mb-6 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[f.jsx("h4",{className:"font-semibold text-purple-800 mb-2",children:"How Variety Tracking Works"}),f.jsxs("div",{className:"text-sm text-purple-700 space-y-1",children:[f.jsxs("div",{children:[f.jsx("strong",{children:"Variety Score:"})," Higher scores = less recent work with student"]}),f.jsxs("div",{children:[f.jsx("strong",{children:"100 points:"})," Never worked with student before"]}),f.jsxs("div",{children:[f.jsx("strong",{children:"10 points per day:"})," Added for each day since last assignment"]}),f.jsxs("div",{children:[f.jsx("strong",{children:"-5 points each:"})," Penalty for each of last 5 assignments with student"]}),f.jsx("div",{children:f.jsx("strong",{children:"Green = High variety, Yellow = Medium, Red = Low variety"})})]})]}),f.jsx("div",{className:"grid grid-cols-1 gap-6",children:i.map(B=>{const ue=r.filter(fe=>(B.teamStaff||[]).includes(fe.name)&&fe.available);return f.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("h4",{className:"font-semibold text-lg text-gray-800",children:B.name}),f.jsxs("p",{className:"text-sm text-gray-600",children:[B.ratio,"  ",B.lunchSchedule," Lunch  Team: ",B.teamStaff?.length||0," staff"]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:ue.map(fe=>{const xe=s(B.id,fe.id),st=u(B.id,fe.id,h);let Ge="bg-green-100 text-green-800 border-green-200";return st<30?Ge="bg-red-100 text-red-800 border-red-200":st<60&&(Ge="bg-yellow-100 text-yellow-800 border-yellow-200"),f.jsxs("div",{className:`border rounded-lg p-3 ${Ge}`,children:[f.jsxs("div",{className:"font-medium text-sm",children:[fe.role," ",fe.name]}),f.jsxs("div",{className:"text-xs mt-1",children:[f.jsxs("div",{children:["Variety Score: ",f.jsx("strong",{children:Math.round(st)})]}),f.jsxs("div",{children:["Recent assignments: ",f.jsx("strong",{children:xe.length})]}),xe.length>0&&f.jsxs("div",{className:"mt-1 text-xs opacity-75",children:["Last: ",xe[0],xe.length>1&&f.jsxs("div",{children:["Previous: ",xe.slice(1,3).join(", ")]})]})]})]},fe.id)})})]},B.id)})})]})}),f.jsxs("div",{className:"flex justify-between items-center p-4 border-t bg-gray-50 rounded-b-lg",children:[f.jsx("p",{className:"text-sm text-gray-600",children:p?"Finalized assignments from SharePoint":"Staff with higher variety scores will be preferred during assignment"}),f.jsx("button",{onClick:t,className:"bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600 transition-colors font-medium",children:"Done"})]})]})})},Jw=({show:c,onClose:t,analysis:i,selectedDate:r})=>c?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:t,children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl border w-full max-w-5xl",style:{height:"85vh",maxHeight:"700px"},onClick:s=>s.stopPropagation(),children:[f.jsxs("div",{className:"flex justify-between items-center p-6 border-b bg-white rounded-t-lg",children:[f.jsxs("h3",{className:"text-xl font-semibold",children:["Schedule Analysis - ",r]}),f.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 text-3xl font-bold leading-none hover:bg-gray-100 rounded-full w-10 h-10 flex items-center justify-center",children:""})]}),f.jsx("div",{className:"px-6 py-4 overflow-y-scroll",style:{height:"calc(85vh - 140px)",maxHeight:"calc(700px - 140px)"},children:i&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[f.jsx("h4",{className:"font-semibold text-blue-800 mb-3",children:"Session Utilization"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{className:"bg-white p-3 rounded border",children:[f.jsx("div",{className:"text-sm text-gray-600",children:"AM Sessions (8:45-11:30/12:00)"}),f.jsxs("div",{className:"text-lg font-semibold text-blue-700",children:[i.amUtilization,"% Utilized"]})]}),f.jsxs("div",{className:"bg-white p-3 rounded border",children:[f.jsx("div",{className:"text-sm text-gray-600",children:"PM Sessions (12:00/12:30-15:00)"}),f.jsxs("div",{className:"text-lg font-semibold text-blue-700",children:[i.pmUtilization,"% Utilized"]})]})]})]}),f.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[f.jsx("h4",{className:"font-semibold text-green-800 mb-3",children:"Sessions per Role"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-white p-3 rounded border",children:[f.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"AM Sessions by Role"}),f.jsx("div",{className:"text-sm space-y-1",children:i.amRoleDistribution&&Object.keys(i.amRoleDistribution).length>0?Object.entries(i.amRoleDistribution).map(([s,u])=>f.jsxs("div",{children:[s,": ",u]},s)):f.jsx("div",{className:"text-gray-500",children:"No AM assignments"})})]}),f.jsxs("div",{className:"bg-white p-3 rounded border",children:[f.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"PM Sessions by Role"}),f.jsx("div",{className:"text-sm space-y-1",children:i.pmRoleDistribution&&Object.keys(i.pmRoleDistribution).length>0?Object.entries(i.pmRoleDistribution).map(([s,u])=>f.jsxs("div",{children:[s,": ",u]},s)):f.jsx("div",{className:"text-gray-500",children:"No PM assignments"})})]})]})]}),i.unassignedStaff&&i.unassignedStaff.length>0&&f.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[f.jsxs("h4",{className:"font-semibold text-yellow-800 mb-3",children:["Unassigned Staff (",i.unassignedStaff.length,")"]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:i.unassignedStaff.map(s=>f.jsxs("div",{className:"bg-white p-2 rounded border text-sm",children:[f.jsx("span",{className:"font-medium",children:s.role})," ",s.name]},s.id))})]}),i.issues&&i.issues.length>0&&f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[f.jsxs("h4",{className:"font-semibold text-red-800 mb-3",children:["Schedule Issues (",i.issues.length,")"]}),f.jsx("div",{className:"space-y-2",children:i.issues.map((s,u)=>f.jsxs("div",{className:"bg-white p-3 rounded border border-red-100",children:[f.jsx("div",{className:"font-medium text-red-700",children:s.type}),f.jsx("div",{className:"text-sm text-red-600",children:s.description})]},u))})]})]})}),f.jsx("div",{className:"flex justify-end p-4 border-t bg-gray-50 rounded-b-lg",children:f.jsx("button",{onClick:t,className:"bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600 transition-colors font-medium",children:"Close Analysis"})})]})}):null,Zw=()=>{const[c,t]=He.useState(!1),[i,r]=He.useState("Initializing..."),[s,u]=He.useState(null),[h,m]=He.useState([]),[p,v]=He.useState([]),[C,w]=He.useState([]),[R,B]=He.useState(new Date().toISOString().split("T")[0]),[ue,fe]=He.useState({}),[xe,st]=He.useState({}),[Ge,lt]=He.useState({}),[X,be]=He.useState(null),[Gt,Ot]=He.useState({}),[qt,An]=He.useState([]),[_i,Cn]=He.useState(!1),[Rt,Qn]=He.useState(!1),[si,Ct]=He.useState(!1),[D,te]=He.useState(!1),[pe,Ke]=He.useState(!1),[T,q]=He.useState(!1),[ie,ee]=He.useState(!1),[ge,ke]=He.useState(new Set);He.useEffect(()=>{Se()},[]);const Se=async()=>{try{r("Checking authentication..."),u(null),await Zd.initialize()?(r("Initializing Microsoft Graph..."),await ni.initialize(),t(!0),await We(),r("Ready")):r("Please sign in to continue")}catch(A){console.error("App initialization error:",A),u(`Initialization failed: ${A.message}`),r("Using offline mode with sample data"),t(!0),m([{id:"1",name:"John Smith",role:"RBT",available:!0},{id:"2",name:"Sarah Johnson",role:"BS",available:!0},{id:"3",name:"Mike Davis",role:"BCBA",available:!0},{id:"4",name:"Lisa Brown",role:"RBT",available:!0}]),v([{id:"1",name:"Alex",ratio:"1:1",lunchSchedule:"First",requiresLunch1to1:!0,teamStaff:["John Smith","Sarah Johnson"]},{id:"2",name:"Emma",ratio:"2:1",lunchSchedule:"Second",requiresLunch1to1:!1,teamStaff:["Mike Davis","John Smith","Lisa Brown"]}])}},Ft=async()=>{try{r("Signing in..."),u(null),await Zd.signIn()&&(await ni.initialize(),t(!0),await We(),r("Ready"))}catch(A){console.error("Sign-in error:",A),u(A.message),r("Sign-in failed")}},We=async()=>{try{r("Loading data from SharePoint...");const[A,k,F]=await Promise.all([ni.getAllStaff(),ni.getAllClients(),ni.getAssignmentHistory()]);m(A),v(k),An(F);const J={};F.filter(de=>de.isFinal).forEach(de=>{const x=`${de.studentId}-${de.staffId}`;J[x]||(J[x]=[]),J[x].push(de.date)}),Ot(J),r(`Data loaded: ${A.length} staff, ${k.length} students, ${F.length} history entries`)}catch(A){console.error("Failed to load data:",A),u("Failed to load data: "+A.message)}},Yn=async A=>{const k=await ni.createStaff(A);m(F=>[...F,k])},zr=async A=>{const k=await ni.createClient(A);v(F=>[...F,k])},Ba=async A=>{const k=h.find(J=>J.id===A);if(!k)return;const F=!k.available;try{await ni.updateStaffAvailability(A,F),m(J=>J.map(de=>de.id===A?{...de,available:F}:de))}catch(J){console.error("Failed to update staff availability:",J),alert("Failed to update availability: "+J.message)}},Kr=async(A,k,F)=>{const J=p.find(x=>x.id===A);if(!J)return;let de;if(F==="add"&&!(J.teamStaff||[]).includes(k))de=[...J.teamStaff||[],k];else if(F==="remove")de=(J.teamStaff||[]).filter(x=>x!==k);else return;try{await ni.updateClientTeams(A,de),v(x=>x.map(Ee=>Ee.id===A?{...Ee,teamStaff:de}:Ee))}catch(x){console.error("Failed to update team staff:",x),alert("Failed to update team: "+x.message)}},Ii=A=>h.find(k=>k.name===A),za=()=>C.filter(A=>A.date===R),Ka=(A,k)=>xe[`${A}-${k}`]||"present",Sn=(A,k)=>{const F=Ka(A.id,R);return F==="absent_full"||k==="AM"&&F==="absent_am"||k==="PM"&&F==="absent_pm"},Tn=(A,k,F)=>{st(J=>({...J,[`${A}-${k}`]:F}))},Dn=(A,k)=>Ge[`${A}-${k}`]||"present",as=(A,k)=>{const F=Dn(A.id,R);return F==="absent_full"||k==="AM"&&F==="absent_am"||k==="PM"&&F==="absent_pm"},rs=(A,k,F)=>{lt(J=>({...J,[`${A}-${k}`]:F}))},li=(A,k,F,J)=>{if(!F)return;const de=p.find(Te=>Te.id===A),x=h.find(Te=>Te.id===F);if(!de||!x)return;if((k==="AM"||k==="PM")&&de.teamStaff&&!de.teamStaff.includes(x.name)){alert(`${x.role} ${x.name} is not on ${de.name}'s team and cannot be assigned to AM/PM sessions.`);return}const Ee=C.filter(Te=>Te.studentId===A&&Te.sessionType.includes(k)&&Te.date===R);let De=C.filter(Te=>!(Te.studentId===A&&Te.sessionType.includes(k)&&Te.date===R&&Te.position===J));const qe=Ee.find(Te=>Te.staffId===F&&Te.position!==J);if(qe){alert(`${x.role} ${x.name} is already assigned to ${de.name} as Staff ${qe.position===1?"1":"2"}.`);return}const at={id:Date.now()+Math.random(),studentId:A,staffId:F,sessionType:da(de,k),date:R,time:jn[da(de,k)],isManual:!0,position:J},St=[...De,at];w(St),ct(A,F,R);const kt=Gr(St);be(kt),console.log(`Manual 2:1 assignment: ${x.role} ${x.name} to ${de.name} - ${k} (Position ${J})`)},Ga=(A,k,F)=>{if(!F)return;const J=p.find(at=>at.id===A),de=h.find(at=>at.id===F);if(!J||!de)return;if((k==="AM"||k==="PM")&&J.teamStaff&&!J.teamStaff.includes(de.name)){alert(`${de.role} ${de.name} is not on ${J.name}'s team and cannot be assigned to AM/PM sessions.`);return}const x=C.filter(at=>!(at.studentId===A&&at.sessionType.includes(k)&&at.date===R)),Ee={id:Date.now()+Math.random(),studentId:A,staffId:F,sessionType:da(J,k),date:R,time:jn[da(J,k)],isManual:!0},De=[...x,Ee];w(De),ct(A,F,R);const qe=Gr(De);be(qe),console.log(`Manual assignment: ${de.role} ${de.name} to ${J.name} - ${k}`)},da=(A,k)=>k==="AM"?A.lunchSchedule==="First"?"AM Session (8:45-11:30)":"AM Session (8:45-12:00)":k==="PM"?A.lunchSchedule==="First"?"PM (12:00-15:00)":"PM (12:30-15:00)":k==="LUNCH1"?"Lunch 1 (11:30-12:00)":k==="LUNCH2"?"Lunch 2 (12:00-12:30)":k,os=(A,k,F)=>{fe(J=>({...J,[A]:{...J[A]||{},[k]:F}}))},ss=(A,k)=>`${A}-${k}`,Ni=(A,k)=>{const F=ss(A,k);return Gt[F]||[]},ct=(A,k,F)=>{const J=ss(A,k);Ot(de=>{const x=de[J]||[],Ee=[F,...x.filter(De=>De!==F)].slice(0,5);return{...de,[J]:Ee}})},pt=(A,k,F)=>{const J=Ni(A,k);if(J.length===0)return 100;const de=J[0],x=Math.abs(new Date(F)-new Date(de))/(1e3*60*60*24);let Ee=Math.min(100,x*10);return Ee-=J.length*5,Math.max(0,Ee)},Qt=()=>{console.log("Starting Auto-Assignment with SharePoint data...");const A=[],k={},F={};h.forEach(z=>{k[z.id]={am:!1,pm:!1,sessions:0,lunchCoverage:0}}),console.log("Phase 0: Processing locked assignments..."),p.forEach(z=>{const Q=ue[z.id]||{},re=z.lunchSchedule==="First"?"AM Session (8:45-11:30)":"AM Session (8:45-12:00)",Y=z.lunchSchedule==="First"?"PM (12:00-15:00)":"PM (12:30-15:00)";if(Q.AM&&!Sn(z,"AM")){const V=h.find(G=>G.id===Q.AM);if(V&&V.available){const G={id:Date.now()+Math.random(),studentId:z.id,staffId:Q.AM,sessionType:re,date:R,time:jn[re],isLocked:!0};A.push(G),k[Q.AM].am=!0,k[Q.AM].sessions+=1,F[`${z.id}-${Q.AM}`]=!0,ct(z.id,Q.AM,R),console.log(`LOCKED: ${V.role} ${V.name} to ${z.name} - AM`)}}if(Q.PM&&!Sn(z,"PM")){const V=h.find(G=>G.id===Q.PM);if(V&&V.available){const G={id:Date.now()+Math.random(),studentId:z.id,staffId:Q.PM,sessionType:Y,date:R,time:jn[Y],isLocked:!0};A.push(G),k[Q.PM].pm=!0,k[Q.PM].sessions+=1,F[`${z.id}-${Q.PM}`]=!0,ct(z.id,Q.PM,R),console.log(`LOCKED: ${V.role} ${V.name} to ${z.name} - PM`)}}});const J=[],de=[];p.forEach(z=>{const Q=ue[z.id]||{},re=z.lunchSchedule==="First"?"AM Session (8:45-11:30)":"AM Session (8:45-12:00)",Y=z.lunchSchedule==="First"?"PM (12:00-15:00)":"PM (12:30-15:00)";if(!Q.AM&&!Sn(z,"AM")){const G=z.amRatio!==void 0?z.amRatio:z.ratio;J.push({studentId:z.id,sessionType:re,assigned:!1,requires2to1:G==="2:1",isPaired:!!z.pairedWith,staffNeeded:G==="2:1"?2:1})}if(!Q.PM&&!Sn(z,"PM")){const G=z.pmRatio!==void 0?z.pmRatio:z.ratio;J.push({studentId:z.id,sessionType:Y,assigned:!1,requires2to1:G==="2:1",isPaired:!!z.pairedWith,staffNeeded:G==="2:1"?2:1})}if((z.requiresLunch1to1||z.lunchPairing||z.ratio==="2:1"||z.amRatio==="2:1"||z.pmRatio==="2:1")&&!Sn(z,"LUNCH")){const G=z.lunchSchedule==="First"?"Lunch 1 (11:30-12:00)":"Lunch 2 (12:00-12:30)";de.push({studentId:z.id,sessionType:G,assigned:!1,requires2to1:!1,isPaired:!1,staffNeeded:1})}if(z.lunchPairing&&!z.requiresLunch1to1&&!Sn(z,"LUNCH")){const G=z.lunchSchedule==="First"?"Lunch 1 (11:30-12:00)":"Lunch 2 (12:00-12:30)";de.push({studentId:z.id,sessionType:G,assigned:!1,requires2to1:!1,isPaired:!0,staffNeeded:1})}}),J.sort((z,Q)=>z.requires2to1&&!Q.requires2to1?-1:Q.requires2to1&&!z.requires2to1?1:z.isPaired&&!Q.isPaired?-1:Q.isPaired&&!z.isPaired?1:0);const x=(z,Q)=>{const re=(z.teamStaff||[]).map(V=>Ii(V)).filter(V=>V&&["RBT","BS"].includes(V.role)&&V.available),Y=[];for(const V of re){const G=A.filter(L=>L.staffId===V.id&&L.date===R&&(Q==="AM"&&L.sessionType.includes("AM")||Q==="PM"&&L.sessionType.includes("PM")));if(G.length>0){const L=G[0],Z=p.find(oe=>oe.id===L.studentId);Z&&Y.push({staffMember:V,currentAssignment:L,currentStudent:Z})}}return Y},Ee=z=>{const Q=p.find(V=>V.id===z.studentId);if(!Q)return!1;const re=z.sessionType.includes("AM")?"AM":"PM",Y=x(Q,re);console.log(` Attempting cascading reassignment for ${Q.name} (${re})`),console.log(`Found ${Y.length} reassignable team staff members`);for(const{staffMember:V,currentAssignment:G,currentStudent:L}of Y){console.log(` Checking if ${V.name} can be moved from ${L.name} to ${Q.name}`);const oe=(L.teamStaff||[]).map(ce=>Ii(ce)).filter(ce=>ce&&["RBT","BS","BCBA"].includes(ce.role)&&ce.available&&ce.id!==V.id).filter(ce=>{const ae=G.sessionType.includes("AM"),we=G.sessionType.includes("PM");if(ae&&k[ce.id].am||we&&k[ce.id].pm)return!1;const W=`${L.id}-${ce.id}`;return!F[W]});if(console.log(`Found ${oe.length} alternatives for ${L.name}`),oe.length>0){console.log(` Performing cascading reassignment: Moving ${V.name} from ${L.name} to ${Q.name}`);const ce=A.findIndex(rn=>rn.id===G.id);if(ce>=0){A.splice(ce,1);const rn=G.sessionType.includes("AM"),Vn=G.sessionType.includes("PM");rn&&(k[V.id].am=!1),Vn&&(k[V.id].pm=!1),k[V.id].sessions-=1;const fa=`${L.id}-${V.id}`;delete F[fa]}oe.sort((rn,Vn)=>{const fa=["RBT","BS"].includes(rn.role),xi=["RBT","BS"].includes(Vn.role);if(fa!==xi)return fa?-1:1;const Mi=pt(L.id,rn.id,R);return pt(L.id,Vn.id,R)-Mi});const ae=oe[0],we={id:Date.now()+Math.random(),studentId:L.id,staffId:ae.id,sessionType:G.sessionType,date:R,time:jn[G.sessionType]};A.push(we),ct(L.id,ae.id,R);const W=G.sessionType.includes("AM"),le=G.sessionType.includes("PM");W&&(k[ae.id].am=!0),le&&(k[ae.id].pm=!0),k[ae.id].sessions+=1;const Pe=`${L.id}-${ae.id}`;F[Pe]=!0,console.log(` Assigned alternative: ${ae.role} ${ae.name} to ${L.name}`);const Dt={id:Date.now()+Math.random(),studentId:Q.id,staffId:V.id,sessionType:z.sessionType,date:R,time:jn[z.sessionType]};A.push(Dt),ct(Q.id,V.id,R);const Le=z.sessionType.includes("AM"),_t=z.sessionType.includes("PM");Le&&(k[V.id].am=!0),_t&&(k[V.id].pm=!0),k[V.id].sessions+=1;const Un=`${Q.id}-${V.id}`;return F[Un]=!0,console.log(` Cascading complete: ${V.role} ${V.name} now assigned to ${Q.name}`),z.assigned=!0,!0}}return console.log(` Could not perform cascading reassignment for ${Q.name} - no viable alternatives found`),!1};console.log("Phase 1: Assigning TEAM RBTs and BS with cascading reassignment");const De=["RBT","BS"];for(let z=1;z<=5;z++)if(De.forEach(re=>{J.forEach(Y=>{if(Y.assigned)return;const V=p.find(L=>L.id===Y.studentId);if(!V)return;let G=(V.teamStaff||[]).map(L=>Ii(L)).filter(L=>L&&L.role===re&&L.available);if(G=G.filter(L=>{const Z=Y.sessionType.includes("AM"),oe=Y.sessionType.includes("PM");if(Z&&k[L.id].am||oe&&k[L.id].pm)return!1;if(oe&&Y.sessionType.includes("12:00")&&A.some(we=>we.staffId===L.id&&we.sessionType==="AM Session (8:45-11:30)"&&we.date===R))return console.log(`${L.name} needs lunch break - worked AM until 11:30, can't start PM at 12:00`),!1;const ce=`${Y.studentId}-${L.id}`;return F[ce]?(console.log(`Preventing all-day assignment: ${L.name} already assigned to ${V.name}`),!1):!0}),Y.requires2to1&&(Y.staffNeeded||1)===2)if(G.length>=2){G.sort((oe,ce)=>{const ae=pt(Y.studentId,oe.id,R);return pt(Y.studentId,ce.id,R)-ae});const L=G[0],Z=G[1];Y.assigned=!0,[L,Z].forEach((oe,ce)=>{const ae={id:Date.now()+Math.random()+ce,studentId:Y.studentId,staffId:oe.id,sessionType:Y.sessionType,date:R,time:jn[Y.sessionType],is2to1:!0,position:ce+1,partner:ce===0?Z.id:L.id};A.push(ae),ct(Y.studentId,oe.id,R);const we=`${Y.studentId}-${oe.id}`;F[we]=!0;const W=Y.sessionType.includes("AM"),le=Y.sessionType.includes("PM");W&&(k[oe.id].am=!0),le&&(k[oe.id].pm=!0),k[oe.id].sessions+=1}),console.log(`2:1 Team assignment: ${L.role} ${L.name} + ${Z.role} ${Z.name} to ${V.name} - ${Y.sessionType}`)}else console.log(` Insufficient team staff for 2:1 assignment (${G.length}/2 needed). Attempting cascading reassignment for ${V.name}`),Ee(Y)||console.log(` Cascading reassignment failed for 2:1 ${V.name} - ${Y.sessionType}`);else if(G.length>0){G.sort((W,le)=>{const Pe=pt(Y.studentId,W.id,R);return pt(Y.studentId,le.id,R)-Pe});const L=G[0],Z=pt(Y.studentId,L.id,R);Y.assigned=!0;const oe={id:Date.now()+Math.random(),studentId:Y.studentId,staffId:L.id,sessionType:Y.sessionType,date:R,time:jn[Y.sessionType]};A.push(oe),ct(Y.studentId,L.id,R);const ce=`${Y.studentId}-${L.id}`;F[ce]=!0;const ae=Y.sessionType.includes("AM"),we=Y.sessionType.includes("PM");ae&&(k[L.id].am=!0),we&&(k[L.id].pm=!0),k[L.id].sessions+=1,console.log(`Team ${L.role} - ${L.name} to ${V.name} - ${Y.sessionType} (variety: ${Z})`)}else console.log(` No available team staff for ${V.name}. Attempting cascading reassignment...`),Ee(Y)||console.log(` Cascading reassignment failed for ${V.name} - ${Y.sessionType}`)})}),J.filter(re=>!re.assigned).length===0){console.log(`SUCCESS: All sessions assigned using TEAM staff with cascading after pass ${z}`);break}const qe=J.filter(z=>!z.assigned);if(qe.length>0){console.log(`Phase 2: BCBA fallback for ${qe.length} remaining sessions (TEAM BCBAs ONLY)`),qe.sort((Q,re)=>{const Y=p.find(Dt=>Dt.id===Q.studentId),V=p.find(Dt=>Dt.id===re.studentId);if(!Y||!V)return 0;const G=Q.sessionType.includes("AM"),L=Q.sessionType.includes("PM"),Z=re.sessionType.includes("AM"),oe=re.sessionType.includes("PM"),ce=G?Y.amRatio!==void 0?Y.amRatio:Y.ratio:L&&Y.pmRatio!==void 0?Y.pmRatio:Y.ratio,ae=Z?V.amRatio!==void 0?V.amRatio:V.ratio:oe&&V.pmRatio!==void 0?V.pmRatio:V.ratio,we=ce==="2:1";if(we!==(ae==="2:1"))return we?-1:1;const le=(Y.teamStaff||[]).length,Pe=(V.teamStaff||[]).length;return le!==Pe?le-Pe:0});for(let Q=1;Q<=3;Q++){qe.forEach(Y=>{if(Y.assigned)return;const V=p.find(Z=>Z.id===Y.studentId);if(!V)return;console.log(`DEBUG: ${V.name} team staff for BCBA fallback:`,V.teamStaff);const G=(V.teamStaff||[]).map(Z=>Ii(Z)).filter(Z=>Z&&Z.role==="BCBA"&&Z.available);if(console.log(`DEBUG: ${V.name} available team BCBAs:`,G.map(Z=>`${Z.name} (${Z.role})`)),G.length===0){console.log(` No team BCBAs available for ${V.name} - ${Y.sessionType}. Session will remain UNASSIGNED.`);return}let L=G.filter(Z=>{const oe=Y.sessionType.includes("AM"),ce=Y.sessionType.includes("PM");if(oe&&k[Z.id].am||ce&&k[Z.id].pm)return!1;const ae=Y.sessionType.includes("AM")?"AM":"PM";if(as(Z,ae))return!1;const we=`${Y.studentId}-${Z.id}`;return!F[we]});if(console.log(`DEBUG: Available team BCBAs for ${V.name} - ${Y.sessionType}: ${L.length}`),L.length>0){L.sort((le,Pe)=>{const Dt=pt(Y.studentId,le.id,R),Le=pt(Y.studentId,Pe.id,R),_t=k[le.id].sessions,Un=k[Pe.id]?k[Pe.id].sessions:0;return _t!==Un?_t-Un:Le-Dt});const Z=L[0],oe=pt(Y.studentId,Z.id,R);Y.assigned=!0,console.log(` BCBA Fallback: Assigned ${Z.role} ${Z.name} to ${V.name} - ${Y.sessionType}`);const ce={id:Date.now()+Math.random(),studentId:Y.studentId,staffId:Z.id,sessionType:Y.sessionType,date:R,time:jn[Y.sessionType]};A.push(ce),ct(Y.studentId,Z.id,R);const ae=`${Y.studentId}-${Z.id}`;F[ae]=!0;const we=Y.sessionType.includes("AM"),W=Y.sessionType.includes("PM");we&&(k[Z.id].am=!0),W&&(k[Z.id].pm=!0),k[Z.id].sessions+=1,console.log(`BCBA FALLBACK ${Z.role} - ${Z.name} to ${V.name} - ${Y.sessionType} (variety: ${oe})`)}});const re=qe.filter(Y=>!Y.assigned).length;if(console.log(`BCBA Fallback Pass ${Q} completed. Remaining unassigned: ${re}`),re===0){console.log(`SUCCESS: All sessions assigned after BCBA fallback pass ${Q}`);break}}const z=qe.filter(Q=>!Q.assigned);z.length>0&&(console.log(` FINAL UNASSIGNED SESSIONS: ${z.length} sessions could not be assigned while maintaining team-only restrictions`),z.forEach(Q=>{const re=p.find(Y=>Y.id===Q.studentId);console.log(`   - ${re?re.name:"Unknown"}: ${Q.sessionType}`)}))}console.log("Phase 3: Assigning lunch coverage for 1:1 supervision");const at=new Map,St=[];de.forEach(z=>{const Q=p.find(re=>re.id===z.studentId);if(Q)if(Q.lunchPairing&&Q.lunchPairing.length>0){const re=[Q.id,...Q.lunchPairing].sort().join("-");at.has(re)||at.set(re,[]),at.get(re).push(z)}else St.push(z)});for(const[z,Q]of at){if(Q.length===0)continue;const re=Q[0].sessionType,Y=Q.map(G=>{const L=p.find(Z=>Z.id===G.studentId);return L?L.name:"Unknown"}).join(", ");let V=h.filter(G=>{if(!G.available||G.role==="RBT"&&!Q.map(ae=>p.find(we=>we.id===ae.studentId)).filter(ae=>ae).every(ae=>ae.teamStaff&&ae.teamStaff.includes(G.name)))return!1;const L=A.some(oe=>oe.staffId===G.id&&oe.date===R&&oe.sessionType===re);let Z=!1;return re==="Lunch 1 (11:30-12:00)"?Z=A.some(oe=>oe.staffId===G.id&&oe.date===R&&oe.sessionType==="AM Session (8:45-12:00)"):re==="Lunch 2 (12:00-12:30)"&&(Z=A.some(oe=>oe.staffId===G.id&&oe.date===R&&oe.sessionType==="PM (12:00-15:00)")),!L&&!Z});if(V.length>0){V.sort((Z,oe)=>{const ce=k[Z.id].sessions>0,ae=k[oe.id].sessions>0;if(ce!==ae)return ce?1:-1;const we=Pe=>Pe==="BCBA"?1:Pe==="Teacher"?2:Pe==="EA"?3:Pe==="MHA"?4:Pe==="CC"?5:Pe==="Trainer"?6:Pe==="BS"?7:Pe==="RBT"?8:Pe==="Director"?9:10,W=we(Z.role),le=we(oe.role);return W-le});const G=V[0],L=k[G.id].sessions===0;Q.forEach(Z=>{const oe={id:Date.now()+Math.random(),studentId:Z.studentId,staffId:G.id,sessionType:Z.sessionType,date:R,time:jn[Z.sessionType],isPairedLunch:!0};A.push(oe)}),k[G.id].lunchCoverage+=Q.length,console.log(`Paired lunch coverage: ${G.role} ${G.name} for ${Y} - ${re}${L?" (unscheduled staff - preferred)":" (already scheduled)"}`)}else console.log(`WARNING: No available staff for paired lunch coverage for ${Y} - ${re}`)}St.forEach(z=>{const Q=p.find(L=>L.id===z.studentId);if(!Q)return;let re=h.filter(L=>{if(!L.available||L.role==="RBT"&&(!Q.teamStaff||!Q.teamStaff.includes(L.name)))return!1;const Z=z.sessionType,oe=A.some(ae=>ae.staffId===L.id&&ae.date===R&&ae.sessionType===Z);let ce=!1;return Z==="Lunch 1 (11:30-12:00)"?ce=A.some(ae=>ae.staffId===L.id&&ae.date===R&&ae.sessionType==="AM Session (8:45-12:00)"):Z==="Lunch 2 (12:00-12:30)"&&(ce=A.some(ae=>ae.staffId===L.id&&ae.date===R&&ae.sessionType==="PM (12:00-15:00)")),!oe&&!ce});const Y=`${z.studentId}`,V=re.filter(L=>!F[`${Y}-${L.id}`]),G=V.length>0?V:re;if(G.length>0){G.sort((ce,ae)=>{const we=k[ce.id].sessions>0,W=k[ae.id].sessions>0;if(we!==W)return we?1:-1;const le=Le=>Le==="BCBA"?1:Le==="Teacher"?2:Le==="EA"?3:Le==="MHA"?4:Le==="CC"?5:Le==="Trainer"?6:Le==="BS"?7:Le==="RBT"?8:Le==="Director"?9:10,Pe=le(ce.role),Dt=le(ae.role);return Pe-Dt});const L=G[0],Z=k[L.id].sessions===0,oe={id:Date.now()+Math.random(),studentId:z.studentId,staffId:L.id,sessionType:z.sessionType,date:R,time:jn[z.sessionType]};A.push(oe),k[L.id].lunchCoverage+=1,console.log(`Individual lunch coverage: ${L.role} ${L.name} for ${Q.name} - ${z.sessionType}${Z?" (unscheduled staff - preferred)":" (already scheduled)"}`)}else console.log(`WARNING: No available staff for lunch coverage for ${Q.name} - ${z.sessionType}`),console.log("Available staff:",h.filter(L=>L.available).map(L=>`${L.role} ${L.name}`)),console.log("Lunch candidates after filtering:",re.map(L=>`${L.role} ${L.name}`))});const kt=Gr(A);be(kt);const Te=qe.filter(z=>!z.assigned);if(Te.length>0){console.log(`
 FINAL UNASSIGNED SESSIONS:`),Te.forEach(re=>{const Y=p.find(V=>V.id===re.studentId);console.log(`- ${Y?.name||"Unknown"}: ${re.sessionType}`)});const z=h.filter(re=>re.available&&re.role==="RBT"),Q=h.filter(re=>re.available&&re.role==="BS");console.log(`
 AVAILABLE PRIMARY STAFF:`),console.log(`RBTs (${z.length}):`,z.map(re=>`${re.name} (absent: ${Dn(re.id,R)})`)),console.log(`BS (${Q.length}):`,Q.map(re=>`${re.name} (absent: ${Dn(re.id,R)})`))}return A},Gr=A=>{try{const k=A.filter(W=>W.date===R),F=k.filter(W=>W.sessionType&&W.sessionType.includes("AM")),J=k.filter(W=>W.sessionType&&W.sessionType.includes("PM")),de=p.filter(W=>Ka(W.id,R)!=="absent_full"),x=de.filter(W=>!Sn(W,"AM")),Ee=de.filter(W=>!Sn(W,"PM")),De=new Set(F.map(W=>W.studentId)).size,qe=new Set(J.map(W=>W.studentId)).size,at=x.length>0?Math.round(De/x.length*100):100,St=Ee.length>0?Math.round(qe/Ee.length*100):100,kt={},Te={};F.forEach(W=>{const le=h.find(Pe=>Pe.id===W.staffId);le&&le.role&&(kt[le.role]=(kt[le.role]||0)+1)}),J.forEach(W=>{const le=h.find(Pe=>Pe.id===W.staffId);le&&le.role&&(Te[le.role]=(Te[le.role]||0)+1)});const z=new Set(k.map(W=>W.staffId)),Q=h.filter(W=>W.available),re=h.filter(W=>!W.available),Y=Q.filter(W=>!z.has(W.id)),V=new Set(F.map(W=>W.staffId)),G=new Set(J.map(W=>W.staffId)),L=new Set,Z=new Set;Object.values(ue).forEach(W=>{W.AM&&L.add(W.AM),W.PM&&Z.add(W.PM)});const oe=Q.filter(W=>{if(V.has(W.id)||L.has(W.id))return!1;const le=Dn(W.id,R);return le!=="absent_full"&&le!=="absent_am"}),ce=Q.filter(W=>{if(G.has(W.id)||Z.has(W.id))return!1;const le=Dn(W.id,R);return le!=="absent_full"&&le!=="absent_pm"}),ae=Q.filter(W=>{const le=Dn(W.id,R);return le==="absent_full"||le==="absent_am"}),we=Q.filter(W=>{const le=Dn(W.id,R);return le==="absent_full"||le==="absent_pm"});return{amUtilization:at,pmUtilization:St,amRoleDistribution:kt,pmRoleDistribution:Te,unassignedStaff:Y,unassignedAMStaff:oe,unassignedPMStaff:ce,unavailableStaff:re,absentAMStaff:ae,absentPMStaff:we,totalAvailableStaff:Q.length,totalAssignedStaff:z.size,issues:[]}}catch(k){return console.error("Analysis generation failed:",k),{amUtilization:0,pmUtilization:0,amRoleDistribution:{},pmRoleDistribution:{},unassignedStaff:[],unassignedAMStaff:[],unassignedPMStaff:[],unavailableStaff:[],absentAMStaff:[],absentPMStaff:[],totalAvailableStaff:0,totalAssignedStaff:0,issues:[]}}},gc=()=>{try{console.log(`
 Starting Auto-Assignment...`);const A={};h.forEach(F=>{A[F.role]||(A[F.role]={total:0,available:0,absent:0}),A[F.role].total++,F.available&&A[F.role].available++;const J=Dn(F.id,R);(J==="absent_full"||J==="absent_am"||J==="absent_pm")&&A[F.role].absent++}),console.log(`
 STAFF BREAKDOWN BY ROLE:`),Object.keys(A).sort().forEach(F=>{const J=A[F];console.log(`${F}: ${J.total} total, ${J.available} available, ${J.absent} absent`)});const k=Qt();w(k),console.log(" Auto-assignment completed successfully")}catch(A){console.error(" Auto-assignment failed:",A),alert("Auto-assignment failed: "+A.message)}},mc=()=>{w([]),be(null),Cn(!1)},qa=async()=>{if(C.length===0){alert("No schedule to finalize.");return}try{const A=za();if(A.length===0){alert("No schedule for the selected date.");return}window.confirm(`Are you sure you want to finalize the schedule for ${R}? This will save it as the official schedule for variety tracking.`)&&(await ni.saveFinalSchedule(A,R),A.forEach(F=>{const J=`${F.studentId}-${F.staffId}`;Ot(de=>{const x=de[J]||[],Ee=[R,...x.filter(De=>De!==R)].slice(0,10);return{...de,[J]:Ee}})}),alert("Schedule finalized successfully! This schedule is now saved for variety tracking."))}catch(A){console.error("Failed to finalize schedule:",A),alert("Failed to finalize schedule: "+A.message)}},Fa=()=>{if(C.length===0){alert("No schedule data to export.");return}const A=za(),k=["Student Name","Program","AM Session","PM Session","Staff Assignments"],F=p.map(De=>{const qe=A.find(Te=>Te.studentId===De.id&&Te.sessionType.includes("AM")),at=A.find(Te=>Te.studentId===De.id&&Te.sessionType.includes("PM")),St=qe?h.find(Te=>Te.id===qe.staffId):null,kt=at?h.find(Te=>Te.id===at.staffId):null;return[De.name,Gy(De),St?`${St.role} ${St.name}`:"UNASSIGNED",kt?`${kt.role} ${kt.name}`:"UNASSIGNED",`AM: ${St?St.name:"None"}, PM: ${kt?kt.name:"None"}`]}),J=[k,...F].map(De=>De.map(qe=>`"${qe}"`).join(",")).join(`
`),de=new Blob([J],{type:"text/csv"}),x=window.URL.createObjectURL(de),Ee=document.createElement("a");Ee.href=x,Ee.download=`ABA_Schedule_${R}.csv`,document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee),window.URL.revokeObjectURL(x)},$n=A=>{ke(k=>{const F=new Set(k);return F.has(A)?F.delete(A):F.add(A),F})},Qa=A=>{const k=ge.has(A.id),F=A.teamStaff||[],J=8;if(F.length<=J)return f.jsx("div",{className:"text-xs text-gray-600 max-w-xs",children:F.join(", ")});if(k)return f.jsxs("div",{className:"text-xs text-gray-600 max-w-xs",children:[F.join(", ")," ",f.jsx("button",{onClick:()=>$n(A.id),className:"text-blue-600 hover:text-blue-800 font-medium cursor-pointer",children:"show less"})]});const de=F.slice(0,J),x=F.length-J;return f.jsxs("div",{className:"text-xs text-gray-600 max-w-xs",children:[de.join(", ")," ",f.jsxs("button",{onClick:()=>$n(A.id),className:"text-blue-600 hover:text-blue-800 font-medium cursor-pointer",children:["+",x," more"]})]})},ha=A=>{const k=C.filter(G=>G.date===R),F=k.filter(G=>G.studentId===A.id),J=F.filter(G=>G.sessionType==="AM Session (8:45-11:30)"||G.sessionType==="AM Session (8:45-12:00)"),de=F.filter(G=>G.sessionType==="PM (12:00-15:00)"||G.sessionType==="PM (12:30-15:00)"),x=F.find(G=>G.sessionType==="Lunch 1 (11:30-12:00)"),Ee=F.find(G=>G.sessionType==="Lunch 2 (12:00-12:30)"),De=Ka(A.id,R)==="absent_full",qe=Sn(A,"AM"),at=Sn(A,"PM"),St=(G,L,Z)=>{if(!G)return!1;const oe=p.find(ae=>ae.id===Z);if(!oe||L.includes("Lunch"))return!1;const ce=k.filter(ae=>ae.staffId===G&&ae.studentId!==Z&&kt(ae.sessionType,L));return ce.length>0?!ce.every(we=>{const W=p.find(Le=>Le.id===we.studentId),le=(Le,_t)=>_t.includes("AM")?Le.amRatio!==void 0?Le.amRatio:Le.ratio:_t.includes("PM")&&Le.pmRatio!==void 0?Le.pmRatio:Le.ratio,Pe=le(W,we.sessionType),Dt=le(oe,L);return W&&Pe==="2:1"&&Dt==="2:1"}):!1},kt=(G,L)=>{const Z=["AM Session (8:45-11:30)","AM Session (8:45-12:00)"],oe=["PM (12:00-15:00)","PM (12:30-15:00)"],ce=["Lunch 1 (11:30-12:00)","Lunch 2 (12:00-12:30)"];return!!(Z.includes(G)&&Z.includes(L)||oe.includes(G)&&oe.includes(L)||ce.includes(G)&&ce.includes(L)||G==="AM Session (8:45-12:00)"&&L==="Lunch 1 (11:30-12:00)"||G==="Lunch 1 (11:30-12:00)"&&L==="AM Session (8:45-12:00)"||G==="PM (12:00-15:00)"&&L==="Lunch 2 (12:00-12:30)"||G==="Lunch 2 (12:00-12:30)"&&L==="PM (12:00-15:00)")},Te=G=>G==="AM Session (8:45-11:30)"?"11:30":G==="AM Session (8:45-12:00)"?"12:00":G==="Lunch 1 (11:30-12:00)"||G==="Lunch 2 (12:00-12:30)"?"":G==="PM (12:00-15:00)"?"12:00":G==="PM (12:30-15:00)"?"12:30":"",z=(G,L,Z=null)=>{if(L==="AM"&&(De||qe))return{display:"ABSENT",class:"bg-gray-200 text-gray-600"};if(L==="PM"&&(De||at))return{display:"ABSENT",class:"bg-gray-200 text-gray-600"};if(L==="LUNCH"&&De)return{display:"ABSENT",class:"bg-gray-200 text-gray-600"};const oe=Array.isArray(G)?G:G?[G]:[];if(oe.length===0){if(L==="LUNCH"){if(Z==="LUNCH1"&&A.lunchSchedule==="Second")return{display:"N/A",class:"bg-gray-50 text-gray-500"};if(Z==="LUNCH2"&&A.lunchSchedule==="First")return{display:"N/A",class:"bg-gray-50 text-gray-500"};if(!(A.requiresLunch1to1||A.lunchPairing||A.ratio==="2:1"||A.amRatio==="2:1"||A.pmRatio==="2:1"))return{display:"N/A",class:"bg-gray-50 text-gray-500"}}return{display:"NEEDED",class:"bg-yellow-100 text-yellow-700"}}if(oe.length>1)return{display:oe.map(Un=>{const rn=h.find(Mi=>Mi.id===Un.staffId),Vn=Te(Un.sessionType),xi=St(Un.staffId,Un.sessionType,A.id)?" ":"";return rn?`${rn.role} ${rn.name}${Vn?` (${Vn})`:""}${xi}`:"Unknown"}).join(" + "),class:"bg-orange-100 text-orange-700"};const ce=oe[0],ae=h.find(_t=>_t.id===ce.staffId),we=Te(ce.sessionType),W=ce.isLocked,le=St(ce.staffId,ce.sessionType,A.id),Pe=W?" ":"",Dt=le?" ":"";return{display:ae?`${ae.role} ${ae.name}${we?` (${we})`:""}${Pe}${Dt}`:"Unknown",class:W?"bg-green-100 text-green-800 border border-green-300":L==="LUNCH"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}},Q=z(J,"AM"),re=z(de,"PM"),Y=z(x,"LUNCH","LUNCH1"),V=z(Ee,"LUNCH","LUNCH2");return{student:A,amDisplay:Q.display,pmDisplay:re.display,lunch1Display:Y.display,lunch2Display:V.display,amClass:Q.class,pmClass:re.class,lunch1Class:Y.class,lunch2Class:V.class}};return f.jsx("div",{className:"max-w-full mx-auto p-6 bg-gray-50 min-h-screen",children:f.jsx("div",{className:"bg-white rounded-lg shadow-lg",children:f.jsxs("div",{className:"p-6",children:[f.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("p",{className:"text-green-800",children:["Connected to SharePoint  ",h.length," staff  ",p.length," students  ",i]}),i==="Please sign in to continue"&&f.jsx("button",{onClick:Ft,className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors font-medium",children:"Sign In to Microsoft"})]})}),f.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 rounded",children:[f.jsx("h2",{className:"font-semibold text-yellow-800 mb-2 text-lg",children:"SharePoint-Integrated Instructions"}),f.jsxs("ol",{className:"list-decimal list-inside text-yellow-900 space-y-1",children:[f.jsx("li",{children:"Add new staff and clients using the buttons below (saves to SharePoint automatically)."}),f.jsx("li",{children:"Manage team assignments and availability - changes save immediately to SharePoint."}),f.jsx("li",{children:"Select staff/student pairs to lock in the last 2 columns to the right."}),f.jsx("li",{children:"Select Auto-Assign Sessions for intelligent scheduling with variety tracking."}),f.jsx("li",{children:"All data persists in SharePoint - no more lost changes!"})]})]}),X&&f.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[f.jsxs("h3",{className:"font-semibold text-blue-800 mb-4",children:["Schedule Analysis - ",R]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-white rounded p-3 border",children:[f.jsxs("h4",{className:"font-medium text-gray-700 mb-2",children:["AM Sessions (",X.amUtilization,"% Utilized)"]}),f.jsxs("div",{className:"text-sm space-y-1",children:[f.jsxs("div",{children:["RBT: ",X.amRoleDistribution&&X.amRoleDistribution.RBT||0,"  BS: ",X.amRoleDistribution&&X.amRoleDistribution.BS||0,"  BCBA: ",X.amRoleDistribution&&X.amRoleDistribution.BCBA||0,"  Director: ",X.amRoleDistribution&&X.amRoleDistribution.Director||0,"  CC: ",X.amRoleDistribution&&X.amRoleDistribution.CC||0,"  EA: ",X.amRoleDistribution&&X.amRoleDistribution.EA||0,"  Trainer: ",X.amRoleDistribution&&X.amRoleDistribution.Trainer||0,"  Teacher: ",X.amRoleDistribution&&X.amRoleDistribution.Teacher||0,"  MHA: ",X.amRoleDistribution&&X.amRoleDistribution.MHA||0]}),f.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[X.unassignedAMStaff&&X.unassignedAMStaff.length>0&&f.jsxs("div",{className:"pt-2 border-t",children:[f.jsxs("div",{className:"font-medium text-orange-600 mb-1",children:["Unassigned (",X.unassignedAMStaff.length,"):"]}),f.jsx("div",{className:"text-xs space-y-1 max-h-20 overflow-y-auto",children:X.unassignedAMStaff.map(A=>f.jsxs("div",{className:`${A.role==="BCBA"?"text-purple-600":A.role==="BS"?"text-blue-600":A.role==="Director"?"text-red-600":A.role==="CC"?"text-yellow-600":A.role==="EA"?"text-pink-600":A.role==="Trainer"||A.role==="Teacher"?"text-orange-600":A.role==="MHA"?"text-indigo-600":A.role==="RBT"?"text-green-600":"text-gray-600"}`,children:[A.role," ",A.name]},A.id))})]}),X.absentAMStaff&&X.absentAMStaff.length>0&&f.jsxs("div",{className:"pt-2 border-t",children:[f.jsxs("div",{className:"font-medium text-red-600 mb-1",children:["Daily Absent (",X.absentAMStaff.length,"):"]}),f.jsx("div",{className:"text-xs space-y-1 max-h-20 overflow-y-auto",children:X.absentAMStaff.map(A=>f.jsxs("div",{className:`${A.role==="BCBA"?"text-purple-600":A.role==="BS"?"text-blue-600":A.role==="Director"?"text-red-600":A.role==="CC"?"text-yellow-600":A.role==="EA"?"text-pink-600":A.role==="Trainer"||A.role==="Teacher"?"text-orange-600":A.role==="MHA"?"text-indigo-600":A.role==="RBT"?"text-green-600":"text-gray-600"}`,children:[A.role," ",A.name]},A.id))})]}),X.unavailableStaff&&X.unavailableStaff.length>0&&f.jsxs("div",{className:"pt-2 border-t",children:[f.jsxs("div",{className:"font-medium text-gray-600 mb-1",children:["Unavailable (",X.unavailableStaff.length,"):"]}),f.jsx("div",{className:"text-xs space-y-1 max-h-20 overflow-y-auto",children:X.unavailableStaff.map(A=>f.jsxs("div",{className:`${A.role==="BCBA"?"text-purple-600":A.role==="BS"?"text-blue-600":A.role==="Director"?"text-red-600":A.role==="CC"?"text-yellow-600":A.role==="EA"?"text-pink-600":A.role==="Trainer"||A.role==="Teacher"?"text-orange-600":A.role==="MHA"?"text-indigo-600":A.role==="RBT"?"text-green-600":"text-gray-600"}`,children:[A.role," ",A.name]},A.id))})]})]})]})]}),f.jsxs("div",{className:"bg-white rounded p-3 border",children:[f.jsxs("h4",{className:"font-medium text-gray-700 mb-2",children:["PM Sessions (",X.pmUtilization,"% Utilized)"]}),f.jsxs("div",{className:"text-sm space-y-1",children:[f.jsxs("div",{children:["RBT: ",X.pmRoleDistribution&&X.pmRoleDistribution.RBT||0,"  BS: ",X.pmRoleDistribution&&X.pmRoleDistribution.BS||0,"  BCBA: ",X.pmRoleDistribution&&X.pmRoleDistribution.BCBA||0,"  Director: ",X.pmRoleDistribution&&X.pmRoleDistribution.Director||0,"  CC: ",X.pmRoleDistribution&&X.pmRoleDistribution.CC||0,"  EA: ",X.pmRoleDistribution&&X.pmRoleDistribution.EA||0,"  Trainer: ",X.pmRoleDistribution&&X.pmRoleDistribution.Trainer||0,"  Teacher: ",X.pmRoleDistribution&&X.pmRoleDistribution.Teacher||0,"  MHA: ",X.pmRoleDistribution&&X.pmRoleDistribution.MHA||0]}),f.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[X.unassignedPMStaff&&X.unassignedPMStaff.length>0&&f.jsxs("div",{className:"pt-2 border-t",children:[f.jsxs("div",{className:"font-medium text-orange-600 mb-1",children:["Unassigned (",X.unassignedPMStaff.length,"):"]}),f.jsx("div",{className:"text-xs space-y-1 max-h-20 overflow-y-auto",children:X.unassignedPMStaff.map(A=>f.jsxs("div",{className:`${A.role==="BCBA"?"text-purple-600":A.role==="BS"?"text-blue-600":A.role==="Director"?"text-red-600":A.role==="CC"?"text-yellow-600":A.role==="EA"?"text-pink-600":A.role==="Trainer"||A.role==="Teacher"?"text-orange-600":A.role==="MHA"?"text-indigo-600":A.role==="RBT"?"text-green-600":"text-gray-600"}`,children:[A.role," ",A.name]},A.id))})]}),X.absentPMStaff&&X.absentPMStaff.length>0&&f.jsxs("div",{className:"pt-2 border-t",children:[f.jsxs("div",{className:"font-medium text-red-600 mb-1",children:["Daily Absent (",X.absentPMStaff.length,"):"]}),f.jsx("div",{className:"text-xs space-y-1 max-h-20 overflow-y-auto",children:X.absentPMStaff.map(A=>f.jsxs("div",{className:`${A.role==="BCBA"?"text-purple-600":A.role==="BS"?"text-blue-600":A.role==="Director"?"text-red-600":A.role==="CC"?"text-yellow-600":A.role==="EA"?"text-pink-600":A.role==="Trainer"||A.role==="Teacher"?"text-orange-600":A.role==="MHA"?"text-indigo-600":A.role==="RBT"?"text-green-600":"text-gray-600"}`,children:[A.role," ",A.name]},A.id))})]}),X.unavailableStaff&&X.unavailableStaff.length>0&&f.jsxs("div",{className:"pt-2 border-t",children:[f.jsxs("div",{className:"font-medium text-gray-600 mb-1",children:["Unavailable (",X.unavailableStaff.length,"):"]}),f.jsx("div",{className:"text-xs space-y-1 max-h-20 overflow-y-auto",children:X.unavailableStaff.map(A=>f.jsxs("div",{className:`${A.role==="BCBA"?"text-purple-600":A.role==="BS"?"text-blue-600":A.role==="Director"?"text-red-600":A.role==="CC"?"text-yellow-600":A.role==="EA"?"text-pink-600":A.role==="Trainer"||A.role==="Teacher"?"text-orange-600":A.role==="MHA"?"text-indigo-600":A.role==="RBT"?"text-green-600":"text-gray-600"}`,children:[A.role," ",A.name]},A.id))})]})]})]})]})]})]}),f.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4 text-center",children:"Evoke Daily Schedule"}),f.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-6",children:[f.jsx("input",{type:"date",value:R,onChange:A=>B(A.target.value),className:"p-2 border rounded-md"}),f.jsx("button",{onClick:mc,className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition-colors",children:"Clear Schedule"}),f.jsx("button",{onClick:gc,className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 transition-colors",children:"Auto-Assign Sessions"}),f.jsx("button",{onClick:qa,className:`px-4 py-2 rounded-md transition-colors ${C.length>0?"bg-purple-500 text-white hover:bg-purple-600":"bg-gray-400 text-white cursor-not-allowed"}`,disabled:C.length===0,children:" Finalize Schedule"}),f.jsxs("button",{onClick:Fa,className:`px-4 py-2 rounded-md transition-colors flex items-center gap-2 ${C.length>0?"bg-indigo-500 text-white hover:bg-indigo-600":"bg-gray-400 text-white cursor-not-allowed"}`,disabled:C.length===0,children:[f.jsx(kT,{size:16}),"Export CSV"]}),f.jsx("button",{onClick:()=>Ke(!0),className:"bg-pink-500 text-white px-4 py-2 rounded-md hover:bg-pink-600 transition-colors",children:"Assignment History"}),f.jsx("button",{onClick:()=>Ct(!0),className:"bg-orange-500 text-white px-4 py-2 rounded-md hover:bg-orange-600 transition-colors",children:"Manage Staff"}),f.jsx("button",{onClick:()=>Qn(!0),className:"bg-teal-500 text-white px-4 py-2 rounded-md hover:bg-teal-600 transition-colors",children:"Staff & Client Attendance"}),f.jsx("button",{onClick:()=>te(!0),className:"bg-purple-500 text-white px-4 py-2 rounded-md hover:bg-purple-600 transition-colors",children:"Manage Teams"}),f.jsx("button",{onClick:()=>q(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors",children:"Add Staff"}),f.jsx("button",{onClick:()=>ee(!0),className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 transition-colors",children:"Add Client"})]}),f.jsx("div",{className:"bg-white border rounded-lg overflow-hidden shadow",children:f.jsx("div",{className:"max-h-96 overflow-y-auto",children:f.jsxs("table",{className:"w-full table-fixed",children:[f.jsx("thead",{className:"bg-gray-100 sticky top-0",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-3 py-3 text-left font-semibold text-gray-700 w-40",children:"STUDENT"}),f.jsx("th",{className:"px-3 py-3 text-left font-semibold text-gray-700 w-28",children:"PROGRAM"}),f.jsx("th",{className:"px-3 py-3 text-center font-semibold text-gray-700 w-44",children:"AM SESSION"}),f.jsxs("th",{className:"px-3 py-3 text-center font-semibold text-gray-700 w-36",children:["LUNCH 1",f.jsx("br",{}),f.jsx("span",{className:"text-xs",children:"(11:30-12:00)"})]}),f.jsxs("th",{className:"px-3 py-3 text-center font-semibold text-gray-700 w-36",children:["LUNCH 2",f.jsx("br",{}),f.jsx("span",{className:"text-xs",children:"(12:00-12:30)"})]}),f.jsx("th",{className:"px-3 py-3 text-center font-semibold text-gray-700 w-44",children:"PM SESSION"}),f.jsx("th",{className:"px-3 py-3 text-left font-semibold text-gray-700 w-64",children:"TEAM STAFF"}),f.jsx("th",{className:"px-3 py-3 text-center font-semibold text-gray-700 w-32",children:"Lock AM"}),f.jsx("th",{className:"px-3 py-3 text-center font-semibold text-gray-700 w-32",children:"Lock PM"})]})}),f.jsx("tbody",{children:p.map(A=>{const k=ha(A),F=h.filter(x=>x.available&&(A.teamStaff||[]).includes(x.name)),J=C.filter(x=>x.studentId===A.id&&x.timeSlot==="AM"),de=C.filter(x=>x.studentId===A.id&&x.timeSlot==="PM");return f.jsxs("tr",{className:"border-t bg-white",children:[f.jsxs("td",{className:"px-3 py-3 w-40",children:[f.jsx("div",{className:"font-medium text-gray-900",children:A.name}),f.jsxs("div",{className:"text-xs text-gray-500",children:[A.ratio,"  ",A.lunchSchedule," Lunch",A.requiresLunch1to1&&f.jsx("div",{className:"text-red-600",children:" 1:1 Lunch Required"}),A.lunchPairing&&!A.requiresLunch1to1&&f.jsx("div",{className:"text-blue-600",children:" Paired Lunch"})]})]}),f.jsx("td",{className:"px-3 py-3 text-left text-gray-800 font-medium w-28 text-sm",children:Gy(A)}),f.jsx("td",{className:`px-3 py-3 text-center text-xs font-medium rounded-md mx-1 w-44 ${k.amClass}`,children:f.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[f.jsx("div",{className:"w-full text-center",children:J.length>1?f.jsx("div",{className:"grid grid-cols-2 gap-1",children:J.sort((x,Ee)=>(x.position||1)-(Ee.position||1)).map((x,Ee)=>{const De=h.find(qe=>qe.id===x.staffId);return f.jsxs("div",{className:"text-xs border rounded p-1 bg-blue-50",children:[f.jsxs("div",{className:"font-semibold",children:["Staff ",x.position||Ee+1]}),f.jsx("div",{children:De?`${De.role} ${De.name}`:"Unknown"})]},Ee)})}):f.jsx("div",{children:k.amDisplay})}),(A.amRatio!==void 0?A.amRatio:A.ratio)==="2:1"?f.jsxs("div",{className:"grid grid-cols-2 gap-1 w-full mt-1",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("label",{className:"text-xs font-semibold mb-1",children:"Staff 1:"}),f.jsxs("select",{onChange:x=>li(A.id,"AM",x.target.value,1),className:"text-xs p-1 rounded border bg-white w-full",value:"",children:[f.jsx("option",{value:"",children:"Select Staff 1"}),h.filter(x=>x.available&&(A.teamStaff||[]).includes(x.name)).length>0?h.filter(x=>x.available&&(A.teamStaff||[]).includes(x.name)).map(x=>f.jsxs("option",{value:x.id,children:[x.role," ",x.name]},x.id)):f.jsx("option",{disabled:!0,value:"",children:"No team staff available"})]})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("label",{className:"text-xs font-semibold mb-1",children:"Staff 2:"}),f.jsxs("select",{onChange:x=>li(A.id,"AM",x.target.value,2),className:"text-xs p-1 rounded border bg-white w-full",value:"",children:[f.jsx("option",{value:"",children:"Select Staff 2"}),h.filter(x=>x.available&&(A.teamStaff||[]).includes(x.name)).map(x=>f.jsxs("option",{value:x.id,children:[x.role," ",x.name]},x.id))]})]})]}):f.jsxs("select",{onChange:x=>Ga(A.id,"AM",x.target.value),className:"text-xs p-1 rounded border bg-white w-full max-w-[140px]",value:"",children:[f.jsx("option",{value:"",children:"Manual Edit"}),h.filter(x=>x.available&&(A.teamStaff||[]).includes(x.name)).map(x=>f.jsxs("option",{value:x.id,children:[x.role," ",x.name]},x.id))]})]})}),f.jsx("td",{className:`px-3 py-3 text-center text-xs font-medium rounded-md mx-1 w-36 ${k.lunch1Class}`,children:f.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[f.jsx("div",{className:"w-full text-center",children:k.lunch1Display}),(k.lunch1Display==="NEEDED"||k.lunch1Display!=="N/A"&&k.lunch1Display!=="ABSENT")&&f.jsxs("select",{onChange:x=>Ga(A.id,"LUNCH1",x.target.value),className:"text-xs p-1 rounded border bg-white w-full max-w-[120px]",value:"",children:[f.jsx("option",{value:"",children:"Manual Edit"}),h.filter(x=>x.available).map(x=>f.jsxs("option",{value:x.id,children:[x.role," ",x.name]},x.id))]})]})}),f.jsx("td",{className:`px-3 py-3 text-center text-xs font-medium rounded-md mx-1 w-36 ${k.lunch2Class}`,children:f.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[f.jsx("div",{className:"w-full text-center",children:k.lunch2Display}),(k.lunch2Display==="NEEDED"||k.lunch2Display!=="N/A"&&k.lunch2Display!=="ABSENT")&&f.jsxs("select",{onChange:x=>Ga(A.id,"LUNCH2",x.target.value),className:"text-xs p-1 rounded border bg-white w-full max-w-[120px]",value:"",children:[f.jsx("option",{value:"",children:"Manual Edit"}),h.filter(x=>x.available).map(x=>f.jsxs("option",{value:x.id,children:[x.role," ",x.name]},x.id))]})]})}),f.jsx("td",{className:`px-3 py-3 text-center text-xs font-medium rounded-md mx-1 w-44 ${k.pmClass}`,children:f.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[f.jsx("div",{className:"w-full text-center",children:de.length>1?f.jsx("div",{className:"grid grid-cols-2 gap-1",children:de.sort((x,Ee)=>(x.position||1)-(Ee.position||1)).map((x,Ee)=>{const De=h.find(qe=>qe.id===x.staffId);return f.jsxs("div",{className:"text-xs border rounded p-1 bg-blue-50",children:[f.jsxs("div",{className:"font-semibold",children:["Staff ",x.position||Ee+1]}),f.jsx("div",{children:De?`${De.role} ${De.name}`:"Unknown"})]},Ee)})}):f.jsx("div",{children:k.pmDisplay})}),(A.pmRatio!==void 0?A.pmRatio:A.ratio)==="2:1"?f.jsxs("div",{className:"grid grid-cols-2 gap-1 w-full mt-1",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsx("label",{className:"text-xs font-semibold mb-1",children:"Staff 1:"}),f.jsxs("select",{onChange:x=>li(A.id,"PM",x.target.value,1),className:"text-xs p-1 rounded border bg-white w-full",value:"",children:[f.jsx("option",{value:"",children:"Select Staff 1"}),h.filter(x=>x.available&&(A.teamStaff||[]).includes(x.name)).map(x=>f.jsxs("option",{value:x.id,children:[x.role," ",x.name]},x.id))]})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("label",{className:"text-xs font-semibold mb-1",children:"Staff 2:"}),f.jsxs("select",{onChange:x=>li(A.id,"PM",x.target.value,2),className:"text-xs p-1 rounded border bg-white w-full",value:"",children:[f.jsx("option",{value:"",children:"Select Staff 2"}),h.filter(x=>x.available&&(A.teamStaff||[]).includes(x.name)).map(x=>f.jsxs("option",{value:x.id,children:[x.role," ",x.name]},x.id))]})]})]}):f.jsxs("select",{onChange:x=>Ga(A.id,"PM",x.target.value),className:"text-xs p-1 rounded border bg-white w-full max-w-[140px]",value:"",children:[f.jsx("option",{value:"",children:"Manual Edit"}),h.filter(x=>x.available&&(A.teamStaff||[]).includes(x.name)).map(x=>f.jsxs("option",{value:x.id,children:[x.role," ",x.name]},x.id))]})]})}),f.jsx("td",{className:"px-3 py-3 w-64",children:f.jsx("div",{className:"text-xs text-gray-600 leading-relaxed",children:Qa(A)})}),f.jsx("td",{className:"px-3 py-3 w-32",children:f.jsxs("select",{value:ue[A.id]?.AM||"",onChange:x=>os(A.id,"AM",x.target.value),className:"text-xs p-1 rounded border bg-white w-full",children:[f.jsx("option",{value:"",children:"--"}),F.map(x=>f.jsxs("option",{value:x.id,children:[x.name," (",x.role,")"]},x.id))]})}),f.jsx("td",{className:"px-3 py-3 w-32",children:f.jsxs("select",{value:ue[A.id]?.PM||"",onChange:x=>os(A.id,"PM",x.target.value),className:"text-xs p-1 rounded border bg-white w-full",children:[f.jsx("option",{value:"",children:"--"}),F.map(x=>f.jsxs("option",{value:x.id,children:[x.name," (",x.role,")"]},x.id))]})})]},A.id)})})]})})}),f.jsxs("div",{className:"flex gap-6 text-sm mt-6 flex-wrap",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-blue-100 border border-blue-200 rounded"}),f.jsx("span",{className:"text-gray-600",children:"Assigned (1:1)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-orange-100 border border-orange-200 rounded"}),f.jsx("span",{className:"text-gray-600",children:"Assigned (2:1)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-300 rounded"}),f.jsx("span",{className:"text-gray-600",children:"Locked Assignment "})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-purple-100 border border-purple-200 rounded"}),f.jsx("span",{className:"text-gray-600",children:"Lunch Coverage"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-yellow-100 border border-yellow-200 rounded"}),f.jsx("span",{className:"text-gray-600",children:"Needs Assignment"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 bg-gray-200 border border-gray-300 rounded"}),f.jsx("span",{className:"text-gray-600",children:"Student Absent"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:""}),f.jsx("span",{className:"text-gray-600",children:"AM/PM Scheduling Conflict"})]})]}),f.jsx(Fw,{show:T,onClose:()=>q(!1),onAddStaff:Yn}),f.jsx(Qw,{show:ie,onClose:()=>ee(!1),onAddClient:zr,availableStaff:h.filter(A=>A.available)}),f.jsx(Yw,{show:si,onClose:()=>Ct(!1),staff:h,onToggleAvailability:Ba,selectedDate:R,getStaffAttendance:Dn,updateStaffAttendance:rs}),f.jsx($w,{show:D,onClose:()=>te(!1),students:p,staff:h,onUpdateTeamStaff:Kr}),f.jsx(Vw,{show:Rt,onClose:()=>Qn(!1),students:p,selectedDate:R,getStudentAttendance:Ka,updateStudentAttendance:Tn}),f.jsx(Xw,{show:pe,onClose:()=>Ke(!1),students:p,staff:h,getRecentAssignments:Ni,getVarietyScore:pt,selectedDate:R,rawAssignmentHistory:qt}),f.jsx(Jw,{show:_i,onClose:()=>Cn(!1),analysis:X,selectedDate:R})]})})})};function Ww(){return f.jsx(Zw,{})}wT.createRoot(document.getElementById("root")).render(f.jsx(th.StrictMode,{children:f.jsx(Ww,{})}));
